{"version":3,"sources":["webpack:///./src/views/Activity/ScopingVisit/components/DetailModalMap.vue","webpack:///src/views/Activity/ScopingVisit/components/DetailModalMap.vue","webpack:///./src/views/Activity/ScopingVisit/components/DetailModalMap.vue?0fe4","webpack:///./src/views/Activity/ScopingVisit/components/DetailModalMap.vue?51e8"],"names":["render","_vm","this","_c","_self","staticClass","staticStyle","maps","loading","show","attrs","_v","_s","text","_e","scopedSlots","_u","key","fn","on","_g","_b","layers","selected","items","icon","_l","layer","layIndex","click","ref","fileNotFound","staticRenderFns","props","data","type","Object","default","village_polygon","dry_land_polygon","accessToken","mapStyle","model","attribution","center","url","legends","listMarker","zoom","geojson","layerId","hoveredStateId","layerStyle","outline","color","fill","popup","content","title","description","$store","state","showPolygonData","computed","exists","watch","val","getPolygonData","methods","errorResponse","error","console","log","response","status","localStorage","removeItem","$router","push","Swal","fire","message","confirmButtonColor","mapOptions","mapboxgl","supported","apiUrlImage","sourceId","_utils","generateRandomString","Date","now","getRandomColor","runLayer","omnivore","kml","GeoJsonData","toGeoJSON","features","map","i","id","length","Map","container","style","projection","dragRotate","disable","touchZoomRotate","disableRotation","addControl","FullscreenControl","setFog","NavigationControl","addSource","addLayer","turf","centerCoordinates","geometry","coordinates","flyTo","duration","err","component","VBtn","VCard","VCardText","VChip","VIcon","VMenu","VOverlay","VProgressCircular"],"mappings":"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","file":"js/chunk-2d0e956f.9901c6cc.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('v-card',{staticClass:\"rounded-xl elevation-0 overflow-hidden\"},[_c('v-card-text',{staticClass:\"pa-0\",staticStyle:{\"position\":\"relative\"}},[(_vm.maps.loading.show)?_c('v-overlay',{attrs:{\"absolute\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('div',{staticClass:\"d-flex flex-column align-center justify-center\"},[_c('v-progress-circular',{attrs:{\"size\":80,\"width\":7,\"indeterminate\":\"\",\"color\":\"white\"}}),_c('p',{staticClass:\"mb-0 text-center mt-4\"},[_vm._v(_vm._s(_vm.maps.loading.text || 'Loading...'))])],1)]):_vm._e(),_c('div',{staticClass:\"overflow-hidden rounded-xl\",staticStyle:{\"position\":\"relative\"},attrs:{\"id\":\"mapboxWrapper\",\"data-aos\":\"fade-down\"}},[_c('div',{staticStyle:{\"position\":\"absolute\",\"top\":\"10px\",\"left\":\"10px\",\"z-index\":\"2\"}},[_c('v-menu',{attrs:{\"transition\":\"slide-y-transition\",\"bottom\":\"\",\"content-class\":\"rounded-xl\"},scopedSlots:_vm._u([{key:\"activator\",fn:function({attrs, on}){return [_c('div',_vm._g(_vm._b({},'div',attrs,false),on),[_c('v-btn',{staticStyle:{\"position\":\"relative\",\"z-index\":\"3\"},attrs:{\"data-aos\":\"zoom-in\",\"data-aos-delay\":\"500\",\"fab\":\"\",\"small\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-layers-triple\")])],1),(_vm.layers.selected !== null)?_c('v-chip',{key:_vm.layers.key,staticClass:\"pl-7 white--text\",staticStyle:{\"transform\":\"translateX(-20px)\",\"z-index\":\"2\",\"cursor\":\"pointer\",\"background-color\":\"#00000099\"},attrs:{\"data-aos\":\"fade-right\",\"data-aos-delay\":\"700\"}},[_vm._v(_vm._s(_vm.layers.items[_vm.layers.selected].text || '-')+\" \"),_c('v-icon',{staticClass:\"ml-1 white--text\"},[_vm._v(_vm._s(_vm.layers.items[_vm.layers.selected].icon))])],1):_vm._e()],1)]}}])},[_c('v-card',[_c('v-card-text',{staticClass:\"pa-2\"},_vm._l((_vm.layers.items),function(layer,layIndex){return _c('v-btn',{key:`layer${layIndex}`,attrs:{\"text\":\"\",\"block\":\"\",\"rounded\":\"\"},on:{\"click\":() => _vm.layers.selected = layIndex}},[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(_vm._s(layer.icon))]),_vm._v(\" \"+_vm._s(layer.text)+\" \")],1)}),1)],1)],1)],1),_c('div',{key:_vm.maps.key,ref:\"mapbox\",staticClass:\"rounded-xl overflow-hidden\",staticStyle:{\"height\":\"300px\",\"width\":\"100%\"},attrs:{\"id\":\"DetailModalMapBoxContainer\"}}),(_vm.fileNotFound)?_c('div',{staticClass:\"d-flex flex-column justify-center align-center grey lighten-3\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"left\":\"0\",\"bottom\":\"0\",\"right\":\"0\"}},[_c('v-icon',{attrs:{\"size\":\"60\"}},[_vm._v(\"mdi-file-document-remove\")]),_vm._v(\" File data polygon tidak ditemukan \")],1):_vm._e()])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n      <v-card class=\"rounded-xl elevation-0 overflow-hidden\">\r\n        <v-card-text class=\"pa-0\" style=\"position: relative;\">\r\n            <!-- loading overlay -->\r\n            <v-overlay v-if=\"maps.loading.show\" absolute justify-center align-center>\r\n                <div class=\"d-flex flex-column align-center justify-center\">\r\n                    <v-progress-circular\r\n                        :size=\"80\"\r\n                        :width=\"7\"\r\n                        indeterminate\r\n                        color=\"white\"\r\n                    >\r\n                    </v-progress-circular>\r\n                    <p class=\"mb-0 text-center mt-4\">{{ maps.loading.text || 'Loading...' }}</p>\r\n                </div>\r\n            </v-overlay>\r\n            <!-- Mapbox -->\r\n            <div id=\"mapboxWrapper\"\r\n                data-aos=\"fade-down\"\r\n                class=\"overflow-hidden rounded-xl\" style=\"position: relative;\"\r\n            >\r\n                <!-- Toolbar -->\r\n                <div style=\"position: absolute;top: 10px;left: 10px;z-index: 2;\">\r\n                    <v-menu \r\n                        transition=\"slide-y-transition\"\r\n                        bottom\r\n                        content-class=\"rounded-xl\"\r\n                    >\r\n                        <template v-slot:activator=\"{attrs, on}\">\r\n                            <div v-bind=\"attrs\" v-on=\"on\">\r\n                                <v-btn data-aos=\"zoom-in\" data-aos-delay=\"500\" fab small style=\"position: relative;z-index: 3;\"><v-icon>mdi-layers-triple</v-icon></v-btn>\r\n                                <v-chip v-if=\"layers.selected !== null\" :key=\"layers.key\" data-aos=\"fade-right\" data-aos-delay=\"700\" class=\"pl-7 white--text\" style=\"transform: translateX(-20px);z-index: 2;cursor: pointer;background-color: #00000099;\">{{ layers.items[layers.selected].text || '-' }} \r\n                                    <v-icon class=\"ml-1 white--text\">{{ layers.items[layers.selected].icon }}</v-icon>\r\n                                </v-chip>\r\n                            </div>\r\n                        </template>\r\n                        <v-card>\r\n                            <v-card-text class=\"pa-2\">\r\n                                <v-btn v-for=\"(layer, layIndex) in layers.items\" :key=\"`layer${layIndex}`\" text block rounded @click=\"() => layers.selected = layIndex\">\r\n                                    <v-icon class=\"mr-1\">{{ layer.icon }}</v-icon> {{ layer.text }}\r\n                                </v-btn>\r\n                            </v-card-text>\r\n                        </v-card>\r\n                    </v-menu>\r\n                </div>\r\n                <!-- map -->\r\n                <div id=\"DetailModalMapBoxContainer\" ref=\"mapbox\" :key=\"maps.key\" style=\"height: 300px;width: 100%\" class=\"rounded-xl overflow-hidden\"></div>\r\n                <div v-if=\"fileNotFound\" style=\"position: absolute;top: 0;left: 0;bottom: 0;right: 0;\" class=\"d-flex flex-column justify-center align-center grey lighten-3\">\r\n                    <v-icon size=\"60\">mdi-file-document-remove</v-icon>\r\n                    File data polygon tidak ditemukan\r\n                </div>\r\n            </div>\r\n        </v-card-text>\r\n      </v-card>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\"\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n    props: {\r\n        data: {\r\n            type: Object,\r\n            default: {\r\n                village_polygon: null,\r\n                dry_land_polygon: null\r\n            }\r\n        }\r\n    },\r\n    data: () => ({\r\n        maps:{\r\n            accessToken: '',\r\n            mapStyle: '',\r\n            model: null,\r\n            attribution: '&copy; <a target=\"_blank\" href=\"http://osm.org/copyright\">OpenStreetMap</a>',\r\n            center: [113.921300, -0.789300],\r\n            // center: [39.826204, 21.422484],\r\n            // center: [107.52657620636666, -7.0917231719],\r\n            url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n            legends: {\r\n                model: ''\r\n            },\r\n            listMarker: [],\r\n            loading: {\r\n                show: false,\r\n                text: 'Loading...'\r\n            },\r\n            zoom: 3,\r\n            geojson: {},\r\n            key: 111,\r\n            layerId: 0,\r\n            hoveredStateId: 0,\r\n            layerStyle: {\r\n                outline: {\r\n                    color: '#000000'\r\n                },\r\n                fill: {\r\n                    color: '#f06800'\r\n                },\r\n            },\r\n            popup: {\r\n                model: false,\r\n                content: {\r\n                title: '',\r\n                description: ''\r\n                }\r\n            }\r\n        },\r\n        layers: {\r\n            selected: null,\r\n            key: 229290021,\r\n            items: [\r\n                {\r\n                    key: 'village_polygon', \r\n                    text: 'Desa', \r\n                    icon: 'mdi-home',\r\n                    url: ''\r\n                },\r\n                {\r\n                    key: 'dry_land_polygon', \r\n                    text: 'Lahan Kering',\r\n                    icon: 'mdi-land-plots-circle',\r\n                    url: ''\r\n                }\r\n            ]\r\n        }\r\n    }),\r\n    async mounted() {\r\n        this.maps.accessToken = this.$store.state.maps.accessToken\r\n        this.maps.mapStyle = this.$store.state.maps.mapStyle\r\n        if (this.showPolygonData) {}\r\n    },\r\n    computed: {\r\n        showPolygonData() {\r\n            const data = this.data\r\n            let exists = 0\r\n            this.layers.selected = null\r\n            \r\n            if (data.village_polygon) {\r\n                exists += 1\r\n                this.layers.items[0].url = data.village_polygon\r\n                this.layers.selected = 0\r\n            } else this.layers.items[0].url = null\r\n            if (data.dry_land_polygon) {\r\n                exists += 1\r\n                this.layers.items[1].url = data.dry_land_polygon\r\n                if (exists === 1) this.layers.selected = 1\r\n            } else this.layers.items[1].url = null\r\n            return exists > 0 ? true : false\r\n        },\r\n        fileNotFound() {\r\n            let selected = this.layers.selected\r\n            if (this.showPolygonData == false) return true\r\n            if (selected !== null) if (!this.layers.items[selected].url) return true\r\n            return false\r\n        }\r\n    },\r\n    watch: {\r\n        'layers.selected': {\r\n            async handler(val){\r\n                this.layers.key += 1\r\n                if (val !== null) await this.getPolygonData(val)\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        errorResponse(error) {\r\n            console.log(error)\r\n            if (error.response) {\r\n                if (error.response.status) {\r\n                    if (error.response.status == 401) {\r\n                        localStorage.removeItem(\"token\");\r\n                        this.$router.push(\"/\");\r\n                    } else Swal.fire({\r\n                        title: 'Error!',\r\n                        text: `${error.response.message}`,\r\n                        icon: 'error',\r\n                        confirmButtonColor: '#f44336',\r\n                    }) \r\n                } else Swal.fire({\r\n                    title: 'Error!',\r\n                    text: `${error.message}`,\r\n                    icon: 'error',\r\n                    confirmButtonColor: '#f44336',\r\n                }) \r\n            }\r\n        },\r\n        // maps\r\n        async getPolygonData(layIndex) {\r\n            try {\r\n                const mapOptions = this.maps\r\n                // console.log(mapOptions)\r\n                const layers = this.layers.items\r\n                mapboxgl.accessToken = mapOptions.accessToken\r\n                if (!mapboxgl.supported()) {\r\n                    Swal.fire({\r\n                        title: 'Warning!',\r\n                        text: `Your browser does not support Mapbox GL.`,\r\n                        icon: 'error',\r\n                        confirmButtonColor: '#f44336',\r\n                    }) \r\n                } else {\r\n                    if (layers[layIndex].url) {\r\n                        mapOptions.loading.show = true\r\n                        // console.log(layers[layIndex].url)\r\n                        const url = `${this.$store.state.apiUrlImage}${layers[layIndex].url}`\r\n                        let layerId = mapOptions.layerId\r\n                        const layerStyle = mapOptions.layerStyle\r\n                        const sourceId = this._utils.generateRandomString(5) + Date.now()\r\n                        \r\n                        layerStyle.fill.color = this._utils.getRandomColor()\r\n                        mapOptions.loading.text = 'Getting polygon data...'\r\n                        var runLayer = await omnivore.kml(url).on(\"ready\", async function() {\r\n                            const GeoJsonData = await runLayer.toGeoJSON()\r\n                            await GeoJsonData.features.map((val, i) => { \r\n                                val.id = layerId += 1\r\n                            })\r\n                            // console.log(GeoJsonData)\r\n                            if (GeoJsonData.features.length === 0) { \r\n                                mapOptions.loading.show = await false\r\n                                await Swal.fire({\r\n                                    title: 'Error!',\r\n                                    text: `Polygon Features is 0.`,\r\n                                    icon: 'error',\r\n                                    confirmButtonColor: '#f44336',\r\n                                }) \r\n                            } else {\r\n                                mapOptions.loading.text = 'Initialize map...'\r\n                                let map = await new mapboxgl.Map({\r\n                                    container: 'DetailModalMapBoxContainer', // container ID\r\n                                    style: mapOptions.mapStyle, // style URL\r\n                                    center: mapOptions.center,\r\n                                    zoom: mapOptions.zoom,\r\n                                    projection: 'globe'\r\n                                    // projection: 'equirectangular'\r\n                                });\r\n                                // console.log('map')\r\n                                // disable map rotation using right click + drag\r\n                                await map.dragRotate.disable();\r\n                                // disable map rotation using touch rotation gesture\r\n                                await map.touchZoomRotate.disableRotation();\r\n                                // add fullscreen function\r\n                                await map.addControl(new mapboxgl.FullscreenControl());\r\n                                await map.on(\"load\", async function() {\r\n                                    // add fog\r\n                                    await map.setFog({\r\n                                        color: 'rgb(186, 210, 235)', // Lower atmosphere\r\n                                        'high-color': 'rgb(36, 92, 223)', // Upper atmosphere\r\n                                        'horizon-blend': 0.02, // Atmosphere thickness (default 0.2 at low zooms)\r\n                                        'space-color': 'rgb(11, 11, 25)', // Background color\r\n                                        'star-intensity': 0.6 // Background star brightness (default 0.35 at low zoooms )\r\n                                    });\r\n                                    // Add zoom and rotation controls to the map.\r\n                                    await map.addControl(new mapboxgl.NavigationControl());\r\n                                    // Add a data source containing GeoJSON data.\r\n                                    await map.addSource(sourceId, {\r\n                                        'type': 'geojson',\r\n                                        'data': GeoJsonData\r\n                                    });\r\n                                    // Add a new layer to visualize the polygon.\r\n                                    await map.addLayer({\r\n                                        'id': `${sourceId}-fills`,\r\n                                        'type': 'fill',\r\n                                        'source': sourceId, // reference the data source\r\n                                        'layout': {},\r\n                                        'paint': {\r\n                                            'fill-color': layerStyle.fill.color, // blue color fill\r\n                                            'fill-opacity': [\r\n                                            'case',\r\n                                            ['boolean', ['feature-state', 'hover'], false],\r\n                                            0.1,\r\n                                            0.5\r\n                                            ]\r\n                                        }\r\n                                    });\r\n                                    // Add a black outline around the polygon.\r\n                                    await map.addLayer({\r\n                                        'id': `${sourceId}-outline`,\r\n                                        'type': 'line',\r\n                                        'source': sourceId,\r\n                                        'layout': {},\r\n                                        'paint': {\r\n                                            'line-color': layerStyle.outline.color,\r\n                                            'line-width': 2\r\n                                        }\r\n                                    });\r\n                                    // Centering view\r\n                                    var center = turf.center(GeoJsonData);\r\n                                    const centerCoordinates = center.geometry.coordinates\r\n                                    // console.log(centerCoordinates)\r\n                                    await map.flyTo({\r\n                                        center: [centerCoordinates[0], centerCoordinates[1]],\r\n                                        zoom: 11,\r\n                                        duration: 7 * 1000\r\n                                    });\r\n                                    mapOptions.loading.show = await false\r\n                                })\r\n                            }\r\n                        })\r\n                    }\r\n                }\r\n            } catch (err) {this.errorResponse(err)} finally {\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailModalMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailModalMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailModalMap.vue?vue&type=template&id=0ee98d5e&\"\nimport script from \"./DetailModalMap.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailModalMap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VBtn,VCard,VCardText,VChip,VIcon,VMenu,VOverlay,VProgressCircular})\n"],"sourceRoot":""}
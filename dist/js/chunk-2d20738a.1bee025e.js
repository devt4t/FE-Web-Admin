(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20738a"],{a038:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex align-center mb-2"},[n("p",{staticClass:"mb-0"},[n("v-icon",[e._v("mdi-map-marker")]),e._v(" Lokasi Lahan")],1),n("v-divider",{staticClass:"ml-2"})],1),n("v-card",{staticClass:"rounded-xl elevation-0 overflow-hidden mb-4",staticStyle:{width:"100%"}},[n("v-card-text",{staticClass:"pa-0",staticStyle:{position:"relative",width:"100%"}},[e.maps.loading.show?n("v-overlay",{attrs:{absolute:"","justify-center":"","align-center":""}},[n("div",{staticClass:"d-flex flex-column align-center justify-center"},[n("v-progress-circular",{attrs:{size:80,width:7,indeterminate:"",color:"white"}}),n("p",{staticClass:"mb-0 text-center mt-4"},[e._v(e._s(e.maps.loading.text||"Loading..."))])],1)]):e._e(),n("div",{staticClass:"overflow-hidden rounded-xl",staticStyle:{position:"relative",width:"100%"},attrs:{id:"mapboxWrapper","data-aos":"fade-down"}},[n("div",{key:this.section+e.maps.key,ref:this.section+"mapbox",staticClass:"rounded-xl overflow-hidden",staticStyle:{height:"300px",width:"100%!important"},attrs:{id:"LahanDetailMapboxContainer"+this.section}})])],1)],1)],1)},r=[],o=n("1da1"),s=(n("cb29"),n("ac1f"),n("1276"),n("99af"),n("96cf"),n("bc3a")),i=n.n(s),l=n("3d20"),c=n.n(l),d={props:{section:{type:String},long:{type:String,default:null},lat:{type:String,default:null},lahanNo:{type:String,default:null}},data:function(){return{maps:{accessToken:"",mapStyle:"",model:null,attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a>',center:[113.9213,-.7893],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",legends:{model:""},listMarker:[],loading:{show:!1,text:"Loading..."},zoom:3,geojson:{},key:9292183,layerId:0,hoveredStateId:0,layerStyle:{outline:{color:"#000000"},fill:{color:"#f06800"}},popup:{model:!1,content:{title:"",description:""}}}}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.maps.loading.show=!0,e.maps.accessToken=e.$store.state.maps.accessToken,e.maps.mapStyle=e.$store.state.maps.mapStyle,!e.lahanNo){t.next=9;break}if(!(e.lahanNo.length>0)){t.next=7;break}return t.next=7,e.initializeMapMultipleMarker(e.lahanNo);case 7:t.next=11;break;case 9:return t.next=11,e.initializeMap();case 11:case"end":return t.stop()}}),t)})))()},methods:{errorResponse:function(e){console.log(e),e.response&&(e.response.status?401==e.response.status?(localStorage.removeItem("token"),this.$router.push("/")):c.a.fire({title:"Error!",text:"".concat(e.response.message),icon:"error",confirmButtonColor:"#f44336"}):c.a.fire({title:"Error!",text:"".concat(e.message),icon:"error",confirmButtonColor:"#f44336"}))},initializeMap:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.maps,a=[t.long,t.lat],mapboxgl.accessToken=n.accessToken,mapboxgl.supported()){e.next=8;break}c.a.fire({title:"Warning!",text:"Your browser does not support Mapbox GL.",icon:"error",confirmButtonColor:"#f44336"}),e.next=19;break;case 8:if(!a){e.next=19;break}return n.loading.show=!0,n.layerId,r=n.layerStyle,r.fill.color=t._utils.getRandomColor(),n.loading.text="Initialize map...",e.next=16,new mapboxgl.Map({container:"LahanDetailMapboxContainer".concat(t.section),style:n.mapStyle,center:n.center,zoom:n.zoom,projection:"globe"});case 16:return s=e.sent,e.next=19,s.on("load",Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.setFog({color:"rgb(186, 210, 235)","high-color":"rgb(36, 92, 223)","horizon-blend":.02,"space-color":"rgb(11, 11, 25)","star-intensity":.6});case 2:return e.next=4,s.addControl(new mapboxgl.FullscreenControl);case 4:return e.next=6,s.addControl(new mapboxgl.NavigationControl);case 6:return(new mapboxgl.Marker).setLngLat(a).addTo(s),e.next=9,s.flyTo({center:a,zoom:9,duration:7e3});case 9:n.loading.show=!1;case 10:case"end":return e.stop()}}),e)}))));case 19:e.next=25;break;case 21:e.prev=21,e.t0=e["catch"](0),t.errorResponse(e.t0),t.maps.loading.show=!1;case 25:case"end":return e.stop()}}),e,null,[[0,21]])})))()},initializeMapMultipleMarker:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var a,r,s,l,d,p,u,m;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,a=t.maps,r=t.$store,s=t._utils,mapboxgl.accessToken=a.accessToken,mapboxgl.supported()){n.next=9;break}c.a.fire({title:"Warning!",text:"Your browser does not support Mapbox GL.",icon:"error",confirmButtonColor:"#f44336"}),n.next=22;break;case 9:return a.loading.show=!0,a.layerId,l=a.layerStyle,d=e.split(","),p=[],u=[],l.fill.color=t._utils.getRandomColor(),a.loading.text="Initialize map...",n.next=19,new mapboxgl.Map({container:"LahanDetailMapboxContainer".concat(t.section),style:a.mapStyle,center:a.center,zoom:a.zoom,projection:"globe"});case 19:return m=n.sent,n.next=22,m.on("load",Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n,o,l,c,g;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m.setFog({color:"rgb(186, 210, 235)","high-color":"rgb(36, 92, 223)","horizon-blend":.02,"space-color":"rgb(11, 11, 25)","star-intensity":.6});case 2:return e.next=4,m.doubleClickZoom.disable();case 4:return e.next=6,m.addControl(new mapboxgl.FullscreenControl);case 6:return e.next=8,m.addControl(new mapboxgl.NavigationControl);case 8:t=0;case 9:if(!(t<d.length)){e.next=18;break}return e.next=12,i.a.get(r.getters.getApiUrl("GetLahanDetail?id=1&lahan_no=".concat(d[t])),r.state.apiConfig);case 12:n=e.sent,o=n.data.data.result,o&&function(){var e=[parseFloat(o.longitude),parseFloat(o.latitude)],n="\n                                    <table>\n                                        <tr>\n                                            <td>Kabupaten</td>\n                                            <td>:</td>\n                                            <td>".concat(o.namaKabupaten||"-","</td>    \n                                        </tr>\n                                        <tr>\n                                            <td>Kecamatan</td>\n                                            <td>:</td>\n                                            <td>").concat(o.namaKecamatan||"-","</td>    \n                                        </tr>\n                                        <tr>\n                                            <td>Desa</td>\n                                            <td>:</td>\n                                            <td>").concat(o.namaDesa||"-","</td>    \n                                        </tr>\n                                        <tr>\n                                            <td>Petani</td>\n                                            <td>:</td>\n                                            <td>").concat(o.namaPetani||"-","</td>    \n                                        </tr>\n                                        <tr>\n                                            <td>Luas Lahan</td>\n                                            <td>:</td>\n                                            <td>").concat(s.numberFormat(o.land_area)," m<sup>2</sup></td>    \n                                        </tr>\n                                        <tr>\n                                            <td>Tipe Lahan</td>\n                                            <td>:</td>\n                                            <td>").concat(o.lahan_type||"-","</td>    \n                                        </tr>\n                                    </table>");p[t]=(new mapboxgl.Marker).setLngLat(e).setPopup((new mapboxgl.Popup).setHTML(n)).addTo(m),p[t].getElement().addEventListener("dblclick",(function(){m.flyTo({center:e,zoom:15,duration:3e3})})),u.push(e)}();case 15:t++,e.next=9;break;case 18:return console.log(u),l=turf.points(u),c=turf.center(l),g=c.geometry.coordinates,e.next=24,m.flyTo({center:g,zoom:14,duration:3e3});case 24:a.loading.show=!1;case 25:case"end":return e.stop()}}),e)}))));case 22:n.next=28;break;case 24:n.prev=24,n.t0=n["catch"](0),t.errorResponse(n.t0),t.maps.loading.show=!1;case 28:case"end":return n.stop()}}),n,null,[[0,24]])})))()}}},p=d,u=n("2877"),m=n("6544"),g=n.n(m),x=n("b0af"),h=n("99d9"),b=n("ce7e"),f=n("132d"),w=n("a797"),v=n("490a"),k=Object(u["a"])(p,a,r,!1,null,null,null);t["default"]=k.exports;g()(k,{VCard:x["a"],VCardText:h["c"],VDivider:b["a"],VIcon:f["a"],VOverlay:w["a"],VProgressCircular:v["a"]})}}]);
//# sourceMappingURL=chunk-2d20738a.1bee025e.js.map
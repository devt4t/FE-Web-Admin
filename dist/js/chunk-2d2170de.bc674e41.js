(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2170de"],{c4a8:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("v-breadcrumbs",{staticClass:"breadcrumbsmain",attrs:{dark:"dark"==t.$store.state.theme,"data-aos":"fade-right",items:[{text:"Activities",disabled:!0,href:"breadcrumbs_dashboard"},{text:"Progress",disabled:!0,href:"breadcrumbs_link_1"}],divider:">",large:""}}),e("div",{staticClass:"mx-9"},[e("v-alert",{attrs:{value:t.auth.alertToken,color:"red",elevation:"24",type:"error"}},[t._v(" Session Token Login Habis, Login Kembali ! ")])],1),e("v-dialog",{attrs:{"max-width":"500px",persistent:"","content-class":"rounded-lg",scrollable:""},model:{value:t.confirmation.show,callback:function(e){t.$set(t.confirmation,"show",e)},expression:"confirmation.show"}},[e("v-card",{staticClass:"rounded-xl"},[e("v-card-title",{staticClass:"mb-1 headermodalstyle"},[e("v-icon",{staticClass:"mr-2 white--text"},[t._v("mdi-help-circle")]),e("span",[t._v("Confirmation")]),e("v-divider",{staticClass:"mx-2",attrs:{dark:""}}),e("v-icon",{attrs:{color:"red"},on:{click:function(e){t.confirmation.show=!1}}},[t._v("mdi-close-circle")])],1),e("v-card-text",[e("h2",{staticClass:"text-center pt-4"},[t._v(t._s(t.confirmation.title))]),e("v-row",{staticClass:"mt-10 align-center mb-0"},[e("v-divider",{staticClass:"mx-2"}),e("v-btn",{attrs:{rounded:"",color:"red white--text mr-1"},on:{click:function(e){t.confirmation.show=!1}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Close ")],1),e("v-btn",{attrs:{rounded:"",color:"green white--text ml-1"},on:{click:function(e){return t.confirmationOk(t.confirmation.okText)}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.confirmation.okText)+" ")],1),e("v-divider",{staticClass:"mx-2"})],1)],1)],1)],1),e("v-expansion-panels",{staticClass:"mb-6 px-3",attrs:{multiple:"","data-aos":"fade-up","data-aos-delay":"200"},model:{value:t.expansions.model,callback:function(e){t.$set(t.expansions,"model",e)},expression:"expansions.model"}},[e("v-expansion-panel",{staticClass:"rounded-xl"},[e("v-expansion-panel-header",[e("v-btn",{staticClass:"mx-2",attrs:{dark:"",rounded:"",color:"green"}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-cog")]),t._v(" Masukan Konten Progression")],1)],1),e("v-expansion-panel-content",[e("v-row",{staticClass:"mx-2 pt-2"},[e("v-col",{attrs:{cols:"12",sm:"12",md:"4"}},[e("v-select",{attrs:{color:"success","item-color":"success","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},outlined:"","hide-details":"",rounded:"",items:t.$store.state.programYear.options,label:"Tahun Program",type:"string",rules:[t=>!!t||"Field is required"]},model:{value:t.options.programYear.model,callback:function(e){t.$set(t.options.programYear,"model",e)},expression:"options.programYear.model"}})],1),e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-autocomplete",{attrs:{color:"success","item-color":"success","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},outlined:"","hide-details":"",rounded:"",items:t.options.UM.items,"item-value":t.options.UM.itemValue,"item-text":t.options.UM.itemText,label:t.options.UM.loading?"Getting UM data...":t.options.UM.label,loading:t.options.UM.loading,"no-data-text":t.options.UM.loading?"Loading...":"No Data",placeholder:t.options.UM.loading?"Loading...":"Select UM",rules:[t=>!!t||"Field is required"],disabled:t.options.UM.disabled},on:{change:function(e){return t.optionsChanged("UM")}},scopedSlots:t._u([{key:"item",fn:function(a){return[e("v-list-item-content",[e("v-list-item-title",{domProps:{innerHTML:t._s(a.item[t.options.UM.itemText])}}),e("v-list-item-subtitle",[t._v(t._s(a.item[t.options.UM.itemValue]))])],1)]}}]),model:{value:t.options.UM.model,callback:function(e){t.$set(t.options.UM,"model",e)},expression:"options.UM.model"}})],1),e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-autocomplete",{attrs:{color:"success","item-color":"success","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},outlined:"","hide-details":"",clearable:"",rounded:"",items:t.options.FC.items,"item-value":t.options.FC.itemValue,"item-text":t.options.FC.itemText,label:t.options.FC.loading?"Getting FC data...":t.options.FC.label,loading:t.options.FC.loading,"no-data-text":t.options.FC.loading?"Loading...":"No Data",placeholder:t.options.FC.loading?"Loading...":"Select FC"},on:{change:function(e){return t.optionsChanged("FC")}},scopedSlots:t._u([{key:"item",fn:function(a){return[e("v-list-item-content",[e("v-list-item-title",{domProps:{innerHTML:t._s(a.item[t.options.UM.itemText])}}),e("v-list-item-subtitle",[t._v(t._s(a.item[t.options.UM.itemValue]))])],1)]}}]),model:{value:t.options.FC.model,callback:function(e){t.$set(t.options.FC,"model",e)},expression:"options.FC.model"}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-select",{attrs:{color:"success","item-color":"success","item-text":"value","item-value":"value","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},outlined:"",rounded:"","hide-details":"",chips:"",multiple:"",items:t.options.activities.items,label:t.options.activities.loading?"Getting activities data...":t.options.activities.label,loading:t.options.activities.loading,"no-data-text":t.options.activities.loading?"Loading...":"No Data",placeholder:t.options.activities.loading?"Loading...":"Select activities",rules:[t=>!!t||"Field is required"]},scopedSlots:t._u([{key:"selection",fn:function(a){return[e("v-chip",t._b({attrs:{"input-value":a.selected,color:"success",close:""},on:{click:a.select,"click:close":function(e){return t.removeFromActivitiesInput(a.item)}}},"v-chip",a.attrs,!1),[t._v(" "+t._s(a.item.value)+" ")])]}}]),model:{value:t.options.activities.model,callback:function(e){t.$set(t.options.activities,"model",e)},expression:"options.activities.model"}})],1),t.options.activities.model.includes("Pendataan Petani & Lahan")||t.options.activities.model.includes("Sosialisasi Tanam")||t.options.activities.model.includes("Penilikan Lubang")||t.options.activities.model.includes("Distribusi")?e("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"3"}},[e("p",{staticClass:"mb-1"},[t._v("Petani Date Range")]),e("v-menu",{attrs:{rounded:"xl",transition:"slide-x-transition",bottom:"",right:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e("v-btn",t._g(t._b({attrs:{rounded:"",color:"green lighten-1"}},"v-btn",s,!1),{...a,...i}),[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dates.farmer.toString().replace(","," to "))+" ")],1)]}}],null,!0)},[e("span",[t._v("Klik untuk memunculkan datepicker")])])]}}],null,!1,1708486034),model:{value:t.menus.farmer,callback:function(e){t.$set(t.menus,"farmer",e)},expression:"menus.farmer"}},[e("v-list",[e("v-list-item",[e("v-date-picker",{attrs:{color:"green lighten-1 rounded-xl",range:"",rounded:""},model:{value:t.dates.farmer,callback:function(e){t.$set(t.dates,"farmer",e)},expression:"dates.farmer"}}),e("br")],1),e("v-list-item",[e("v-spacer"),e("v-btn",{attrs:{color:"green lighten-1",center:"",rounded:""},on:{click:function(e){t.menus.farmer=!1}}},[t._v(" Ok ")]),e("v-spacer")],1)],1)],1)],1):t._e(),t.options.activities.model.includes("Pendataan Petani & Lahan")||t.options.activities.model.includes("Sosialisasi Tanam")||t.options.activities.model.includes("Penilikan Lubang")?e("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"3"}},[e("p",{staticClass:"mb-1"},[t._v("Lahan Date Range")]),e("v-menu",{attrs:{rounded:"xl",transition:"slide-x-transition",bottom:"",right:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e("v-btn",t._g(t._b({attrs:{rounded:"",color:"green lighten-1"}},"v-btn",s,!1),{...a,...i}),[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dates.land.toString().replace(","," to "))+" ")],1)]}}],null,!0)},[e("span",[t._v("Klik untuk memunculkan datepicker")])])]}}],null,!1,4268394042),model:{value:t.menus.land,callback:function(e){t.$set(t.menus,"land",e)},expression:"menus.land"}},[e("v-list",[e("v-list-item",[e("v-date-picker",{attrs:{color:"green lighten-1 rounded-xl",range:"",rounded:""},model:{value:t.dates.land,callback:function(e){t.$set(t.dates,"land",e)},expression:"dates.land"}}),e("br")],1),e("v-list-item",[e("v-spacer"),e("v-btn",{attrs:{color:"green lighten-1",center:"",rounded:""},on:{click:function(e){t.menus.land=!1}}},[t._v(" Ok ")]),e("v-spacer")],1)],1)],1)],1):t._e(),t.options.activities.model.includes("Sosialisasi Tanam")?e("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"2"}},[e("p",{staticClass:"mb-1"},[t._v("Sostam Date")]),e("v-menu",{attrs:{rounded:"xl",transition:"slide-x-transition",bottom:"",right:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e("v-btn",t._g(t._b({attrs:{rounded:"",color:"green lighten-1"}},"v-btn",s,!1),{...a,...i}),[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dates.sostam)+" ")],1)]}}],null,!0)},[e("span",[t._v("Klik untuk memunculkan datepicker")])])]}}],null,!1,2092735827),model:{value:t.menus.sostam,callback:function(e){t.$set(t.menus,"sostam",e)},expression:"menus.sostam"}},[e("v-list",[e("v-list-item",[e("v-date-picker",{attrs:{color:"green lighten-1 rounded-xl",rounded:""},model:{value:t.dates.sostam,callback:function(e){t.$set(t.dates,"sostam",e)},expression:"dates.sostam"}}),e("br")],1),e("v-list-item",[e("v-spacer"),e("v-btn",{attrs:{color:"green lighten-1",center:"",rounded:""},on:{click:function(e){t.menus.sostam=!1}}},[t._v(" Ok ")]),e("v-spacer")],1)],1)],1)],1):t._e(),t.options.activities.model.includes("Penilikan Lubang")||t.options.activities.model.includes("Distribusi")?e("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"2"}},[e("p",{staticClass:"mb-1"},[t._v("Penlub Date")]),e("v-menu",{attrs:{rounded:"xl",transition:"slide-x-transition",bottom:"",right:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e("v-btn",t._g(t._b({attrs:{rounded:"",color:"green lighten-1"}},"v-btn",s,!1),{...a,...i}),[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dates.penlub)+" ")],1)]}}],null,!0)},[e("span",[t._v("Klik untuk memunculkan datepicker")])])]}}],null,!1,3740046500),model:{value:t.menus.penlub,callback:function(e){t.$set(t.menus,"penlub",e)},expression:"menus.penlub"}},[e("v-list",[e("v-list-item",[e("v-date-picker",{attrs:{color:"green lighten-1 rounded-xl",rounded:""},model:{value:t.dates.penlub,callback:function(e){t.$set(t.dates,"penlub",e)},expression:"dates.penlub"}}),e("br")],1),e("v-list-item",[e("v-spacer"),e("v-btn",{attrs:{color:"green lighten-1",center:"",rounded:""},on:{click:function(e){t.menus.penlub=!1}}},[t._v(" Ok ")]),e("v-spacer")],1)],1)],1)],1):t._e(),t.options.activities.model.includes("Distribusi")?e("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"2"}},[e("p",{staticClass:"mb-1"},[t._v("Distribution Date")]),e("v-menu",{attrs:{rounded:"xl",transition:"slide-x-transition",bottom:"",right:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e("v-btn",t._g(t._b({attrs:{rounded:"",color:"green lighten-1"}},"v-btn",s,!1),{...a,...i}),[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dates.distribusi)+" ")],1)]}}],null,!0)},[e("span",[t._v("Klik untuk memunculkan datepicker")])])]}}],null,!1,3720884376),model:{value:t.menus.distribusi,callback:function(e){t.$set(t.menus,"distribusi",e)},expression:"menus.distribusi"}},[e("v-list",[e("v-list-item",[e("v-date-picker",{attrs:{color:"green lighten-1 rounded-xl",rounded:""},model:{value:t.dates.distribusi,callback:function(e){t.$set(t.dates,"distribusi",e)},expression:"dates.distribusi"}}),e("br")],1),e("v-list-item",[e("v-spacer"),e("v-btn",{attrs:{color:"green lighten-1",center:"",rounded:""},on:{click:function(e){t.menus.distribusi=!1}}},[t._v(" Ok ")]),e("v-spacer")],1)],1)],1)],1):t._e(),e("v-col",{staticClass:"d-flex align-items-center justify-center",attrs:{cols:"12"}},[e("v-btn",{staticClass:"my-2 white--text px-10",attrs:{color:"blue",rounded:"",disabled:t.btn.generateButton.disabled,"x-large":"",loading:t.btn.generateButton.loading},on:{click:function(e){return t.generateKPI()}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-calendar-start")]),e("span",{},[t._v("Jalankan")])],1),t.options.FC.model?e("v-btn",{staticClass:"ml-2 my-2 d-none d-md-inline-block",attrs:{disabled:t.btn.generateButton.disabled,color:"green white--text",rounded:"","x-large":""},on:{click:function(e){return t.exportExcel("Pendataan Petani & Lahan")}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-microsoft-excel")]),t._v(" Export Excel ")],1):t._e()],1)],1)],1)],1),t.filters.showed?e("v-expansion-panel",{staticClass:"rounded-xl mt-2"},[e("v-expansion-panel-header",[e("h3",{staticClass:"dark--text"},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-filter")]),t._v(" Filtered Panel")],1)]),e("v-expansion-panel-content",[t.filters.UM?e("v-chip",{staticClass:"mx-2 my-1 px-4",attrs:{color:"success"}},[t._v("UM - "+t._s(t.filters.UM))]):t._e(),t.filters.FC?e("v-chip",{staticClass:"mx-2 my-1 px-4",attrs:{color:"success"}},[t._v("FC - "+t._s(t.filters.FC))]):t._e()],1)],1):t._e(),t.tables.farmer.show?e("v-expansion-panel",{staticClass:"rounded-xl mt-2"},[e("v-expansion-panel-header",[e("h3",{},[e("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"green white--text"}},[e("v-icon",[t._v("mdi-table-account")])],1),t._v(" Pendataan Petani & Lahan")],1)]),e("v-expansion-panel-content",[e("v-data-table",{staticClass:"rounded-xl mx-3 pa-1 mb-5",attrs:{"multi-sort":"",headers:t.tables.farmer.headers,items:t.tables.farmer.items,search:t.tables.farmer.search,loading:t.tables.farmer.loading,"loading-text":"Loading... Please wait","items-per-page":15,"footer-props":{itemsPerPageOptions:[8,15,30,-1]}},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-row",{staticClass:"py-3 justify-center"},[e("v-spacer",{staticClass:"d-none d-md-inline-block"})],1)]},proxy:!0},{key:"header.petani1",fn:function(){return[t._v(" Petani ("+t._s(t.dateFormat(t.filters.dates.farmer[0],"DD MMM Y"))+") ")]},proxy:!0},{key:"header.petani2",fn:function(){return[t._v(" Petani ("+t._s(t.dateFormat(t.filters.dates.farmer[1],"DD MMM Y"))+") ")]},proxy:!0},{key:"item.progress_petani",fn:function({item:e}){return[t._v(" "+t._s(e.progress_petani)+"% ")]}},{key:"header.lahan1",fn:function(){return[t._v(" Lahan ("+t._s(t.dateFormat(t.filters.dates.land[0],"DD MMM Y"))+") ")]},proxy:!0},{key:"header.lahan2",fn:function(){return[t._v(" Lahan ("+t._s(t.dateFormat(t.filters.dates.land[1],"DD MMM Y"))+") ")]},proxy:!0},{key:"item.progress_lahan",fn:function({item:e}){return[t._v(" "+t._s(e.progress_lahan)+"% ")]}},{key:"item.actions",fn:function({item:a,index:s}){return[e("v-btn",{attrs:{dark:"",color:"red",rounded:"",icon:""},on:{click:()=>{t.tables.farmer.items.splice(s,1)}}},[e("v-icon",{},[t._v("mdi-close-circle")])],1)]}}],null,!1,2156004239)})],1)],1):t._e(),t.tables.sostam.show?e("v-expansion-panel",{staticClass:"rounded-xl mt-2"},[e("v-expansion-panel-header",[e("h3",{},[e("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"green white--text"}},[e("v-icon",[t._v("mdi-account-group")])],1),t._v(" Sosialisasi Tanam")],1)]),e("v-expansion-panel-content",[e("v-data-table",{staticClass:"rounded-xl mx-3 pa-1 mb-5",attrs:{"multi-sort":"",headers:t.tables.sostam.headers,items:t.tables.sostam.items,search:t.tables.sostam.search,loading:t.tables.sostam.loading,"loading-text":"Loading... Please wait","items-per-page":15,"footer-props":{itemsPerPageOptions:[8,15,30,-1]}},scopedSlots:t._u([{key:"top",fn:function(){return[t.filters.FC?e("v-row",{staticClass:"py-3 justify-center"},[e("v-spacer",{staticClass:"d-none d-md-inline-block"})],1):t._e()]},proxy:!0},{key:"header.total_petani",fn:function(){return[t._v(" Total Petani ("+t._s(t.dateFormat(t.filters.dates.farmer[1],"DD MMM Y"))+") ")]},proxy:!0},{key:"header.total_lahan",fn:function(){return[t._v(" Total Lahan ("+t._s(t.dateFormat(t.filters.dates.land[1],"DD MMM Y"))+") ")]},proxy:!0},{key:"header.total_sostam",fn:function(){return[t._v(" Total Sostam ("+t._s(t.dateFormat(t.filters.dates.sostam,"DD MMM Y"))+") ")]},proxy:!0},{key:"item.total_petani",fn:function({item:a}){return[e("strong",[t._v(t._s(a.total_petani))]),t._v(" Petani ")]}},{key:"item.total_lahan",fn:function({item:a}){return[e("strong",[t._v(t._s(a.total_lahan))]),t._v(" Lahan ")]}},{key:"item.total_sostam",fn:function({item:a}){return[e("strong",[t._v(t._s(a.total_sostam))]),t._v(" Sostam ")]}},{key:"item.progress_sostam",fn:function({item:a}){return[e("strong",[t._v(t._s(a.progress_sostam))]),t._v("% ")]}},{key:"item.total_bibit",fn:function({item:a}){return[e("strong",[t._v(t._s(t.numberFormat(a.total_bibit)))])]}},{key:"item.distribution_time",fn:function({item:a}){return["-"!=a.distribution_time?e("strong",[t._v(t._s(t.dateFormat(a.distribution_time,"DD-MM-Y")))]):e("span",[t._v("-")])]}},{key:"item.actions",fn:function({item:a,index:s}){return[e("v-btn",{attrs:{dark:"",color:"red",rounded:"",icon:""},on:{click:function(e){return t.removeSostamItem(s)}}},[e("v-icon",[t._v("mdi-close-circle")])],1)]}}],null,!1,1186532124)})],1)],1):t._e(),t.tables.pelpet.show?e("v-expansion-panel",{staticClass:"rounded-xl mt-2"},[e("v-expansion-panel-header",[e("h3",{},[e("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"green white--text"}},[e("v-icon",[t._v("mdi-school")])],1),t._v(" Pelatihan Petani")],1)]),e("v-expansion-panel-content",[e("v-data-table",{staticClass:"rounded-xl mx-3 pa-1 mb-5",attrs:{"multi-sort":"",headers:t.tables.pelpet.headers,items:t.tables.pelpet.items,search:t.tables.pelpet.search,loading:t.tables.pelpet.loading,"loading-text":"Loading... Please wait","items-per-page":15,"footer-props":{itemsPerPageOptions:[8,15,30,-1]}}})],1)],1):t._e(),t.tables.penlub.show?e("v-expansion-panel",{staticClass:"rounded-xl mt-2"},[e("v-expansion-panel-header",[e("h3",{},[e("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"green white--text"}},[e("v-icon",[t._v("mdi-pi-hole")])],1),t._v(" Penilikan Lubang Tanam")],1)]),e("v-expansion-panel-content",[e("v-data-table",{staticClass:"rounded-xl mx-3 pa-1 mb-5",attrs:{"multi-sort":"",headers:t.tables.penlub.headers,items:t.tables.penlub.items,search:t.tables.penlub.search,loading:t.tables.penlub.loading,"loading-text":"Loading... Please wait","items-per-page":15,"footer-props":{itemsPerPageOptions:[8,15,30,-1]}},scopedSlots:t._u([{key:"top",fn:function(){return[t.filters.FC?e("v-row",{staticClass:"py-3 justify-center"},[e("v-spacer",{staticClass:"d-none d-md-inline-block"})],1):t._e()]},proxy:!0},{key:"header.total_petani",fn:function(){return[t._v(" Total Petani ("+t._s(t.dateFormat(t.filters.dates.farmer[1],"DD MMM Y"))+") ")]},proxy:!0},{key:"header.total_lahan",fn:function(){return[t._v(" Total Lahan ("+t._s(t.dateFormat(t.filters.dates.land[1],"DD MMM Y"))+") ")]},proxy:!0},{key:"header.total_penlub",fn:function(){return[t._v(" Total Penlub ("+t._s(t.dateFormat(t.filters.dates.penlub,"DD MMM Y"))+") ")]},proxy:!0},{key:"item.total_petani",fn:function({item:a}){return[e("strong",[t._v(t._s(a.total_petani))]),t._v(" Petani ")]}},{key:"item.total_lahan",fn:function({item:a}){return[e("strong",[t._v(t._s(a.total_lahan))]),t._v(" Lahan ")]}},{key:"item.total_sostam",fn:function({item:a}){return[e("strong",[t._v(t._s(a.total_sostam))]),t._v(" Sostam ")]}},{key:"item.total_penlub",fn:function({item:a}){return[e("strong",[t._v(t._s(a.total_penlub))]),t._v(" Penlub ")]}},{key:"item.progress_penlub",fn:function({item:a}){return[e("strong",[t._v(t._s(a.progress_penlub))]),t._v("% ")]}},{key:"item.total_lubang",fn:function({item:a}){return[e("strong",[t._v(t._s(t.numberFormat(a.total_lubang)))])]}},{key:"item.total_lubang_standar",fn:function({item:a}){return[e("strong",[t._v(t._s(t.numberFormat(a.total_lubang_standar)))])]}},{key:"item.total_bibit",fn:function({item:a}){return[e("strong",[t._v(t._s(t.numberFormat(a.total_bibit)))])]}},{key:"item.actions",fn:function({item:a,index:s}){return[e("v-btn",{attrs:{dark:"",color:"red",rounded:"",icon:""},on:{click:function(e){return t.removeSostamItem(s)}}},[e("v-icon",[t._v("mdi-close-circle")])],1)]}}],null,!1,4149100428)})],1)],1):t._e(),t.tables.pupuk.show?e("v-expansion-panel",{staticClass:"rounded-xl mt-2"},[e("v-expansion-panel-header",[e("h3",{},[e("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"green white--text"}},[e("v-icon",[t._v("mdi-beer")])],1),t._v(" Material Organik (Pupuk)")],1)]),e("v-expansion-panel-content",[e("v-data-table",{staticClass:"rounded-xl mx-3 pa-1 mb-5",attrs:{"multi-sort":"",headers:t.tables.pupuk.headers,items:t.tables.pupuk.items,search:t.tables.pupuk.search,loading:t.tables.pupuk.loading,"loading-text":"Loading... Please wait","items-per-page":15,"footer-props":{itemsPerPageOptions:[8,15,30,-1]}},scopedSlots:t._u([{key:"top",fn:function(){return[t.filters.FC?e("v-row",{staticClass:"py-3 justify-center"},[e("v-spacer",{staticClass:"d-none d-md-inline-block"})],1):t._e()]},proxy:!0},{key:"header.total_petani",fn:function(){return[t._v(" Total Petani ("+t._s(t.dateFormat(t.filters.dates.farmer[1],"DD MMM Y"))+") ")]},proxy:!0},{key:"item.total_petani",fn:function({item:a}){return[e("strong",[t._v(t._s(a.total_petani))]),t._v(" Petani ")]}},{key:"item.progress_penlub",fn:function({item:a}){return[e("strong",[t._v(t._s(a.progress_penlub))]),t._v("% ")]}},{key:"item.progress_pupuk",fn:function({item:a}){return[e("strong",[t._v(t._s(a.progress_pupuk))]),t._v("% ")]}},{key:"item.total_lubang",fn:function({item:a}){return[e("strong",[t._v(t._s(t.numberFormat(a.total_lubang)))])]}},{key:"item.total_lubang_standar",fn:function({item:a}){return[e("strong",[t._v(t._s(t.numberFormat(a.total_lubang_standar)))])]}},{key:"item.total_amount_pupuks",fn:function({item:a}){return[e("strong",[t._v(t._s(t.numberFormat(a.total_amount_pupuks)))]),t._v(" ml ")]}},{key:"item.actions",fn:function({item:a,index:s}){return[e("v-btn",{attrs:{dark:"",color:"red",rounded:"",icon:""},on:{click:function(e){return t.removeSostamItem(s)}}},[e("v-icon",[t._v("mdi-close-circle")])],1)]}}],null,!1,130362593)})],1)],1):t._e(),t.tables.distribusi.show?e("v-expansion-panel",{staticClass:"rounded-xl mt-2"},[e("v-expansion-panel-header",[e("h3",{},[e("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"green white--text"}},[e("v-icon",[t._v("mdi-human-dolly")])],1),t._v(" Distribusi")],1)]),e("v-expansion-panel-content",[e("v-data-table",{staticClass:"rounded-xl mx-3 pa-1 mb-5",attrs:{"multi-sort":"",headers:t.tables.distribusi.headers,items:t.tables.distribusi.items,search:t.tables.distribusi.search,loading:t.tables.distribusi.loading,"loading-text":"Loading... Please wait","items-per-page":15,"footer-props":{itemsPerPageOptions:[8,15,30,-1]}},scopedSlots:t._u([{key:"header.total_petani",fn:function(){return[t._v(" Total Petani ("+t._s(t.dateFormat(t.filters.dates.farmer[1],"DD MMM Y"))+") ")]},proxy:!0},{key:"header.progress_penlub",fn:function(){return[t._v(" Penlub ("+t._s(t.dateFormat(t.filters.dates.penlub,"DD MMM Y"))+") ")]},proxy:!0},{key:"header.total_distribution",fn:function(){return[t._v(" Total Distribution ("+t._s(t.dateFormat(t.filters.dates.distribusi,"DD MMM Y"))+") ")]},proxy:!0},{key:"item.progress_penlub",fn:function({item:e}){return[t._v(" "+t._s(e.progress_penlub)+"% ")]}},{key:"item.penlub_total_bibit",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.penlub_total_bibit))+" ")]}},{key:"item.total_bibit_distribusi_all",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.total_bibit_distribusi_all))+" ")]}},{key:"item.total_bibit_distribusi_loaded",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.total_bibit_distribusi_loaded))+" ")]}},{key:"item.total_bibit_distribusi_distributed",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.total_bibit_distribusi_distributed))+" ")]}}],null,!1,1738910207)})],1)],1):t._e(),t.tables.monitoring1.show?e("v-expansion-panel",{staticClass:"rounded-xl mt-2"},[e("v-expansion-panel-header",[e("h3",{},[e("v-btn",{staticClass:"mr-1",attrs:{fab:"","x-small":"",color:"green white--text"}},[e("v-icon",[t._v("mdi-nature-people")])],1),t._v(" Realisasi Tanam / Monitoring 1")],1)]),e("v-expansion-panel-content",[e("v-data-table",{staticClass:"rounded-xl mx-3 pa-1 mb-5",attrs:{"multi-sort":"",headers:t.tables.monitoring1.headers,items:t.tables.monitoring1.items,search:t.tables.monitoring1.search,loading:t.tables.monitoring1.loading,"loading-text":"Loading... Please wait","items-per-page":15,"footer-props":{itemsPerPageOptions:[8,15,30,-1]}},scopedSlots:t._u([{key:"header.total_petani",fn:function(){return[t._v(" Total Petani ("+t._s(t.dateFormat(t.filters.dates.farmer[1],"DD MMM Y"))+") ")]},proxy:!0},{key:"header.total_distribution",fn:function(){return[t._v(" Total Distribution ("+t._s(t.dateFormat(t.filters.dates.distribusi,"DD MMM Y"))+") ")]},proxy:!0},{key:"item.progress_monitoring",fn:function({item:e}){return[t._v(" "+t._s(e.progress_monitoring)+"% ")]}},{key:"item.total_seed_received",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.total_seed_received))+" ")]}},{key:"item.total_seed_planted_live",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.total_seed_planted_live))+" ")]}},{key:"item.total_seed_dead",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.total_seed_dead))+" ")]}},{key:"item.total_seed_lost",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.total_seed_lost))+" ")]}}],null,!1,879293774)})],1)],1):t._e()],1),e("v-snackbar",{attrs:{color:t.snackbar.color,timeout:t.snackbar.timeout},model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[t._v(" "+t._s(t.snackbar.text)+" ")])],1)},i=[],n=a("bc3a"),o=a.n(n),l=a("c1df"),r=a.n(l),d=a("6480"),u={name:"LubangTanam",components:{VueHtml2pdf:d["a"]},data:()=>({auth:{alertToken:!1,baseUrl:"",baseUrlGet:"",baseUrlUpload:"",ff:"",token:"",typegetdata:"",user:""},confirmation:{model:null,okText:"",show:!1,title:"Confirmation"},dates:{farmer:["2022-08-31",r()().format("Y-MM-DD")],land:["2022-10-03",r()().format("Y-MM-DD")],sostam:r()().format("Y-MM-DD"),penlub:r()().format("Y-MM-DD"),pupuk:r()().format("Y-MM-DD"),distribusi:r()().format("Y-MM-DD")},btn:{generateButton:{loading:!1,disabled:!0}},expansions:{model:[0]},filters:{showed:!1,activities:[],dates:{farmer:[],land:[],sostam:"",penlub:"",distribusi:""},programYear:"",UM:"",FC:"",FF:""},menus:{farmer:!1,land:!1,sostam:!1,penlub:!1,pupuk:!1,distribusi:!1},options:{FC:{itemText:"name",itemValue:"nik",items:[],label:"Field Coordinator",loading:!1,model:""},programYear:{items:["2021","2022","2023"],model:""},UM:{disabled:!1,itemText:"name",itemValue:"nik",items:[],label:"Unit Manager",loading:!1,model:""},activities:{items:[{value:"Pendataan Petani & Lahan",disabled:!1},{value:"Sosialisasi Tanam",disabled:!1},{value:"Pelatihan Petani",disabled:!1},{value:"Penilikan Lubang",disabled:!1},{value:"Material Organik (Pupuk)",disabled:!1},{value:"Distribusi",disabled:!1},{value:"Realisasi Tanam",disabled:!1},{value:"Material Organik (Pestisida)",disabled:!0}],label:"Aktivitas",loading:!1,model:[]}},overlay:!1,snackbar:{color:"green",show:!1,text:"Snackbar",timeout:3e3},tables:{farmer:{headers:[{text:"Field Facilitator",value:"ff"},{text:"petani1",value:"petani1",align:"center"},{text:"petani2",value:"petani2",align:"center"},{text:"Petani Total",value:"total_petani",align:"center"},{text:"Petani Progress",value:"progress_petani",align:"center"},{text:"lahan1",value:"lahan1",align:"center"},{text:"lahan2",value:"lahan2",align:"center"},{text:"Lahan Total",value:"total_lahan",align:"center"},{text:"Lahan Progress",value:"progress_lahan",align:"center"}],items:[],loading:!1,search:"",show:!1},land:{headers:[],items:[],loading:!1,search:""},sostam:{headers:[{text:"Field Facilitator",value:"ff"},{text:"Total Petani",value:"total_petani",align:"center"},{text:"Total Lahan",value:"total_lahan",align:"center"},{text:"Sostam",value:"total_sostam",align:"center"},{text:"Sostam Progress",value:"progress_sostam",align:"center"},{text:"Total Bibit",value:"total_bibit",align:"center"},{text:"Tanggal Distribusi",value:"distribution_time",align:"center"}],items:[],loading:!1,search:"",show:!1,totalBibitDetails:{KAYU:[],MPTS:[],CROPS:[]}},pelpet:{headers:[{text:"Field Facilitator",value:"ff"},{text:"Petani",value:"total_farmer",align:"center"},{text:"Participant",value:"total_participant",align:"center"},{text:"Trainer",value:"trainee",align:"center"},{text:"Date",value:"training_date",align:"center"},{text:"Materi 1",value:"materi1",align:"center"},{text:"Materi 2",value:"materi2",align:"center"}],items:[],loading:!1,search:"",show:!1},penlub:{headers:[{text:"Field Facilitator",value:"ff"},{text:"Total Sostam",value:"total_sostam",align:"center"},{text:"Penlub",value:"total_penlub",align:"center"},{text:"Penlub Progress",value:"progress_penlub",align:"center"},{text:"Lubang",value:"total_lubang",align:"center"},{text:"Lubang Standar",value:"total_lubang_standar",align:"center"},{text:"Total Bibit",value:"total_bibit",align:"center"}],items:[],loading:!1,search:"",show:!1,totalBibitDetails:{KAYU:[],MPTS:[],CROPS:[]}},pupuk:{headers:[{text:"Field Facilitator",value:"ff"},{text:"Total Petani",value:"total_petani",align:"center"},{text:"Penlub Progress",value:"progress_penlub",align:"center"},{text:"Pupuk Progress",value:"progress_pupuk",align:"center"},{text:"Lubang",value:"total_lubang",align:"center"},{text:"Lubang Standar",value:"total_lubang_standar",align:"center"},{text:"Total Pupuk",value:"total_amount_pupuks",align:"center"}],items:[],loading:!1,search:"",show:!1},distribusi:{headers:[{text:"Field Facilitator",value:"ff"},{text:"Penlub Bibit",value:"penlub_total_bibit",align:"center"},{text:"D. Bibit All",value:"total_bibit_distribusi_all",align:"center"},{sortable:!1,text:"D. Bibit Loaded",value:"total_bibit_distribusi_loaded",align:"center"},{sortable:!1,text:"D. Bibit Distributed",value:"total_bibit_distribusi_distributed",align:"center"},{sortable:!1,text:"D. Bibit Broken",value:"total_bibit_distribusi_broken",align:"center"},{sortable:!1,text:"D. Bibit Missing",value:"total_bibit_distribusi_missing",align:"center"},{sortable:!1,text:"D. Bibit Received",value:"total_bibit_distribusi_received",align:"center"}],items:[],loading:!1,search:"",show:!1,totalBibitDetails:{KAYU:[],MPTS:[],CROPS:[]}},monitoring1:{headers:[{text:"Field Facilitator",value:"ff"},{sortable:!1,text:"Total Petani",value:"total_petani",align:"center"},{sortable:!1,text:"Total Distribusi",value:"total_distribusi",align:"center"},{sortable:!1,text:"Total Monitoring",value:"total_monitoring",align:"center"},{sortable:!0,text:"Progress Monitoring",value:"progress_monitoring",align:"center"},{sortable:!1,text:"Received Seedlings",value:"total_seed_received",align:"center"},{sortable:!1,text:"Planted Live Seedlings",value:"total_seed_planted_live",align:"center"},{sortable:!1,text:"Dead Seedlings",value:"total_seed_dead",align:"center"},{sortable:!1,text:"Lost Seedlings",value:"total_seed_lost",align:"center"}],items:[],loading:!1,search:"",show:!1,totalBibitDetails:{KAYU:[],MPTS:[],CROPS:[]}}}}),async mounted(){await this.firstAccessPage()},destroyed(){this.$store.state.loadingOverlay=!1,this.$store.state.loadingOverlayText=null},watch:{"dates.farmer":{handler(){this.getButtonGenerateKPIDisabledCondition()}},"dates.land":{handler(){this.getButtonGenerateKPIDisabledCondition()}},"expansions.model":{handler(t){}},"filters.activities":{handler(t){}},"options.activities.model":{handler(){this.getButtonGenerateKPIDisabledCondition()}},"options.FC.model":{handler(){this.getButtonGenerateKPIDisabledCondition()}},"options.UM.model":{handler(){this.getButtonGenerateKPIDisabledCondition()}}},methods:{async firstAccessPage(){this.auth.token=localStorage.getItem("token"),this.auth.user=JSON.parse(localStorage.getItem("User")),this.auth.ff=this.auth.user.ff.ff,this.auth.typegetdata=this.auth.user.ff.value_data,this.auth.baseUrlGet=localStorage.getItem("BaseUrlGet"),this.auth.baseUrl=localStorage.getItem("BaseUrl"),this.auth.baseUrlUpload=localStorage.getItem("BaseUrlUpload"),this.options.programYear.model=this.$store.state.programYear.model,"UNIT MANAGER"==this.auth.user.role_name&&(this.options.UM.model=this.auth.user.employee_no,this.options.UM.disabled=!0,this.optionsChanged("UM")),await this.getUMAll()},async generateKPI(){this.btn.generateButton.loading=!0;const t=this.options.activities.model;let e=[],a=2;t.includes("Pendataan Petani & Lahan")?(await e.push(a),a+=1,this.filters.activities.push("Pendataan Petani & Lahan"),this.tables.farmer.show=!0):this.tables.farmer.show=!1,t.includes("Sosialisasi Tanam")?(await e.push(a),a+=1,this.filters.activities.push("Sosialisasi Tanam"),this.tables.sostam.show=!0):this.tables.sostam.show=!1,t.includes("Pelatihan Petani")?(await e.push(a),a+=1,this.filters.activities.push("Pelatihan Petani"),this.tables.pelpet.show=!0):this.tables.pelpet.show=!1,t.includes("Penilikan Lubang")?(await e.push(a),a+=1,this.filters.activities.push("Penilikan Lubang"),this.tables.penlub.show=!0):this.tables.penlub.show=!1,t.includes("Material Organik (Pupuk)")?(await e.push(a),a+=1,this.filters.activities.push("Material Organik (Pupuk)"),this.tables.pupuk.show=!0):this.tables.pupuk.show=!1,t.includes("Distribusi")?(await e.push(a),a+=1,this.filters.activities.push("Distribusi"),this.tables.distribusi.show=!0):this.tables.distribusi.show=!1,t.includes("Realisasi Tanam")?(await e.push(a),a+=1,this.filters.activities.push("Realisasi Tanam"),this.tables.monitoring1.show=!0):this.tables.monitoring1.show=!1,this.filters.showed=!0,this.expansions.model=[1,...e],this.options.UM.model&&this.options.FC.model?await this.generateKPIbyFC(this.options.FC.model):this.options.UM.model&&await this.generateKPIbyUM(),this.btn.generateButton.loading=!1},async generateKPIbyFC(t){try{await Promise.all(this.tables.farmer.headers.map(async(t,e)=>{"FC"==t.text&&await this.tables.farmer.headers.splice(e,1)})),await Promise.all(this.tables.sostam.headers.map(async(t,e)=>{"FC"==t.text&&await this.tables.sostam.headers.splice(e,1)})),await Promise.all(this.tables.pelpet.headers.map(async(t,e)=>{"FC"==t.text&&await this.tables.pelpet.headers.splice(e,1)})),await Promise.all(this.tables.penlub.headers.map(async(t,e)=>{"FC"==t.text&&await this.tables.penlub.headers.splice(e,1)})),await Promise.all(this.tables.pupuk.headers.map(async(t,e)=>{"FC"==t.text&&await this.tables.pupuk.headers.splice(e,1)})),await Promise.all(this.tables.distribusi.headers.map(async(t,e)=>{"FC"==t.text&&await this.tables.distribusi.headers.splice(e,1)})),await Promise.all(this.tables.monitoring1.headers.map(async(t,e)=>{"FC"==t.text&&await this.tables.monitoring1.headers.splice(e,1)}));let e=new URLSearchParams({activities:this.options.activities.model.join(),fc_no:t,program_year:this.options.programYear.model,dates:[this.dates.farmer[0],this.dates.farmer[1],this.dates.land[0],this.dates.land[1],this.dates.sostam,this.dates.penlub,this.dates.distribusi]});this.tables.farmer.loading=!0,this.tables.sostam.loading=!0,this.tables.pelpet.loading=!0,this.tables.penlub.loading=!0,this.tables.pupuk.loading=!0,this.tables.distribusi.loading=!0,this.tables.monitoring1.loading=!0;const a=await o.a.get(this.auth.baseUrlGet+"KPIFCDev?"+e,{headers:{Authorization:"Bearer "+this.auth.token}});let s=a.data.data.result,i=[];s.petani_lahan.length>0&&await s.petani_lahan.forEach(t=>{i.push({ff:t.ff,...t.petani,...t.lahan})}),this.tables.farmer.items=i,this.tables.sostam.items=s.sostam,this.tables.pelpet.items=s.pelpet,this.tables.penlub.items=s.penlub,this.tables.pupuk.items=s.pupuk,this.tables.distribusi.items=s.distribusi,this.tables.monitoring1.items=s.monitoring1,this.generateTotalBibitDetails(s.sostam,"sostam"),this.generateTotalBibitDetails(s.penlub,"penlub"),await this.setFilterData(s)}catch(e){console.error(e),this.sessionEnd(e)}finally{this.tables.farmer.loading=!1,this.tables.sostam.loading=!1,this.tables.pelpet.loading=!1,this.tables.penlub.loading=!1,this.tables.pupuk.loading=!1,this.tables.distribusi.loading=!1,this.tables.monitoring1.loading=!1}},async generateKPIbyUM(){try{this.tables.farmer.loading=!0,this.tables.sostam.loading=!0,this.tables.pelpet.loading=!0,this.tables.penlub.loading=!0,this.tables.distribusi.loading=!0,this.tables.monitoring1.loading=!0,this.$store.state.loadingOverlay=!0;let t=0;await Promise.all(this.tables.farmer.headers.map(async(e,a)=>{"FC"==e.text&&(t+=1)})),0==t&&(this.tables.farmer.headers=[{text:"FC",value:"fc"},...this.tables.farmer.headers]);let e=0;await Promise.all(this.tables.sostam.headers.map(async(t,a)=>{"FC"==t.text&&(e+=1)})),0==e&&(this.tables.sostam.headers=[{text:"FC",value:"fc"},...this.tables.sostam.headers]);let a=0;await Promise.all(this.tables.pelpet.headers.map(async(t,e)=>{"FC"==t.text&&(a+=1)})),0==a&&(this.tables.pelpet.headers=[{text:"FC",value:"fc"},...this.tables.pelpet.headers]);let s=0;await Promise.all(this.tables.penlub.headers.map(async(t,e)=>{"FC"==t.text&&(s+=1)})),0==s&&(this.tables.penlub.headers=[{text:"FC",value:"fc"},...this.tables.penlub.headers]);let i=0;await Promise.all(this.tables.distribusi.headers.map(async(t,e)=>{"FC"==t.text&&(i+=1)})),0==i&&(this.tables.distribusi.headers=[{text:"FC",value:"fc"},...this.tables.distribusi.headers]);let n=0;await Promise.all(this.tables.monitoring1.headers.map(async(t,e)=>{"FC"==t.text&&(n+=1)})),0==n&&(this.tables.monitoring1.headers=[{text:"FC",value:"fc"},...this.tables.monitoring1.headers]);const l=this.options.FC.items||[];let r=[],d=[],u=[],c=[],m=[],p=[],b=l.length,h=0;this.$store.state.loadingOverlayText=`Getting KPI FC (<strong>${h} / ${b}</strong>) datas...`;for(let v=0;v<b;v++){let t=new URLSearchParams({activities:this.options.activities.model.join(),fc_no:l[v].nik,program_year:this.options.programYear.model,dates:[this.dates.farmer[0],this.dates.farmer[1],this.dates.land[0],this.dates.land[1],this.dates.sostam,this.dates.penlub,this.dates.distribusi]});await o.a.get(this.auth.baseUrlGet+"KPIFCDev?"+t,{headers:{Authorization:"Bearer "+this.auth.token}}).then(t=>{let e=t.data.data.result;e.petani_lahan.length>0&&e.petani_lahan.forEach(t=>{r.push({fc:l[v].name,ff:t.ff,...t.petani,...t.lahan})}),e.sostam.length>0&&e.sostam.forEach(t=>{d.push({fc:l[v].name,...t})}),e.pelpet.length>0&&e.pelpet.forEach(t=>{u.push({fc:l[v].name,...t})}),e.penlub.length>0&&e.penlub.forEach(t=>{c.push({fc:l[v].name,...t})}),e.distribusi.length>0&&e.distribusi.forEach(t=>{m.push({fc:l[v].name,...t})}),e.monitoring1.length>0&&e.monitoring1.forEach(t=>{p.push({fc:l[v].name,...t})}),0==v&&this.setFilterData({um:e.um}),h+=1,this.$store.state.loadingOverlayText=`Getting KPI FC (<strong>${h} / ${b}</strong>) datas...`}).finally(()=>{h==b&&(this.$store.state.loadingOverlay=!1,this.$store.state.loadingOverlayText=null,this.tables.farmer.loading=!1,this.tables.sostam.loading=!1,this.tables.pelpet.loading=!1,this.tables.penlub.loading=!1,this.tables.distribusi.loading=!1,this.tables.monitoring1.loading=!1)})}this.tables.farmer.items=r,this.tables.sostam.items=d,this.tables.pelpet.items=u,this.tables.penlub.items=c,this.tables.distribusi.items=m,this.tables.monitoring1.items=p}catch(t){console.error(t),this.sessionEnd(t)}},getButtonGenerateKPIDisabledCondition(){let t=0;if(this.options.UM.model||(t+=1),this.options.activities.model.length<1)t+=1;else if(this.options.activities.model.includes("Pendataan Petani & Lahan"))if(this.dates.farmer.length<2||this.dates.land.length<2)t+=1;else{if(this.dates.farmer[0]>this.dates.farmer[1]){const t=[this.dates.farmer[1],this.dates.farmer[0]];this.dates.farmer=t}if(this.dates.land[0]>this.dates.land[1]){const t=[this.dates.land[1],this.dates.land[0]];this.dates.land=t}}this.btn.generateButton.disabled=0!=t},async getFCbyManager(t){this.options.FC.model="",this.options.FC.loading=!0;try{const e=await o.a.get(this.auth.baseUrlGet+"GetEmployeebyManager?manager_code="+t+"&position=19",{headers:{Authorization:"Bearer "+this.auth.token}});this.options.FC.items=e.data.data.result.data}catch(e){console.error(e.response),this.sessionEnd(e)}finally{this.options.FC.loading=!1}},async getUMAll(){try{this.options.UM.loading=!0;const t=await o.a.get(this.auth.baseUrlGet+"GetEmployeebyPosition?position_code=20",{headers:{Authorization:"Bearer "+this.auth.token}});this.options.UM.items=t.data.data.result.data}catch(t){console.error(t.response),this.sessionEnd(t)}finally{this.options.UM.loading=!1}},optionsChanged(t){"UM"==t&&this.options.UM.model&&this.getFCbyManager(this.options.UM.model)},removeFromActivitiesInput(t){const e=this.options.activities.model.indexOf(t.value);e>=0&&this.options.activities.model.splice(e,1)},async confirmationOk(t){this.confirmation.show=!1},confirmationShow(t,e){},dateFormat(t,e){return r()(t).format(e)},exportExcel(){let t=new URLSearchParams({activities:this.options.activities.model.join(),fc_no:this.options.FC.model,program_year:this.options.programYear.model,dates:[this.dates.farmer[0],this.dates.farmer[1],this.dates.land[0],this.dates.land[1],this.dates.sostam,this.dates.penlub,this.dates.distribusi]});window.open(`${this.auth.baseUrlGet.substring(0,this.auth.baseUrlGet.length-4)}KPIExportExcel?${t}`)},getProgramYearPetani(t){return"_"===t.slice(13,14)?t.slice(9,13):t.slice(4,8)},generateReport(t){"Pendataan Petani & Lahan"==t?this.$refs.exportPDFPendataanPetaniLahan.generatePdf():"Sosialisasi Tanam"==t?this.$refs.exportPDFSosialisasiTanam.generatePdf():"Penilikan Lubang"==t&&this.$refs.exportPDFPenilikanLubang.generatePdf()},generateFormData(t){let e=new FormData;const a=Object.entries(t);return a.forEach(([t,a])=>{Array.isArray(a)?a.map(a=>{e.append(t+"[]",a)}):e.append(t,a)}),e},generateTotalBibitDetails(t,e){this.tables[e].totalBibitDetails={KAYU:[],MPTS:[],CROPS:[]},t.forEach((t,a)=>{t.total_bibit_details.forEach((t,a)=>{let s=0;this.tables[e].totalBibitDetails[t.category].forEach((a,i)=>{a.tree_code==t.tree_code&&(this.tables[e].totalBibitDetails[t.category][i].amount+=t.amount,s+=1)}),0==s&&t.amount>0&&this.tables[e].totalBibitDetails[t.category].push(t)})})},getTotalBibitPerCategory(t,e){let a=0;return this.tables[e].totalBibitDetails[t].forEach(t=>{a+=t.amount}),this.numberFormat(a)},numberFormat(t){return new Intl.NumberFormat("id-ID").format(t)},pageBreakIndex(t){const e=[21,52,83];return e.includes(t)?"html2pdf__page-break":""},async removeSostamItem(t){this.tables.sostam.items.splice(t,1)},sessionEnd(t){"undefined"!=typeof t.response.status&&401==t.response.status&&(this.auth.alertToken=!0,localStorage.removeItem("token"),this.$router.push("/"))},async setFilterData(t){this.filters.UM=t.um||"",this.filters.FC=t.fc||"",this.filters.dates.farmer=this.dates.farmer,this.dates.farmer=["2022-08-31",r()().format("Y-MM-DD")],this.filters.dates.land=this.dates.land,this.dates.land=["2022-10-03",r()().format("Y-MM-DD")],this.filters.dates.sostam=this.dates.sostam,this.dates.sostam=r()().format("Y-MM-DD"),this.filters.dates.penlub=this.dates.penlub,this.dates.penlub=r()().format("Y-MM-DD"),this.filters.dates.distribusi=this.dates.distribusi,this.dates.distribusi=r()().format("Y-MM-DD")}}},c=u,m=a("2877"),p=a("6544"),b=a.n(p),h=a("0798"),v=a("c6a6"),g=a("2bc5"),f=a("8336"),_=a("b0af"),x=a("99d9"),k=a("cc20"),y=a("62ad"),P=a("8fea"),C=a("2e4b"),M=a("169a"),F=a("ce7e"),w=a("cd55"),D=a("49e2"),S=a("c865"),T=a("0393"),U=a("132d"),L=a("8860"),Y=a("da13"),B=a("5d23"),I=a("e449"),$=a("0fd9"),V=a("b974"),O=a("2db4"),E=a("2fa4"),K=a("3a2f"),A=Object(m["a"])(c,s,i,!1,null,null,null);e["default"]=A.exports;b()(A,{VAlert:h["a"],VAutocomplete:v["a"],VBreadcrumbs:g["a"],VBtn:f["a"],VCard:_["a"],VCardText:x["c"],VCardTitle:x["d"],VChip:k["a"],VCol:y["a"],VDataTable:P["a"],VDatePicker:C["a"],VDialog:M["a"],VDivider:F["a"],VExpansionPanel:w["a"],VExpansionPanelContent:D["a"],VExpansionPanelHeader:S["a"],VExpansionPanels:T["a"],VIcon:U["a"],VList:L["a"],VListItem:Y["a"],VListItemContent:B["a"],VListItemSubtitle:B["b"],VListItemTitle:B["c"],VMenu:I["a"],VRow:$["a"],VSelect:V["a"],VSnackbar:O["a"],VSpacer:E["a"],VTooltip:K["a"]})}}]);
//# sourceMappingURL=chunk-2d2170de.bc674e41.js.map
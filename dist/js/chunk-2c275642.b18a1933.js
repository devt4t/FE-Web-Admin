(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c275642"],{"2bc5":function(t,e,a){"use strict";var s=a("5530"),r=(a("a15b"),a("abd3"),a("ade3")),n=a("1c87"),i=a("58df"),o=Object(i["a"])(n["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(t){var e=this.generateRouteLink(),a=e.tag,r=e.data;return t("li",[t(a,Object(s["a"])(Object(s["a"])({},r),{},{attrs:Object(s["a"])(Object(s["a"])({},r.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=a("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),u=a("7560");e["a"]=Object(i["a"])(u["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(s["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var t=[],e=!!this.$scopedSlots.item,a=[],s=0;s<this.items.length;s++){var r=this.items[s];a.push(r.text),e?t.push(this.$scopedSlots.item({item:r})):t.push(this.$createElement(o,{key:a.join("."),props:r},[r.text])),s<this.items.length-1&&t.push(this.genDivider())}return t}},render:function(t){var e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},abd3:function(t,e,a){},e07d:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-breadcrumbs",{staticClass:"breadcrumbsmain",attrs:{dark:"dark"==t.$store.state.theme,"data-aos":"fade-right",items:t.breadcrumbs,divider:">",large:""}}),a("FormModal",{key:t.modals.form.key,attrs:{show:t.modals.form.show,id:t.modals.form.data,programYear:t.localConfig.programYear},on:{action:function(e){return t.modalActions(e)},swal:function(e){return t.swalActions(e)}}}),a("DetailModal",{key:t.modals.detail.key,attrs:{show:t.modals.detail.show,id:t.modals.detail.data,programYear:t.localConfig.programYear},on:{action:function(e){return t.modalActions(e)},swal:function(e){return t.swalActions(e)}}}),a("v-data-table",{class:(t.$store.state.theme," rounded-xl elevation-6 mx-3 pa-1"),attrs:{"data-aos":"fade-up","data-aos-delay":"200","multi-sort":"",headers:t.table.headers,items:t.table.items,search:t.table.search,loading:t.table.loading.show,"loading-text":t.table.loading.text,"footer-props":{itemsPerPageText:"Jumlah Data Per Halaman",itemsPerPageOptions:[10,25,40,-1],showCurrentPage:!0,showFirstLastPage:!0}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",{staticClass:"my-2 mx-2 mx-lg-3 align-center"},[a("v-text-field",{staticClass:"mx-auto mb-2 mb-lg-0",attrs:{color:"green","hide-details":"",dense:"",outlined:"",rounded:"",label:"Pencarian",placeholder:"Start type to search...","append-icon":"mdi-magnify"},model:{value:t.table.search,callback:function(e){t.$set(t.table,"search",e)},expression:"table.search"}}),a("v-divider",{staticClass:"mx-2 d-none d-lg-block"}),a("div",{staticClass:"mx-auto"},[a("v-btn",{staticClass:"mr-2",attrs:{color:"green white--text",disabled:t.table.loading.show||0==t.table.items.length,rounded:"",disabled:""},on:{click:function(){return t.exportExcel()}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-microsoft-excel")]),t._v(" Export ")],1),a("v-btn",{staticClass:"pl-2",attrs:{color:"info",rounded:""},on:{click:function(){t.modals.form.show=!0,t.modals.form.key+=1}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-plus-circle")]),t._v(" Tambah ")],1)],1)],1)]},proxy:!0},{key:"item.no",fn:function(e){var a=e.index;return[t._v(" "+t._s(a+1)+" ")]}},{key:"item.land_area",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._utils.numberFormat(a.land_area))+" Ha ")]}},{key:"item.start_scooping_date",fn:function(e){var s=e.item;return[t._v(" "+t._s(t._utils.dateFormat(s.start_scooping_date,"DD MMMM Y"))+" "),s.start_scooping_date!=s.end_scooping_date?a("span",[t._v(" ~ "+t._s(t._utils.dateFormat(s.end_scooping_date,"DD MMMM Y"))+" ")]):t._e()]}},{key:"item.potential_dusun",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._utils.numberFormat(a.potential_dusun))+" Dusun ")]}},{key:"item.status",fn:function(e){var s=e.item;return[a("v-chip",{staticClass:"white--text",attrs:{color:t.getStatusColumn("bg_color",s.status)}},[a("v-icon",{staticClass:"mr-1"},[t._v(t._s(t.getStatusColumn("icon",s.status)))]),t._v(" "+t._s(t.getStatusColumn("text",s.status))+" ")],1)]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-menu",{attrs:{"content-class":"rounded-xl"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.attrs,r=e.on;return[a("v-btn",t._g(t._b({attrs:{small:"",fab:"",icon:""}},"v-btn",s,!1),r),[a("v-icon",[t._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("v-card",{staticClass:"pa-2 d-flex align-stretch flex-column justify-center"},[a("v-btn",{staticClass:"pl-1 d-flex justify-start align-center",attrs:{color:"info white--text",rounded:"",small:""},on:{click:function(e){return t.showModal("detail",s)}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-information")]),t._v(" Detail ")],1),a("v-btn",{staticClass:"pl-1 mt-1 d-flex justify-start align-center",attrs:{color:"orange white--text",rounded:"",small:"",disabled:"submit_review"==s.status&&"GIS STAFF"!=t.user.role_name},on:{click:function(){t.showModal("form",s)}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-pencil-circle")]),t._v(" Edit ")],1)],1)],1)]}}])})],1)},r=[],n=a("1da1"),i=(a("caad"),a("d81d"),a("d3b7"),a("25f0"),a("b0c0"),a("96cf"),a("b277")),o=a("90b4"),l=a("bc3a"),c=a.n(l),u=a("3d20"),d=a.n(u),m={components:{FormModal:i["default"],DetailModal:o["default"]},data:function(){return{breadcrumbs:[{text:"Activities",disabled:!0,href:"breadcrumbs_dashboard"},{text:"Scooping Visit",disabled:!0,href:"breadcrumbs_link_1"}],localConfig:{programYear:""},modals:{form:{show:!1,data:null,key:29291},detail:{show:!1,data:null,key:89238292}},table:{headers:[{text:"No",value:"no"},{text:"Form No",value:"data_no"},{text:"Desa",value:"village_name"},{text:"Luas Desa",value:"land_area"},{text:"Tanggal",value:"start_scooping_date"},{text:"Potensi",value:"potential_dusun",align:"center"},{text:"PIC",value:"pic_name"},{text:"PIC Manager",value:"pic_manager"},{text:"Status",value:"status",align:"center"},{text:"Actions",value:"actions",align:"right"}],items:[],loading:{show:!1,text:"Loading..."},search:""},user:""}},mounted:function(){this.firstAccessPage()},methods:{errorResponse:function(t){console.log(t),t.response&&t.response.status&&401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))},firstAccessPage:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.user=t.$store.state.User,t.localConfig.programYear=t.$store.state.programYear.model,e.next=4,t.getTableData();case 4:case"end":return e.stop()}}),e)})))()},getStatusColumn:function(t,e){if("bg_color"==t){if("document_saving"==e)return"blue darken-1";if("ready_to_submit"==e)return"orange";if("submit_review"==e)return"green darken-1"}if("icon"==t){if("document_saving"==e)return"mdi-content-save";if("ready_to_submit"==e)return"mdi-content-save-check";if("submit_review"==e)return"mdi-check-circle"}if("text"==t){if("document_saving"==e)return"Disimpan";if("ready_to_submit"==e)return"Menunggu Verifikasi";if("submit_review"==e)return"Terverifikasi"}return""},getTableData:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a,s,r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.table.loading.show=!0,a=t.$store.state.User,s=[],!["UNIT MANAGER","FIELD COORDINATOR"].includes(a.role_name)){e.next=11;break}if(s.push(a.email),"UNIT MANAGER"!=a.role_name){e.next=11;break}return e.next=9,c.a.get(t.$store.getters.getApiUrl("GetEmployeebyManager?position_no=19&manager_code=".concat(a.employee_no)),t.$store.state.apiConfig);case 9:r=e.sent,r.data.data.result.data.map((function(t){s.push(t.email)}));case 11:return n=t.$store.getters.getApiUrl("GetScoopingAll?user_id=".concat(s.toString())),e.next=14,c.a.get(n,t.$store.state.apiConfig);case 14:i=e.sent,t.table.items=i.data.data.result,e.next=22;break;case 18:e.prev=18,e.t0=e["catch"](0),t.table.items=[],t.errorResponse(e.t0);case 22:return e.prev=22,t.table.loading.show=!1,e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,18,22,25]])})))()},modalActions:function(t){"close"==t.type?(this.modals[t.name].show=!1,this.modals[t.name].data=null):"refresh-table"==t.type&&this.getTableData()},showModal:function(t,e){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,e.data_no;case 2:return a.modals[t].data=s.sent,s.next=5,!0;case 5:a.modals[t].show=s.sent;case 6:case"end":return s.stop()}}),s)})))()},swalActions:function(t){this.getTableData();var e=d.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,showCloseButton:!0,timer:1e4,timerProgressBar:!0,didOpen:function(t){t.addEventListener("mouseenter",d.a.stopTimer),t.addEventListener("mouseleave",d.a.resumeTimer)}});e.fire({icon:t.type,title:t.message})}}},f=m,b=a("2877"),v=a("6544"),g=a.n(v),p=a("2bc5"),h=a("8336"),_=a("b0af"),x=a("cc20"),w=a("8fea"),k=a("ce7e"),y=a("132d"),C=a("e449"),D=a("0fd9"),A=a("8654"),M=Object(b["a"])(f,s,r,!1,null,null,null);e["default"]=M.exports;g()(M,{VBreadcrumbs:p["a"],VBtn:h["a"],VCard:_["a"],VChip:x["a"],VDataTable:w["a"],VDivider:k["a"],VIcon:y["a"],VMenu:C["a"],VRow:D["a"],VTextField:A["a"]})}}]);
//# sourceMappingURL=chunk-2c275642.b18a1933.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c7344"],{"502e":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("v-dialog",{attrs:{scrollable:"","max-width":"2500px",transition:"dialog-transition","content-class":"rounded-xl"},model:{value:t.showModal,callback:function(a){t.showModal=a},expression:"showModal"}},[a("v-card",[t.data?a("v-card-title",{staticClass:"rounded-xl green darken-3 ma-1 pa-2 white--text"},[a("v-icon",{staticClass:"mx-2",attrs:{color:"white"}},[t._v("mdi-account-details")]),t._v(" Export Data Sostam "),a("v-icon",{staticClass:"ml-auto",attrs:{color:"white"},on:{click:function(a){t.showModal=!1}}},[t._v("mdi-close-circle")])],1):t._e(),a("v-card-text",[a("v-overlay",{staticClass:"rounded-xl",attrs:{absolute:"",value:t.table.loading.show}},[a("div",{staticClass:"d-flex flex-column justify-center align-center"},[a("p",{staticClass:"mt-2 mb-0"},[t._v(" "+t._s(t.table.loading.text)+" "),a("v-progress-circular",{attrs:{size:17,width:3,indeterminate:"",color:"white"}})],1)])]),a("v-row",{staticClass:"align-center ma-0 my-2"},[t._v(" FF: "+t._s(t.data&&t.data.name_ff||"-")+" "),a("v-divider",{staticClass:"mx-2"})],1),a("table",{staticStyle:{border:"2px solid black","border-collapse":"collapse","min-height":"200px"},attrs:{id:"tabelForExportSostam",border:"1"}},[a("tr",[a("th",{staticStyle:{"text-align":"center","font-size":"15px"},attrs:{colspan:t.table.headers.length,align:"center"}},[t._v(" Tahun Program: "+t._s(t.data&&t.data.program_year||""))])]),a("tr",[a("th",{staticStyle:{"text-align":"center","font-size":"20px"},attrs:{colspan:t.table.headers.length,align:"center"}},[a("h2",[t._v(" Data Sostam FF "+t._s(t.data&&t.data.name_ff||"-")+" ")])])]),a("tr",[a("th",{staticStyle:{"text-align":"center","font-size":"20px"},attrs:{colspan:t.table.headers.length,align:"center"}},[t._v(" Jumah Peserta: "+t._s(this.totalPeserta)+" Orang ")])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:t.table.headers.length}},[a("small",[t._v(" Export Time: "+t._s(Date())+" ")])])]),a("tr",[a("td",{attrs:{colspan:t.table.headers.length}})]),a("tr",t._l(t.table.headers,(function(e){return a("th",{key:"tabelForExportSostam"+e.value,staticClass:"green darken-2 white--text"},[t._v(" "+t._s(e.text)+" "),"land_area"==e.value?a("div",[t._v("(m"),a("sup",[t._v("2")]),t._v(")")]):t._e(),"planting_area"==e.value?a("div",[t._v("(m"),a("sup",[t._v("2")]),t._v(")")]):t._e()])})),0),t._l(t.table.items,(function(e,s){return a("tr",{key:"itemtableForExportLahanPetaniDashboard"+s,class:(s%2==0?"white":"grey")+" lighten-4"},t._l(t.table.headers,(function(o,l){return a("td",{key:"tableItemForExportLahanPetaniDashboard"+o.value,class:` \n                        ${t.statusRowColor(e[o.value],o.value)}\n                        \n                        lighten-3`},["index"==o.value?a("span",[t._v(" "+t._s(s+1)+" ")]):"status"==o.value?a("span",[a("v-chip",{attrs:{color:t.getColorStatus(e[o.value]),dark:""}},[t._v(" "+t._s(e[o.value])+" ")])],1):a("span",[t._v(" "+t._s(e[o.value])+" ")])])})),0)})),t._l(t.table.items,(function(t,e){return a("tr")}))],2)],1),a("v-card-actions",{staticClass:"justify-center align-center"},[a("v-btn",{attrs:{disabled:t.table.loading.show,color:"green white--text",rounded:""},on:{click:function(a){return t.downloadExcel()}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-microsoft-excel")]),t._v(" Unduh Excel")],1),a("v-btn",{attrs:{disabled:t.table.loading.show,color:"orange darken-2 white--text",rounded:""},on:{click:function(a){return t.downloadPDF()}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-file-pdf-box")]),t._v(" Unduh PDF")],1)],1)],1)],1)},o=[],l=e("bc3a"),i=e.n(l),n=(e("c1df"),e("3d20")),r=e.n(n),d={props:{show:{type:Boolean,default:!1},data:{type:Object,default:null}},data:()=>({totalPeserta:0,table:{headers:[{text:"No",value:"index",width:75},{text:"No Form",value:"form_no"},{text:"Nama FF",value:"ff"},{text:"Petani",value:"petani"},{text:"No Lahan",value:"lahanNo"},{text:"Desa",value:"desa"},{text:"Tanggal Sosialisasi",value:"soc_date"},{text:"Jumlah Pohon Kayu",value:"pohon_kayu"},{text:"Jumlah Pohon MPTS",value:"pohon_mpts"},{text:"Jumlah Total Bibit",value:"max_seed_amount"},{text:"Pembuatan Lubang Tanam",value:"pembuatan_lubang_tanam"},{text:"Waktu Distribusi",value:"distribution_time"},{text:"Koordinat Distribusi",value:"distribution_coordinates"},{text:"Lokasi Distribusi",value:"distribution_location"},{text:"Waktu Tanam",value:"planting_time"},{text:"Status",value:"status"}],items:[],items_raw:[],loading:{show:!1,text:"Loading..."},search:""}}),computed:{showModal:{get:function(){return this.show&&this.getTableData({ff_no:this.data.ff_no,program_year:this.data.program_year}),this.show},set:function(t){t||(setTimeout(()=>{this.table.items=[],this.table.items_raw=[]},200),this.$emit("close",!1))}}},methods:{downloadExcel(){const t=document.getElementById("tabelForExportSostam"),a=XLSX.utils.table_to_book(t);XLSX.writeFile(a,`DataSostam${this.data.program_year}-${this.data.ff_no}_${this.data.name_ff}.xlsx`)},downloadPDF(){window.jsPDF=window.jspdf.jsPDF;var t=new jsPDF({orientation:"landscape",unit:"px",format:[1400,700]});t.autoTable({html:"#tabelForExportSostam",useCss:!0,tableLineWidth:0,theme:"striped"}),t.save(`DataSostam${this.data.program_year}-${this.data.ff_no}_${this.data.name_ff}.pdf`)},statusRowColor(t,a){if("status"==a)return"Belum Verifikasi"==t?"red":"green"},getColorStatus(t){return"Belum Verifikasi"==t?"red":"green"},async errorResponse(t){if(console.log(t),t.response&&t.response.status){if(401==t.response.status){const t=await r.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});t&&(localStorage.removeItem("token"),this.$router.push("/"))}if(500===t.response.status||400===t.response.status){let a=t.response.data.message;a&&a.includes("Duplicate entry")&&(a="Data sudah ada!"),r.a.fire({title:"Error!",text:""+(a||t.message),icon:"error",confirmButtonColor:"#f44336"})}}},async getTableData(t){try{this.table.loading.show=!0;const a=new URLSearchParams(t),e="ExportSostamAllSuperAdmin?"+a,s=await i.a.get(this.$store.getters.getApiUrl(e),this.$store.state.apiConfig),o=s.data.listData,l=s.data.totalData;this.totalPeserta=l,this.table.items=o,this.table.items_raw=o}catch(a){this.errorResponse(a)}finally{this.table.loading.show=!1}}}},c=d,u=e("2877"),h=e("6544"),m=e.n(h),v=e("8336"),_=e("b0af"),p=e("99d9"),g=e("cc20"),x=e("169a"),b=e("ce7e"),f=e("132d"),w=e("a797"),y=e("490a"),C=e("0fd9"),D=Object(u["a"])(c,s,o,!1,null,null,null);a["default"]=D.exports;m()(D,{VBtn:v["a"],VCard:_["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VChip:g["a"],VDialog:x["a"],VDivider:b["a"],VIcon:f["a"],VOverlay:w["a"],VProgressCircular:y["a"],VRow:C["a"]})}}]);
//# sourceMappingURL=chunk-2d0c7344.7e29b0c3.js.map
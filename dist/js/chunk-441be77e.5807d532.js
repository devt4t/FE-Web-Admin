(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-441be77e","chunk-602e348b","chunk-2d0c7344","chunk-2d22fcc3","chunk-2d0bff11"],{"0798":function(t,e,a){"use strict";a("0c18");var s=a("10d2"),i=a("afdd"),o=a("9d26"),l=a("f2e7"),n=a("7560"),r=a("f40d"),d=a("58df"),c=a("d9bd");e["a"]=Object(d["a"])(s["a"],l["a"],r["a"]).extend({name:"v-alert",props:{border:{type:String,validator(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let t={staticClass:"v-alert__border",class:{["v-alert__border--"+this.border]:!0}};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible(){if(!this.dismissible)return null;const t=this.iconColor;return this.$createElement(i["a"],{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(o["a"],{props:{color:t}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const t={...s["a"].options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(t["v-alert--border-"+this.border]=!0),t},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$"+this.type)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||n["a"].options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&Object(c["a"])("outline","outlined",this)},methods:{genWrapper(){const t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(t){const e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,a){},"1f09":function(t,e,a){},"23a7":function(t,e,a){"use strict";a("13d5"),a("5803");var s=a("2677"),i=a("cc20"),o=a("80d2"),l=a("d9bd"),n=a("d9f7");e["a"]=s["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:t=>"boolean"===typeof t||[1e3,1024].includes(t)},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:t=>Object(o["H"])(t).every(t=>null!=t&&"object"===typeof t)}},computed:{classes(){return{...s["a"].options.computed.classes.call(this),"v-file-input":!0}},computedCounterValue(){const t=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,t);const e=this.internalArrayValue.reduce((t,{size:e=0})=>t+e,0);return this.$vuetify.lang.t(this.counterSizeString,t,Object(o["w"])(e,1024===this.base))},internalArrayValue(){return Object(o["H"])(this.internalValue)},internalValue:{get(){return this.lazyValue},set(t){this.lazyValue=t,this.$emit("change",this.lazyValue)}},isDirty(){return this.internalArrayValue.length>0},isLabelActive(){return this.isDirty},isMultiple(){return this.$attrs.hasOwnProperty("multiple")},text(){return this.isDirty||!this.isFocused&&this.hasLabel?this.internalArrayValue.map(t=>{const{name:e="",size:a=0}=t,s=this.truncateText(e);return this.showSize?`${s} (${Object(o["w"])(a,1024===this.base)})`:s}):[this.placeholder]},base(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips(){return this.chips||this.smallChips}},watch:{readonly:{handler(t){!0===t&&Object(l["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value(t){const e=this.isMultiple?t:t?[t]:[];Object(o["j"])(e,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback(){this.internalValue=this.isMultiple?[]:null,this.$refs.input.value=""},genChips(){return this.isDirty?this.text.map((t,e)=>this.$createElement(i["a"],{props:{small:this.smallChips},on:{"click:close":()=>{const t=this.internalValue;t.splice(e,1),this.internalValue=t}}},[t])):[]},genControl(){const t=s["a"].options.methods.genControl.call(this);return this.hideInput&&(t.data.style=Object(n["d"])(t.data.style,{display:"none"})),t},genInput(){const t=s["a"].options.methods.genInput.call(this);return delete t.data.domProps.value,delete t.data.on.input,t.data.on.change=this.onInput,[this.genSelections(),t]},genPrependSlot(){if(!this.prependIcon)return null;const t=this.genIcon("prepend",()=>{this.$refs.input.click()});return this.genSlot("prepend","outer",[t])},genSelectionText(){const t=this.text.length;return t<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,t)]},genSelections(){const t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((e,a)=>{this.$scopedSlots.selection&&t.push(this.$scopedSlots.selection({text:this.text[a],file:e,index:a}))}):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot(){const t=s["a"].options.methods.genTextFieldSlot.call(this);return t.data.on={...t.data.on||{},click:()=>this.$refs.input.click()},t},onInput(t){const e=[...t.target.files||[]];this.internalValue=this.isMultiple?e:e[0],this.initialValue=this.internalValue},onKeyDown(t){this.$emit("keydown",t)},truncateText(t){if(t.length<Number(this.truncateLength))return t;const e=Math.floor((Number(this.truncateLength)-1)/2);return`${t.slice(0,e)}â€¦${t.slice(t.length-e)}`}}})},2677:function(t,e,a){"use strict";var s=a("8654");e["a"]=s["a"]},"2bc5":function(t,e,a){"use strict";a("abd3");var s=a("1c87"),i=a("58df"),o=Object(i["a"])(s["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes(){return{"v-breadcrumbs__item":!0,[this.activeClass]:this.disabled}}},render(t){const{tag:e,data:a}=this.generateRouteLink();return t("li",[t(e,{...a,attrs:{...a.attrs,"aria-current":this.isActive&&this.isLink?"page":void 0}},this.$slots.default)])}}),l=a("80d2"),n=Object(l["i"])("v-breadcrumbs__divider","li"),r=a("7560");e["a"]=Object(i["a"])(r["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:()=>[]},large:Boolean},computed:{classes(){return{"v-breadcrumbs--large":this.large,...this.themeClasses}}},methods:{genDivider(){return this.$createElement(n,this.$slots.divider?this.$slots.divider:this.divider)},genItems(){const t=[],e=!!this.$scopedSlots.item,a=[];for(let s=0;s<this.items.length;s++){const i=this.items[s];a.push(i.text),e?t.push(this.$scopedSlots.item({item:i})):t.push(this.$createElement(o,{key:a.join("."),props:i},[i.text])),s<this.items.length-1&&t.push(this.genDivider())}return t}},render(t){const e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},"2db4":function(t,e,a){"use strict";a("ca71");var s=a("8dd9"),i=a("a9ad"),o=a("7560"),l=a("f2e7"),n=a("fe6c"),r=a("58df"),d=a("80d2"),c=a("d9bd");e["a"]=Object(r["a"])(s["a"],i["a"],l["a"],Object(n["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:o["a"].options.computed.isDark.call(this)},styles(){if(this.absolute)return{};const{bar:t,bottom:e,footer:a,insetFooter:s,left:i,right:o,top:l}=this.$vuetify.application;return{paddingBottom:Object(d["g"])(e+a+s),paddingLeft:this.app?Object(d["g"])(i):void 0,paddingRight:this.app?Object(d["g"])(o):void 0,paddingTop:Object(d["g"])(t+l)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(c["e"])("auto-height",this),0==this.timeout&&Object(c["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(d["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(d["s"])(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:s["a"].options.computed.classes.call(this),style:s["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{mouseenter:()=>window.clearTimeout(this.activeTimeout),mouseleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},3129:function(t,e,a){"use strict";a("1f09");var s=a("c995"),i=a("24b2"),o=a("7560"),l=a("58df"),n=a("80d2");e["a"]=Object(l["a"])(s["a"],i["a"],o["a"]).extend({name:"VSkeletonLoader",props:{boilerplate:Boolean,loading:Boolean,tile:Boolean,transition:String,type:String,types:{type:Object,default:()=>({})}},computed:{attrs(){return this.isLoading?this.boilerplate?{}:{"aria-busy":!0,"aria-live":"polite",role:"alert",...this.$attrs}:this.$attrs},classes(){return{"v-skeleton-loader--boilerplate":this.boilerplate,"v-skeleton-loader--is-loading":this.isLoading,"v-skeleton-loader--tile":this.tile,...this.themeClasses,...this.elevationClasses}},isLoading(){return!("default"in this.$scopedSlots)||this.loading},rootTypes(){return{actions:"button@2",article:"heading, paragraph",avatar:"avatar",button:"button",card:"image, card-heading","card-avatar":"image, list-item-avatar","card-heading":"heading",chip:"chip","date-picker":"list-item, card-heading, divider, date-picker-options, date-picker-days, actions","date-picker-options":"text, avatar@2","date-picker-days":"avatar@28",heading:"heading",image:"image","list-item":"text","list-item-avatar":"avatar, text","list-item-two-line":"sentences","list-item-avatar-two-line":"avatar, sentences","list-item-three-line":"paragraph","list-item-avatar-three-line":"avatar, paragraph",paragraph:"text@3",sentences:"text@2",table:"table-heading, table-thead, table-tbody, table-tfoot","table-heading":"heading, text","table-thead":"heading@6","table-tbody":"table-row-divider@6","table-row-divider":"table-row, divider","table-row":"table-cell@6","table-cell":"text","table-tfoot":"text@2, avatar@2",text:"text",...this.types}}},methods:{genBone(t,e){return this.$createElement("div",{staticClass:`v-skeleton-loader__${t} v-skeleton-loader__bone`},e)},genBones(t){const[e,a]=t.split("@"),s=()=>this.genStructure(e);return Array.from({length:a}).map(s)},genStructure(t){let e=[];t=t||this.type||"";const a=this.rootTypes[t]||"";if(t===a);else{if(t.indexOf(",")>-1)return this.mapBones(t);if(t.indexOf("@")>-1)return this.genBones(t);a.indexOf(",")>-1?e=this.mapBones(a):a.indexOf("@")>-1?e=this.genBones(a):a&&e.push(this.genStructure(a))}return[this.genBone(t,e)]},genSkeleton(){const t=[];return this.isLoading?t.push(this.genStructure()):t.push(Object(n["s"])(this)),this.transition?this.$createElement("transition",{props:{name:this.transition},on:{afterEnter:this.resetStyles,beforeEnter:this.onBeforeEnter,beforeLeave:this.onBeforeLeave,leaveCancelled:this.resetStyles}},t):t},mapBones(t){return t.replace(/\s/g,"").split(",").map(this.genStructure)},onBeforeEnter(t){this.resetStyles(t),this.isLoading&&(t._initialStyle={display:t.style.display,transition:t.style.transition},t.style.setProperty("transition","none","important"))},onBeforeLeave(t){t.style.setProperty("display","none","important")},resetStyles(t){t._initialStyle&&(t.style.display=t._initialStyle.display||"",t.style.transition=t._initialStyle.transition,delete t._initialStyle)}},render(t){return t("div",{staticClass:"v-skeleton-loader",attrs:this.attrs,on:this.$listeners,class:this.classes,style:this.isLoading?this.measurableStyles:void 0},[this.genSkeleton()])}})},4054:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("v-dialog",{attrs:{"content-class":"rounded-xl mx-1","max-width":"700",scrollable:"",persistent:""},model:{value:t.showModalPickCoordinate,callback:function(e){t.showModalPickCoordinate=e},expression:"showModalPickCoordinate"}},[e("v-card",[e("v-card-title",{staticClass:"rounded-xl green darken-3 ma-1 pa-2"},[e("span",{staticClass:"white--text"},[e("v-btn",{staticClass:"white dark--text mr-1",attrs:{fab:"","x-small":""}},[e("v-icon",{attrs:{color:"grey darken-3"}},[t._v("mdi-map-marker")])],1),t._v(" Ambil Koordinat Lokasi Habitat")],1),e("v-icon",{staticClass:"ml-auto",attrs:{color:"white"},on:{click:function(e){t.showModalPickCoordinate=!1}}},[t._v("mdi-close-circle")])],1),e("v-card-text",{staticClass:"pa-2"},[t.showModalPickCoordinate?e("div",{staticStyle:{position:"relative"}},[t.maps.loading.show?e("v-overlay",{staticClass:"rounded-xl",attrs:{absolute:"","justify-center":"","align-center":""}},[e("div",{staticClass:"d-flex flex-column align-center justify-center"},[e("v-progress-circular",{attrs:{size:80,width:7,indeterminate:"",color:"white"}}),e("p",{staticClass:"mb-0 text-center mt-4"},[t._v(t._s(t.maps.loading.text||"Loading..."))])],1)]):t._e(),e("div",{key:"maps-pick-coordinat-habitat-location-"+t.showModalPickCoordinate,ref:"mapbox-pick-coordinate-habitat-location",staticClass:"rounded-xl overflow-hidden",staticStyle:{height:"400px",width:"100%"},attrs:{id:"mapboxPickCoordinateHabitatLocation"}})],1):t._e(),e("v-text-field",{staticClass:"mt-3",attrs:{color:"green",dense:"",outlined:"",rounded:"",value:t.getLongLatData,disabled:t.maps.loading.show,label:"Koordinat Distribusi (Long, Lat)",rules:[t=>!!t||"Field is required"],"hide-details":"",readonly:!0}})],1),e("v-card-actions",{staticClass:"justify-center"},[e("v-btn",{attrs:{disabled:this.maps.loading.show,rounded:"",outlined:"",color:"green"},on:{click:function(e){return t.saveCoordinate()}}},[e("v-icon",[t._v("mdi-map-marker-check")]),t._v(" Simpan Titik Lokasi")],1)],1)],1)],1)],1)},i=[],o={props:{show:{type:Boolean,default:!1},data:{type:Object,default:null}},data:()=>({maps:{accessToken:"",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a>',center:[113.9213,-.7893],geojson:{},hoveredStateId:0,key:111,layerId:0,layerStyle:{outline:{color:"#000000"},fill:{color:"#f06800"}},legends:{model:""},listMarker:[],loading:{show:!1,text:"Loading..."},location:{lng:"",lat:""},mapStyle:"",model:null,popup:{model:!1,content:{title:"",description:""}},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",zoom:3}}),methods:{async initializeMaps(){try{let t=this.maps;t.loading.show=!0,t.loading.text="Initialize maps...",t.accessToken=this.$store.state.maps.accessToken,mapboxgl.accessToken=t.accessToken;const e=this.data.model,a=/^[-+]?\d+(\.\d+)?,\s*[-+]?\d+(\.\d+)?$/,s=a.test(e);if(e&&s){const a=e.split(", ")[0],s=e.split(", ")[1];t.center=[a,s]}else t.center=[113.9213,-.7893];if(mapboxgl.supported()){let a=await new mapboxgl.Map({container:"mapboxPickCoordinateHabitatLocation",style:"mapbox://styles/mapbox/satellite-streets-v11",center:t.center,zoom:t.zoom,projection:"globe"});const s=new mapboxgl.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0,showUserHeading:!0});await a.on("load",(async function(){await a.setFog({color:"rgb(186, 210, 235)","high-color":"rgb(36, 92, 223)","horizon-blend":.02,"space-color":"rgb(11, 11, 25)","star-intensity":.6}),a.addControl(new MapboxGeocoder({accessToken:mapboxgl.accessToken,mapboxgl:mapboxgl})),await a.addControl(new mapboxgl.FullscreenControl),await a.addControl(new mapboxgl.NavigationControl),await a.addControl(s),t.location={lng:t.center[0],lat:t.center[1]};const i=new mapboxgl.Marker({draggable:!0}).setLngLat(t.center).addTo(a);function o(){const e=i.getLngLat();t.location=e}a.on("click",t=>{i.setLngLat(t.lngLat),o()}),i.on("drag",o),s.on("trackuserlocationstart",()=>{t.loading.show=!0,t.loading.text="Mencari lokasi anda..."}),s.on("geolocate",(async function(e){const a=[e.coords.longitude,e.coords.latitude];await i.setLngLat(a),await o(),t.loading.show=!1,t.loading.text="Loading..."})),e&&await a.flyTo({center:t.center,zoom:15,duration:4e3}),t.loading.show=!1}))}else Swal.fire({title:"Warning!",text:"Your browser does not support Mapbox GL.",icon:"error",confirmButtonColor:"#f44336"})}catch(t){console.log(t)}},async saveCoordinate(){const t=this.maps.location;this.$emit("action",{type:"save",name:"pick_coordinate",data:this.data,coordinate:t})}},computed:{showModalPickCoordinate:{get:function(){return this.show&&(this.maps.loading.show=!0,setTimeout(()=>{this.initializeMaps()},200)),this.show},set:function(t){t||this.$emit("action",{type:"close",name:"pick_coordinate"})}},getLongLatData(){const t=this.maps;return`${t.location.lng}, ${t.location.lat}`}},mounted(){}},l=o,n=a("2877"),r=a("6544"),d=a.n(r),c=a("8336"),u=a("b0af"),h=a("99d9"),m=a("169a"),p=a("132d"),g=a("a797"),v=a("490a"),b=a("8654"),_=Object(n["a"])(l,s,i,!1,null,null,null);e["default"]=_.exports;d()(_,{VBtn:c["a"],VCard:u["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VDialog:m["a"],VIcon:p["a"],VOverlay:g["a"],VProgressCircular:v["a"],VTextField:b["a"]})},"4bd4":function(t,e,a){"use strict";var s=a("58df"),i=a("7e2b"),o=a("3206");e["a"]=Object(s["a"])(i["a"],Object(o["b"])("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",e=>{this.$set(this.errorBag,t._uid,e)},{immediate:!0}),a={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",s=>{s&&(this.errorBag.hasOwnProperty(t._uid)||(a.valid=e(t)))}):a.valid=e(t),a},validate(){return 0===this.inputs.filter(t=>!t.validate(!0)).length},reset(){this.inputs.forEach(t=>t.reset()),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout(()=>{this.errorBag={}},0)},resetValidation(){this.inputs.forEach(t=>t.resetValidation()),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find(e=>e._uid===t._uid);if(!e)return;const a=this.watchers.find(t=>t._uid===e._uid);a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter(t=>t._uid!==e._uid),this.inputs=this.inputs.filter(t=>t._uid!==e._uid),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},"502e":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{scrollable:"","max-width":"2500px",transition:"dialog-transition","content-class":"rounded-xl"},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[e("v-card",[t.data?e("v-card-title",{staticClass:"rounded-xl green darken-3 ma-1 pa-2 white--text"},[e("v-icon",{staticClass:"mx-2",attrs:{color:"white"}},[t._v("mdi-account-details")]),t._v(" Export Data Sostam "),e("v-icon",{staticClass:"ml-auto",attrs:{color:"white"},on:{click:function(e){t.showModal=!1}}},[t._v("mdi-close-circle")])],1):t._e(),e("v-card-text",[e("v-overlay",{staticClass:"rounded-xl",attrs:{absolute:"",value:t.table.loading.show}},[e("div",{staticClass:"d-flex flex-column justify-center align-center"},[e("p",{staticClass:"mt-2 mb-0"},[t._v(" "+t._s(t.table.loading.text)+" "),e("v-progress-circular",{attrs:{size:17,width:3,indeterminate:"",color:"white"}})],1)])]),e("v-row",{staticClass:"align-center ma-0 my-2"},[t._v(" FF: "+t._s(t.data&&t.data.name_ff||"-")+" "),e("v-divider",{staticClass:"mx-2"})],1),e("table",{staticStyle:{border:"2px solid black","border-collapse":"collapse","min-height":"200px"},attrs:{id:"tabelForExportSostam",border:"1"}},[e("tr",[e("th",{staticStyle:{"text-align":"center","font-size":"15px"},attrs:{colspan:t.table.headers.length,align:"center"}},[t._v(" Tahun Program: "+t._s(t.data&&t.data.program_year||""))])]),e("tr",[e("th",{staticStyle:{"text-align":"center","font-size":"20px"},attrs:{colspan:t.table.headers.length,align:"center"}},[e("h2",[t._v(" Data Sostam FF "+t._s(t.data&&t.data.name_ff||"-")+" ")])])]),e("tr",[e("th",{staticStyle:{"text-align":"center","font-size":"20px"},attrs:{colspan:t.table.headers.length,align:"center"}},[t._v(" Jumah Peserta: "+t._s(this.totalPeserta)+" Orang ")])]),e("tr",[e("td",{staticStyle:{"text-align":"center"},attrs:{colspan:t.table.headers.length}},[e("small",[t._v(" Export Time: "+t._s(Date())+" ")])])]),e("tr",[e("td",{attrs:{colspan:t.table.headers.length}})]),e("tr",t._l(t.table.headers,(function(a){return e("th",{key:"tabelForExportSostam"+a.value,staticClass:"green darken-2 white--text"},[t._v(" "+t._s(a.text)+" "),"land_area"==a.value?e("div",[t._v("(m"),e("sup",[t._v("2")]),t._v(")")]):t._e(),"planting_area"==a.value?e("div",[t._v("(m"),e("sup",[t._v("2")]),t._v(")")]):t._e()])})),0),t._l(t.table.items,(function(a,s){return e("tr",{key:"itemtableForExportLahanPetaniDashboard"+s,class:(s%2==0?"white":"grey")+" lighten-4"},t._l(t.table.headers,(function(i,o){return e("td",{key:"tableItemForExportLahanPetaniDashboard"+i.value,class:` \n                        ${t.statusRowColor(a[i.value],i.value)}\n                        \n                        lighten-3`},["index"==i.value?e("span",[t._v(" "+t._s(s+1)+" ")]):"status"==i.value?e("span",[e("v-chip",{attrs:{color:t.getColorStatus(a[i.value]),dark:""}},[t._v(" "+t._s(a[i.value])+" ")])],1):e("span",[t._v(" "+t._s(a[i.value])+" ")])])})),0)})),t._l(t.table.items,(function(t,a){return e("tr")}))],2)],1),e("v-card-actions",{staticClass:"justify-center align-center"},[e("v-btn",{attrs:{disabled:t.table.loading.show,color:"green white--text",rounded:""},on:{click:function(e){return t.downloadExcel()}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-microsoft-excel")]),t._v(" Unduh Excel")],1),e("v-btn",{attrs:{disabled:t.table.loading.show,color:"orange darken-2 white--text",rounded:""},on:{click:function(e){return t.downloadPDF()}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-file-pdf-box")]),t._v(" Unduh PDF")],1)],1)],1)],1)},i=[],o=a("bc3a"),l=a.n(o),n=(a("c1df"),a("3d20")),r=a.n(n),d={props:{show:{type:Boolean,default:!1},data:{type:Object,default:null}},data:()=>({totalPeserta:0,table:{headers:[{text:"No",value:"index",width:75},{text:"No Form",value:"form_no"},{text:"Nama FF",value:"ff"},{text:"Petani",value:"petani"},{text:"No Lahan",value:"lahanNo"},{text:"Desa",value:"desa"},{text:"Tanggal Sosialisasi",value:"soc_date"},{text:"Jumlah Pohon Kayu",value:"pohon_kayu"},{text:"Jumlah Pohon MPTS",value:"pohon_mpts"},{text:"Jumlah Total Bibit",value:"max_seed_amount"},{text:"Pembuatan Lubang Tanam",value:"pembuatan_lubang_tanam"},{text:"Waktu Distribusi",value:"distribution_time"},{text:"Koordinat Distribusi",value:"distribution_coordinates"},{text:"Lokasi Distribusi",value:"distribution_location"},{text:"Waktu Tanam",value:"planting_time"},{text:"Status",value:"status"}],items:[],items_raw:[],loading:{show:!1,text:"Loading..."},search:""}}),computed:{showModal:{get:function(){return this.show&&this.getTableData({ff_no:this.data.ff_no,program_year:this.data.program_year}),this.show},set:function(t){t||(setTimeout(()=>{this.table.items=[],this.table.items_raw=[]},200),this.$emit("close",!1))}}},methods:{downloadExcel(){const t=document.getElementById("tabelForExportSostam"),e=XLSX.utils.table_to_book(t);XLSX.writeFile(e,`DataSostam${this.data.program_year}-${this.data.ff_no}_${this.data.name_ff}.xlsx`)},downloadPDF(){window.jsPDF=window.jspdf.jsPDF;var t=new jsPDF({orientation:"landscape",unit:"px",format:[1400,700]});t.autoTable({html:"#tabelForExportSostam",useCss:!0,tableLineWidth:0,theme:"striped"}),t.save(`DataSostam${this.data.program_year}-${this.data.ff_no}_${this.data.name_ff}.pdf`)},statusRowColor(t,e){if("status"==e)return"Belum Verifikasi"==t?"red":"green"},getColorStatus(t){return"Belum Verifikasi"==t?"red":"green"},async errorResponse(t){if(console.log(t),t.response&&t.response.status){if(401==t.response.status){const t=await r.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});t&&(localStorage.removeItem("token"),this.$router.push("/"))}if(500===t.response.status||400===t.response.status){let e=t.response.data.message;e&&e.includes("Duplicate entry")&&(e="Data sudah ada!"),r.a.fire({title:"Error!",text:""+(e||t.message),icon:"error",confirmButtonColor:"#f44336"})}}},async getTableData(t){try{this.table.loading.show=!0;const e=new URLSearchParams(t),a="ExportSostamAllSuperAdmin?"+e,s=await l.a.get(this.$store.getters.getApiUrl(a),this.$store.state.apiConfig),i=s.data.listData,o=s.data.totalData;this.totalPeserta=o,this.table.items=i,this.table.items_raw=i}catch(e){this.errorResponse(e)}finally{this.table.loading.show=!1}}}},c=d,u=a("2877"),h=a("6544"),m=a.n(h),p=a("8336"),g=a("b0af"),v=a("99d9"),b=a("cc20"),_=a("169a"),f=a("ce7e"),x=a("132d"),y=a("a797"),k=a("490a"),S=a("0fd9"),T=Object(u["a"])(c,s,i,!1,null,null,null);e["default"]=T.exports;m()(T,{VBtn:p["a"],VCard:g["a"],VCardActions:v["a"],VCardText:v["c"],VCardTitle:v["d"],VChip:b["a"],VDialog:_["a"],VDivider:f["a"],VIcon:x["a"],VOverlay:y["a"],VProgressCircular:k["a"],VRow:S["a"]})},5803:function(t,e,a){},a722:function(t,e,a){"use strict";a("20f6");var s=a("e8f2");e["a"]=Object(s["a"])("layout")},abd3:function(t,e,a){},ca71:function(t,e,a){},dd86:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("v-breadcrumbs",{staticClass:"breadcrumbsmain",attrs:{dark:"dark"==t.$store.state.theme,items:t.itemsbr,divider:">",large:"","data-aos":"fade-right"}}),e("div",{staticClass:"mx-9"},[e("v-alert",{attrs:{value:t.alerttoken,color:"red",elevation:"24",type:"error"}},[t._v(" Session Token Login Habis, Login Kembali ! ")])],1),e("Export",{attrs:{show:t.dialogExportSostam,data:t.dialogExportSostamData},on:{close:function(e){t.dialogExportSostam=!1}}}),e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogFilterArea,callback:function(e){t.dialogFilterArea=e},expression:"dialogFilterArea"}},[e("v-card",{attrs:{rounded:"xl"}},[e("v-card-title",{},[e("v-spacer"),t._v(" Filter Pencarian Area "),e("v-spacer")],1),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemsMU,"item-value":"mu_no","item-text":"name","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},color:"green","item-color":"green",outlined:"",rounded:"","hide-details":"",label:"Management Unit",clearable:""},on:{change:t.selectedMU},model:{value:t.selectMU,callback:function(e){t.selectMU=e},expression:"selectMU"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemsTA,"item-value":"area_code","item-text":"name",label:"Target Area",clearable:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},color:"green","item-color":"green",outlined:"",rounded:"","hide-details":""},on:{change:t.selectedTA},model:{value:t.selectTA,callback:function(e){t.selectTA=e},expression:"selectTA"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-autocomplete",{attrs:{items:t.itemsVillage,"item-value":"kode_desa","item-text":"name",label:"Desa",clearable:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},color:"green","item-color":"green",outlined:"",rounded:"","hide-details":""},on:{change:t.selectedVillage},model:{value:t.selectVillage,callback:function(e){t.selectVillage=e},expression:"selectVillage"}})],1)],1)],1)],1),e("v-card-actions",{staticClass:"pb-4"},[e("v-spacer"),e("v-btn",{staticClass:"px-5",attrs:{dark:"",color:"red",rounded:""},on:{click:function(e){t.dialogFilterArea=!1}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-close")]),t._v(" Keluar ")],1),e("v-btn",{staticClass:"px-5",attrs:{dark:"",color:"warning",rounded:""},on:{click:t.searchbyarea}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-filter")]),t._v(" Cari ")],1),e("v-spacer")],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogFilterEmp,callback:function(e){t.dialogFilterEmp=e},expression:"dialogFilterEmp"}},[e("v-card",{attrs:{rounded:"xl"}},[e("v-card-title",{staticClass:"d-flex justify-center"},[t._v(" Filter Pencarian By Emp ")]),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-autocomplete",{attrs:{outlined:"",rounded:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},color:"green","item-color":"green",items:t.itemsum,"item-value":"nik","item-text":"name",label:"Pilih Unit Manager",clearable:""},on:{change:t.selectedUM},model:{value:t.selectUM,callback:function(e){t.selectUM=e},expression:"selectUM"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-autocomplete",{attrs:{outlined:"",rounded:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},color:"green","item-color":"green",items:t.itemsfc,"item-value":"nik","item-text":"name",label:"Pilih Field Coordinator",clearable:""},on:{change:t.selectedFC},model:{value:t.selectFC,callback:function(e){t.selectFC=e},expression:"selectFC"}})],1)],1)],1)],1),e("v-card-actions",{staticClass:"pb-4"},[e("v-spacer"),e("v-btn",{staticClass:"px-5",attrs:{dark:"",color:"red",rounded:""},on:{click:function(e){t.dialogFilterEmp=!1}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-close")]),t._v(" Keluar ")],1),e("v-btn",{staticClass:"px-5",attrs:{dark:"",color:"warning",rounded:""},on:{click:t.searchbyemp}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-filter")]),t._v(" Cari ")],1),e("v-spacer")],1)],1)],1),e("v-dialog",{attrs:{"max-width":"999","content-class":"rounded-xl",persistent:"",scrollable:""},model:{value:t.dialogPeriodeTanam.show,callback:function(e){t.$set(t.dialogPeriodeTanam,"show",e)},expression:"dialogPeriodeTanam.show"}},[e("v-card",{attrs:{rounded:"xl",elevation:"10"}},[e("v-card-title",{staticClass:"mb-1 headermodalstyle rounded-xl elevation-5"},[e("span",{},[t._v("Tambah Data Periode Tanam")]),e("v-spacer"),e("v-icon",{attrs:{color:"red"},on:{click:function(e){t.dialogPeriodeTanam.show=!1}}},[t._v("mdi-close-circle")])],1),e("v-card-text",{staticClass:"px-0 px-lg-5"},[e("v-overlay",{attrs:{absolute:"",value:t.dialogPeriodeTanam.loading}},[e("div",{staticClass:"d-flex flex-column justify-center align-center"},[e("LottieAnimation",{ref:"anim",staticStyle:{height:"64px"},attrs:{animationData:t.lottie.data.loading,loop:!0}}),e("p",{staticClass:"mt-2 mb-0"},[t._v("Loading... "),e("v-progress-circular",{attrs:{size:17,width:3,indeterminate:"",color:"white"}})],1)],1)]),e("v-container",[e("v-row",[e("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"12",sm:"12",md:"12",lg:"4"}},[e("p",{staticClass:"mb-1"},[t._v("Tanggal Distribusi")]),e("v-menu",{attrs:{rounded:"xl",transition:"slide-x-transition",bottom:"",right:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e("v-btn",t._g(t._b({attrs:{rounded:"",large:"",color:"green lighten-1"}},"v-btn",s,!1),{...a,...i}),[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.distribution_time,"dddd, DD MMMM Y"))+" ")],1)]}}],null,!0)},[e("span",[t._v("Klik untuk memunculkan datepicker")])])]}}]),model:{value:t.pTDatePickerShow,callback:function(e){t.pTDatePickerShow=e},expression:"pTDatePickerShow"}},[e("v-card",{staticClass:"rounded-xl pb-2"},[e("v-overlay",{attrs:{value:t.datepicker2Loading}},[e("div",{staticClass:"d-flex flex-column align-center justify-center"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"white",size:"64"}}),e("p",{staticClass:"mt-2 mb-0"},[t._v("Updating available dates...")])],1)]),e("div",{staticClass:"d-flex flex-column align-center"},[e("v-date-picker",{key:t.datepicker2Key,attrs:{color:"green lighten-1 rounded-xl",min:"2023-12-01",max:"2024-01-31","allowed-dates":t.showingAvailableDates},model:{value:t.dataToStore.distribution_time,callback:function(e){t.$set(t.dataToStore,"distribution_time",e)},expression:"dataToStore.distribution_time"}}),e("v-btn",{staticClass:"white--text px-4",attrs:{color:"green",small:"",rounded:""},on:{click:function(e){t.pTDatePickerShow=!1}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-check-circle")]),t._v(" Set ")],1)],1)],1)],1)],1),e("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"12",sm:"12",md:"12",lg:"4"}},[e("v-col",[e("p",{staticClass:"mb-1"},[t._v(" Awal Pembuatan Lubang Tanam ")]),e("v-btn",{attrs:{rounded:"",large:"",color:"green lighten-1",disabled:""}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.start_pemlub_time,"dddd, DD MMMM Y"))+" ")],1)],1),e("v-col",[e("p",{staticClass:"mb-1"},[t._v(" Batas Akhir Pembuatan Lubang Tanam")]),e("v-btn",{attrs:{rounded:"",large:"",color:"green lighten-1",disabled:""}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.penlub_time,"dddd, DD MMMM Y"))+" ")],1)],1)],1),e("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"12",sm:"12",md:"12",lg:"4"}},[e("v-col",[e("p",{staticClass:"mb-1"},[t._v("Tanggal Awal Realisasi Tanam")]),e("v-btn",{attrs:{rounded:"",large:"",disabled:"",color:"green lighten-1"}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.planting_time,"dddd, DD MMMM Y"))+" ")],1)],1),e("v-col",[e("p",{staticClass:"mb-1"},[t._v("Batas Akhir Realisasi Tanam")]),e("v-btn",{attrs:{rounded:"",large:"",disabled:"",color:"green lighten-1"}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.end_planting_time,"dddd, DD MMMM Y"))+" ")],1)],1)],1),e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-0"},[e("p",{staticClass:"mb-0 grey--text text--darken-3",staticStyle:{"font-size":"17px"}},[e("v-icon",{staticClass:"mr-2"},[t._v("mdi-map-marker")]),t._v("Pilih Lokasi Distribusi")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:""}})],1)]),e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("v-text-field",{attrs:{outlined:"",rounded:"",dense:"","hide-details":"",color:"green",label:"Koordinat Lokasi"},scopedSlots:t._u([{key:"append",fn:function(){return[e("v-btn",{staticClass:"mb-2",attrs:{small:"",rounded:"",color:"green white--text"},on:{click:()=>t.showModalPickCoordinate({model:t.dataToStore.distribution_coordinates})}},[t._v(" "+t._s(t.dataToStore.distribution_coordinates?"Edit":"Ambil")+" Koordinat ")])]},proxy:!0}]),model:{value:t.dataToStore.distribution_coordinates,callback:function(e){t.$set(t.dataToStore,"distribution_coordinates",e)},expression:"dataToStore.distribution_coordinates"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("v-text-field",{attrs:{color:"green",dense:"",outlined:"",rounded:"",placeholder:"Balai Desa / Rumah Bp ... / dll",label:"Detail Alamat Distribusi",rules:[t=>!!t||"Field is required"],"hide-details":""},model:{value:t.dataToStore.distribution_location,callback:function(e){t.$set(t.dataToStore,"distribution_location",e)},expression:"dataToStore.distribution_location"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("v-text-field",{attrs:{color:"green",dense:"",outlined:"",rounded:"",label:"Rekomendasi Armada",placeholder:"Truck / SS / yang lainnya",rules:[t=>!!t||"Field is required"],"hide-details":""},model:{value:t.dataToStore.distribution_rec_armada,callback:function(e){t.$set(t.dataToStore,"distribution_rec_armada",e)},expression:"dataToStore.distribution_rec_armada"}})],1)],1)],1)],1),0==t.dialogPeriodeTanam.loading?e("v-card-actions",{staticClass:"elevation-15 rounded-xl"},[e("v-btn",{attrs:{color:"red px-5",rounded:"",dark:""},on:{click:function(e){t.dialogPeriodeTanam.show=!1}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-spacer"),e("v-btn",{attrs:{color:"green white--text",rounded:"",disabled:t.disabledCreatePeriodeTanamByFF},on:{click:t.showConfirmationPeriodeTanam}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" Buat Periode Tanam ")],1)],1):t._e()],1)],1),e("v-dialog",{attrs:{"max-width":"999","content-class":"rounded-xl",persistent:"",scrollable:""},model:{value:t.dialogEditGIS.show,callback:function(e){t.$set(t.dialogEditGIS,"show",e)},expression:"dialogEditGIS.show"}},[e("v-card",{attrs:{rounded:"xl",elevation:"10"}},[e("v-card-title",{staticClass:"mb-1 headermodalstyle rounded-xl elevation-5"},[e("span",{},[t._v("Edit Data GIS")]),e("v-spacer"),e("v-icon",{attrs:{color:"red"},on:{click:function(e){t.dialogEditGIS.show=!1}}},[t._v("mdi-close-circle")])],1),e("v-card-text",{staticClass:"px-0 px-lg-5"},[e("v-overlay",{attrs:{absolute:"",value:t.dialogEditGIS.loading}},[e("div",{staticClass:"d-flex flex-column justify-center align-center"},[e("LottieAnimation",{ref:"anim",staticStyle:{height:"64px"},attrs:{animationData:t.lottie.data.loading,loop:!0}}),e("p",{staticClass:"mt-2 mb-0"},[t._v("Loading... "),e("v-progress-circular",{attrs:{size:17,width:3,indeterminate:"",color:"white"}})],1)],1)]),e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-0"},[e("p",{staticClass:"mb-0 grey--text text--darken-3",staticStyle:{"font-size":"17px"}},[e("v-icon",{staticClass:"mr-2"},[t._v("mdi-map-marker")]),t._v("Lokasi Distribusi")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:""}})],1)]),e("v-text-field",{attrs:{outlined:"",rounded:"",dense:"","hide-details":"",color:"green",label:"Koordinat Lokasi"},model:{value:t.dataToStore.distribution_coordinates,callback:function(e){t.$set(t.dataToStore,"distribution_coordinates",e)},expression:"dataToStore.distribution_coordinates"}})],1)],1)],1),0==t.dialogEditGIS.loading?e("v-card-actions",{staticClass:"elevation-15 rounded-xl"},[e("v-btn",{attrs:{color:"red px-5",rounded:"",dark:""},on:{click:function(e){t.dialogEditGIS.show=!1}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-spacer"),e("v-btn",{attrs:{color:"green white--text",rounded:"",disabled:"IT"!=t.User.role_group&&"GIS STAFF"!=t.User.role_name||t.disabledEditDataGIS},on:{click:t.SaveEditGIS}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" Edit Data GIS ")],1)],1):t._e()],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl"},model:{value:t.dialogConfirmPeriodeTanam,callback:function(e){t.dialogConfirmPeriodeTanam=e},expression:"dialogConfirmPeriodeTanam"}},[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-center"},[t._v("Apa Anda Yakin Untuk menambah Data Ini?")]),e("v-card-actions",{staticClass:"pb-4"},[e("v-spacer"),e("v-btn",{staticClass:"px-4",attrs:{color:"orange white--text",rounded:"",small:""},on:{click:function(e){t.dialogConfirmPeriodeTanam=!1}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-btn",{staticClass:"px-4",attrs:{color:"green white--text",rounded:"",small:""},on:{click:t.addDataPeriodeTanam}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-check-bold")]),t._v(" OK ")],1),e("v-spacer")],1)],1)],1),e("PickCoordinate",{attrs:{show:t.modals.pick_coordinate.show,data:t.modals.pick_coordinate.data},on:{action:e=>t.modalActions(e)}}),e("v-dialog",{attrs:{"max-width":"999","content-class":"rounded-xl",persistent:"",scrollable:""},model:{value:t.dialogAdd.show,callback:function(e){t.$set(t.dialogAdd,"show",e)},expression:"dialogAdd.show"}},[e("v-card",{attrs:{rounded:"xl",elevation:"10"}},[e("v-card-title",{staticClass:"mb-1 headermodalstyle rounded-xl elevation-5"},[e("span",{},[t._v("Tambah Data Sosialisasi Tanam FF")]),e("v-spacer"),e("v-icon",{attrs:{color:"red"},on:{click:function(e){t.dialogAdd.show=!1}}},[t._v("mdi-close-circle")])],1),e("v-card-text",{staticClass:"px-0 px-lg-5"},[e("v-overlay",{attrs:{absolute:"",value:t.dialogAdd.loading}},[e("div",{staticClass:"d-flex flex-column justify-center align-center"},[e("LottieAnimation",{ref:"anim",staticStyle:{height:"64px"},attrs:{animationData:t.lottie.data.loading,loop:!0}}),e("p",{staticClass:"mt-2 mb-0"},[t._v("Loading... "),e("v-progress-circular",{attrs:{size:17,width:3,indeterminate:"",color:"white"}})],1)],1)]),e("v-container",[e("v-row",[e("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"12"}},[e("v-btn",{attrs:{small:"",color:"info",rounded:""},on:{click:t.getFFOptions}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-refresh")]),t._v(" Muat Ulang FF ")],1)],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-autocomplete",{attrs:{dense:"",outlined:"",rounded:"",color:"success","item-color":"success","menu-props":{rounded:"xl"},rules:[t=>!!t||"Field is required"],label:"Pilih Field Facilitator",items:t.options.ff.items,"item-text":"name","item-value":"ff_no",loading:t.options.ff.loading,"no-data-text":t.options.ff.loading?"Loading...":"No Data"},on:{change:function(e){return t.getLahansFF()}},scopedSlots:t._u([{key:"item",fn:function(a){return[e("v-list-item-content",[e("v-list-item-title",{domProps:{innerHTML:t._s(a.item.name)}}),e("v-list-item-subtitle",[t._v(t._s(a.item.ff_no))])],1)]}}]),model:{value:t.options.ff.model,callback:function(e){t.$set(t.options.ff,"model",e)},expression:"options.ff.model"}})],1),e("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"12",sm:"12",md:"12",lg:"4"}},[e("p",{staticClass:"mb-1"},[t._v("Tanggal Distribusi")]),e("v-menu",{attrs:{rounded:"xl",transition:"slide-x-transition",bottom:"",right:"","offset-x":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function({on:i}){return[e("v-btn",t._g(t._b({attrs:{rounded:"",large:"",disabled:!t.options.ff.model,color:"green lighten-1"}},"v-btn",s,!1),{...a,...i}),[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.distribution_time,"dddd, DD MMMM Y"))+" ")],1)]}}],null,!0)},[e("span",[t._v("Klik untuk memunculkan datepicker")])])]}}]),model:{value:t.datepicker2Show,callback:function(e){t.datepicker2Show=e},expression:"datepicker2Show"}},[e("v-card",{staticClass:"rounded-xl pb-2"},[e("v-overlay",{attrs:{value:t.datepicker2Loading}},[e("div",{staticClass:"d-flex flex-column align-center justify-center"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"white",size:"64"}}),e("p",{staticClass:"mt-2 mb-0"},[t._v("Updating available dates...")])],1)]),e("div",{staticClass:"d-flex flex-column align-center"},[e("v-date-picker",{key:t.datepicker2Key,attrs:{color:"green lighten-1 rounded-xl",min:"2023-12-01",max:"2024-01-31","allowed-dates":t.showingAvailableDates},model:{value:t.dataToStore.distribution_time,callback:function(e){t.$set(t.dataToStore,"distribution_time",e)},expression:"dataToStore.distribution_time"}}),e("v-btn",{staticClass:"white--text px-4",attrs:{color:"green",small:"",rounded:""},on:{click:this.setTanggalDistribusi}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-check-circle")]),t._v(" Set ")],1)],1)],1)],1)],1),e("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"12",sm:"12",md:"12",lg:"4"}},[e("v-col",[e("p",{staticClass:"mb-1"},[t._v(" Awal Pembuatan Lubang Tanam ")]),e("v-btn",{attrs:{rounded:"",large:"",color:"green lighten-1",disabled:""}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.start_pemlub_time,"dddd, DD MMMM Y"))+" ")],1)],1),e("v-col",[e("p",{staticClass:"mb-1"},[t._v(" Batas Akhir Pembuatan Lubang Tanam")]),e("v-btn",{attrs:{rounded:"",large:"",color:"green lighten-1",disabled:""}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.penlub_time,"dddd, DD MMMM Y"))+" ")],1)],1)],1),e("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"12",sm:"12",md:"12",lg:"4"}},[e("v-col",[e("p",{staticClass:"mb-1"},[t._v("Tanggal Awal Realisasi Tanam")]),e("v-btn",{attrs:{rounded:"",large:"",disabled:"",color:"green lighten-1"}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.planting_time,"dddd, DD MMMM Y"))+" ")],1)],1),e("v-col",[e("p",{staticClass:"mb-1"},[t._v("Batas Akhir Realisasi Tanam")]),e("v-btn",{attrs:{rounded:"",large:"",disabled:"",color:"green lighten-1"}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-calendar ")]),t._v(" "+t._s(t.dateFormat(t.dataToStore.end_planting_time,"dddd, DD MMMM Y"))+" ")],1)],1)],1),e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-0"},[e("p",{staticClass:"mb-0 grey--text text--darken-3",staticStyle:{"font-size":"17px"}},[e("v-icon",{staticClass:"mr-2"},[t._v("mdi-map-marker")]),t._v("Pilih Lokasi Distribusi")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:""}})],1)]),e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("v-text-field",{attrs:{outlined:"",rounded:"",dense:"","hide-details":"",color:"green",label:"Koordinat Lokasi"},scopedSlots:t._u([{key:"append",fn:function(){return[e("v-btn",{staticClass:"mb-2",attrs:{small:"",rounded:"",color:"green white--text"},on:{click:()=>t.showModalPickCoordinate({model:t.dataToStore.distribution_coordinates})}},[t._v(" "+t._s(t.dataToStore.distribution_coordinates?"Edit":"Ambil")+" Koordinat ")])]},proxy:!0}]),model:{value:t.dataToStore.distribution_coordinates,callback:function(e){t.$set(t.dataToStore,"distribution_coordinates",e)},expression:"dataToStore.distribution_coordinates"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("v-text-field",{attrs:{color:"green",dense:"",outlined:"",rounded:"",placeholder:"Balai Desa / Rumah Bp ... / dll",label:"Detail Alamat Distribusi",rules:[t=>!!t||"Field is required"],"hide-details":""},model:{value:t.dataToStore.distribution_location,callback:function(e){t.$set(t.dataToStore,"distribution_location",e)},expression:"dataToStore.distribution_location"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("v-text-field",{attrs:{color:"green",dense:"",outlined:"",rounded:"",label:"Rekomendasi Armada",placeholder:"Truck / SS / yang lainnya",rules:[t=>!!t||"Field is required"],"hide-details":""},model:{value:t.dataToStore.distribution_rec_armada,callback:function(e){t.$set(t.dataToStore,"distribution_rec_armada",e)},expression:"dataToStore.distribution_rec_armada"}})],1),e("v-col",{attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{dense:"",color:"success","hide-details":"","item-color":"success","item-text":"material_name","item-value":"material_no",items:t.training_material_items,label:"Materi Pelatihan","menu-props":{rounded:"xl",transition:"slide-y-transition"},outlined:"",rounded:"",readonly:""},model:{value:t.dataToStore.training_material,callback:function(e){t.$set(t.dataToStore,"training_material",e)},expression:"dataToStore.training_material"}})],1),e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-0"},[e("p",{staticClass:"mb-0 grey--text text--darken-3",staticStyle:{"font-size":"17px"}},[e("v-icon",{staticClass:"mr-2"},[t._v("mdi-note-alert")]),t._v("Upload Absen Sostam")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:""}})],1)]),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",placeholder:"Pilih Foto Absensi Sostam 1","prepend-icon":"mdi-camera","show-size":"",label:"Pilih Foto Absensi Sostam 1..."},on:{change:e=>{t.dataToStore.absensi_photo=e}}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",placeholder:"Pilih Foto Absensi Sostam 2","prepend-icon":"mdi-camera","show-size":"",label:"Pilih Foto Absensi Sostam 2..."},on:{change:e=>{t.dataToStore.absensi_photo2=e}}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-row",{staticClass:"align-center mb-4"},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-0"},[e("p",{staticClass:"mb-0 grey--text text--darken-3",staticStyle:{"font-size":"17px"}},[e("v-icon",{staticClass:"mr-2"},[t._v("mdi-account-group")]),t._v(" List Petani & Lahan")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:""}}),e("p",{staticClass:"mb-0"},[e("strong",[t._v(t._s(t.table.lahans.items.length))]),t._v(" Petani, "),e("strong",[t._v(t._s(this.totalDataBibitSostam))]),t._v(" Bibit ")])],1)]),e("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"12"}},[e("v-btn",{attrs:{disabled:!t.options.ff.model,color:"info",rounded:"",small:""},on:{click:t.getLahansFF}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-refresh")]),t._v(" Muat Ulang ")],1)],1)],1),e("v-data-table",{staticClass:"rounded-xl elevation-5 mb-2",attrs:{"item-key":"farmer_no",showSelect:"","checkbox-color":"green",color:"success",headers:t.table.lahans.header,items:t.table.lahans.items,loading:t.table.lahans.loading,"loading-text":"Loading... Please wait","hide-default-footer":"","items-per-page":-1},on:{input:e=>t.selectedKehadiranPetani(e)},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-dialog",{attrs:{"max-width":"700px","content-class":"rounded-xl"},model:{value:t.table.lahans.dialogs.trees.show,callback:function(e){t.$set(t.table.lahans.dialogs.trees,"show",e)},expression:"table.lahans.dialogs.trees.show"}},[e("v-card",[e("v-card-title",{staticClass:"mb-1 headermodalstyle rounded-xl elevation-5"},[e("span",{},[t._v("Set Trees Amount")]),e("v-spacer"),e("v-icon",{attrs:{color:"red"},on:{click:function(e){t.table.lahans.dialogs.trees.show=!1}}},[t._v("mdi-close-circle")])],1),t.table.lahans.dialogs.trees.datas?e("v-card-content",[e("v-container",{staticClass:"py-2"},[e("h4",[t._v("Lahan")]),e("v-simple-table",[e("tbody",[e("tr",[e("td",[t._v("Luas Lahan")]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(t._s(t.numberFormat(t.table.lahans.dialogs.trees.datas.land_area))+"m"),e("sup",[t._v("2")])])])]),e("tr",[e("td",[t._v("Opsi Pola Tanam")]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(t._s(t.table.lahans.dialogs.trees.datas.opsi_pola_tanam))])])]),e("tr",[e("td",[t._v("Region")]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(t._s("JB"==t.table.lahans.dialogs.trees.datas.province?"Jawa Barat":"Jawa Tengah"))])])])])]),e("h4",[t._v("Seeds List")]),e("v-simple-table",{staticClass:"rounded-xl elevation-2 overflow-hidden"},[e("thead",[e("tr",[e("th",[t._v("No")]),e("th",[t._v("Category")]),e("th",[t._v("Tree Name")]),e("th",[t._v("Amount")])])]),e("tbody",t._l(t.table.lahans.dialogs.trees.datas.trees,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(s+1))]),e("td",[t._v(t._s(a.category))]),e("td",[t._v(t._s(a.tree_name))]),e("td",[t._v(t._s(a.amount))])])})),0)])],1)],1):t._e(),e("v-card-actions",[e("v-btn",{attrs:{color:"red px-5",rounded:"",dark:""},on:{click:function(e){t.table.lahans.dialogs.trees.show=!1}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-spacer"),e("v-btn",{attrs:{color:"green px-5",rounded:"",dark:""},on:{click:function(e){t.table.lahans.dialogs.trees.show=!1}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" Set ")],1)],1)],1)],1)]},proxy:!0},{key:"item.index",fn:function({index:e}){return[t._v(" "+t._s(e+1)+" ")]}},{key:"item.no_lahan",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.no_lahan))+" ")]}},{key:"item.total_kayu",fn:function({item:a}){return[e("v-icon",{staticClass:"mr-1",attrs:{color:"green"}},[t._v("mdi-sprout")]),t._v(t._s(t.numberFormat(a.total_kayu))+" ")]}},{key:"item.total_mpts",fn:function({item:a}){return[e("v-icon",{staticClass:"mr-1",attrs:{color:"orange"}},[t._v("mdi-sprout")]),t._v(t._s(t.numberFormat(a.total_mpts))+" ")]}},{key:"header.data-table-select",fn:function({index:e}){return[t._v(" Kehadiran ")]}}])})],1)],1)],1)],1),0==t.dialogAdd.loading?e("v-card-actions",{staticClass:"elevation-15 rounded-xl"},[e("v-btn",{attrs:{color:"red px-5",rounded:"",dark:""},on:{click:function(e){t.dialogAdd.show=!1}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-spacer"),e("v-btn",{attrs:{color:"green white--text",rounded:"",disabled:t.disabledCreateSostamByFF},on:{click:function(e){return t.createSostamByFF()}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" Buat Sostam ")],1)],1):t._e()],1)],1),e("v-dialog",{attrs:{"max-width":"800px","content-class":"rounded-xl"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",{attrs:{rounded:"xl"}},[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-card-title",{staticClass:"mb-1 headermodalstyle rounded-xl"},[e("span",{},[t._v(t._s(t.formTitle))])]),e("v-card-text",[1==t.load?e("v-container",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.5)"},attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":""}},[e("v-progress-circular",{attrs:{size:80,width:10,indeterminate:"",color:"primary"}})],1)],1):t._e(),0==t.load?e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-select",{attrs:{disabled:"",rounded:"",items:t.itemsff,"item-text":"name","item-value":"ff_no",label:"Pilih Field Facilitator",outlined:"",clearable:"",rules:[t=>!!t||"Field is required"]},on:{change:t.selectPetani},model:{value:t.defaultItem.ff_no,callback:function(e){t.$set(t.defaultItem,"ff_no",e)},expression:"defaultItem.ff_no"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[e("v-select",{attrs:{disabled:"",rounded:"",items:t.itemsTahun,"item-text":"text","item-value":"value",label:"Pilih Tahun Program",outlined:"",clearable:"",rules:[t=>!!t||"Field is required"]},model:{value:t.defaultItem.planting_year,callback:function(e){t.$set(t.defaultItem,"planting_year",e)},expression:"defaultItem.planting_year"}})],1),e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-0"},[e("p",{staticClass:"mb-0 grey--text text--darken-3",staticStyle:{"font-size":"17px"}},[e("v-icon",{staticClass:"mr-2"},[t._v("mdi-note-alert")]),t._v("Upload Absen Sostam")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:""}})],1)]),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",placeholder:"Pilih Foto Absensi Sostam 1","prepend-icon":"mdi-camera","show-size":"",label:"Pilih Foto Absensi Sostam 1..."},on:{change:e=>{t.dataToStore.absensi_photo=e}}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",placeholder:"Pilih Foto Absensi Sostam 2","prepend-icon":"mdi-camera","show-size":"",label:"Pilih Foto Absensi Sostam 2..."},on:{change:e=>{t.dataToStore.absensi_photo2=e}}})],1),e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-menu",{attrs:{"offset-x":"",transition:"slide-x-transition",rounded:"xl"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("div",{staticClass:"d-flex flex-column align-center"},[e("p",{staticClass:"mb-0 mx-auto"},[e("strong",[t._v("Distribusi Bibit")])]),e("v-btn",t._g(t._b({attrs:{dark:"",rounded:"",color:"green"}},"v-btn",s,!1),a),[t._v(" "+t._s(t.dateFormat(t.datepicker2,"ddd, DD MMMM Y"))+" ")])],1)]}}],null,!1,3577426532),model:{value:t.menu2,callback:function(e){t.menu2=e},expression:"menu2"}},[e("v-overlay",{attrs:{value:t.datepicker2Loading}},[e("div",{staticClass:"d-flex flex-column align-center justify-center"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"white",size:"64"}}),e("p",{staticClass:"mt-2 mb-0"},[t._v("Updating available dates...")])],1)]),e("v-date-picker",{key:t.datepicker2Key2,staticClass:"rounded-xl",attrs:{min:"2023-12-01",max:"2024-01-31","allowed-dates":t.showingAvailableDates,color:"green"},on:{input:function(e){t.menu2=!1}},model:{value:t.datepicker2,callback:function(e){t.datepicker2=e},expression:"datepicker2"}})],1)],1),e("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"12",lg:"4"}},[e("v-col",[e("p",{staticClass:"mb-0"},[e("strong",[t._v("Awal Penilikan Lubang")])]),e("v-btn",{staticClass:"black--text",attrs:{rounded:"",disabled:""}},[t._v(" "+t._s(t.dateFormat(t.datepicker1))+" ")])],1),e("v-col",[e("p",{staticClass:"mb-0"},[e("strong",[t._v("Akhir Penilikan Lubang")])]),e("v-btn",{staticClass:"black--text",attrs:{rounded:"",disabled:""}},[t._v(" "+t._s(t.dateFormat(t.datepicker4))+" ")])],1)],1),e("v-col",{staticClass:"d-flex flex-column align-center",attrs:{cols:"12",lg:"4"}},[e("v-col",[e("p",{staticClass:"mb-0"},[e("strong",[t._v("Batas Awal Realisasi Tanam")])]),e("v-btn",{staticClass:"black--text",attrs:{rounded:"",disabled:""}},[t._v(" "+t._s(t.dateFormat(t.datepicker3))+" ")])],1),e("v-col",[e("p",{staticClass:"mb-0"},[e("strong",[t._v("Batas Akhir Realisasi Tanam")])]),e("v-btn",{staticClass:"black--text",attrs:{rounded:"",disabled:""}},[t._v(" "+t._s(t.dateFormat(t.datepicker5))+" ")])],1)],1)],1)],1):t._e()],1),0==t.load?e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"px-5",attrs:{color:"red darken-1",dark:"",rounded:""},on:{click:t.close}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-btn",{staticClass:"px-5",attrs:{color:"green",dark:"",rounded:""},on:{click:t.updateData}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" Save ")],1)],1):t._e()],1)],1)],1),e("v-dialog",{attrs:{"max-width":"800px","content-class":"rounded-xl"},model:{value:t.dialogShowEditAbsensi,callback:function(e){t.dialogShowEditAbsensi=e},expression:"dialogShowEditAbsensi"}},[e("v-card",{attrs:{rounded:"xl"}},[e("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-card-title",{staticClass:"mb-1 headermodalstyle rounded-xl"},[e("span",{},[t._v("Edit Foto Absensi")])]),e("v-card-text",[1==t.load?e("v-container",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.5)"},attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":""}},[e("v-progress-circular",{attrs:{size:80,width:10,indeterminate:"",color:"primary"}})],1)],1):t._e(),0==t.load?e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-0"},[e("p",{staticClass:"mb-0 grey--text text--darken-3",staticStyle:{"font-size":"17px"}},[e("v-icon",{staticClass:"mr-2"},[t._v("mdi-note-alert")]),t._v("Upload Absen Sostam")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:""}})],1)]),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",placeholder:"Pilih Foto Absensi Sostam 1","prepend-icon":"mdi-camera","show-size":"",label:"Pilih Foto Absensi Sostam 1..."},on:{change:e=>{t.dataToStore.absensi_photo=e}}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-file-input",{attrs:{accept:"image/png, image/jpeg, image/bmp",placeholder:"Pilih Foto Absensi Sostam 2","prepend-icon":"mdi-camera","show-size":"",label:"Pilih Foto Absensi Sostam 2..."},on:{change:e=>{t.dataToStore.absensi_photo2=e}}})],1)],1)],1):t._e()],1),0==t.load?e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"px-5",attrs:{color:"red darken-1",dark:"",rounded:""},on:{click:t.close}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-btn",{staticClass:"px-5",attrs:{color:"green",dark:"",rounded:"",disabled:t.disabledUpdateFotoAbsensi},on:{click:t.updateAbsentPhoto}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" Save ")],1)],1):t._e()],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl"},model:{value:t.dialogShowEdit,callback:function(e){t.dialogShowEdit=e},expression:"dialogShowEdit"}},[e("v-card",[e("v-card-title",{staticClass:"justify-center"},[t._v("Data Mana Yang Ingin Anda Edit?")]),e("v-card-actions",{staticClass:"pb-3"},[e("v-spacer"),e("v-row",{staticClass:"mx-2 my-0 mt-2 justify-center"},[e("v-col",{attrs:{cols:"14",lg:"6"}},[e("v-btn",{staticClass:"px-5",attrs:{rounded:"",color:"blue white--text",disabled:"IT"!=t.User.role_group&&"PLANNING MANAGER"!=t.User.role_name,disabled:""},on:{click:t.showEditModal}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-file-document-edit")]),t._v(" Edit Sosialisasi")],1)],1),e("v-col",{attrs:{cols:"14",lg:"6"}},[e("v-btn",{staticClass:"px-5",attrs:{color:"green white--text",rounded:"",disabled:!0},on:{click:t.showEditJumlahPohonModal}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-forest")]),t._v(" Jumlah Pohon")],1)],1),e("v-col",{attrs:{cols:"14",lg:"6"}},[e("v-btn",{staticClass:"px-5",attrs:{dark:"",rounded:"",color:"green",disabled:"IT"!=t.User.role_group&&"PLANNING MANAGER"!=t.User.role_name&&"UNIT MANAGER"!=t.User.role_name},on:{click:t.showPlantingPeriode}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-plus-thick ")]),t._v(" Periode Tanam ")],1)],1)],1),e("v-spacer")],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl"},model:{value:t.dialogDetailPohon,callback:function(e){t.dialogDetailPohon=e},expression:"dialogDetailPohon"}},[e("v-card",[e("v-card-title",{staticClass:"justify-center align-center py-5"},[e("span",{},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-forest")]),t._v(" List Pohon Lahan")],1)]),e("v-card-text",[e("v-row",{},[e("v-col",{attrs:{cols:"12"}},[e("v-simple-table",[e("tbody",[e("tr",[e("td",[t._v("Luas Lahan")]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(t._s(t.numberFormat(t.DetailTreesLahanTempData.land_area||0)))]),t._v("m"),e("sup",[t._v("2")])])]),e("tr",[e("td",[t._v("Tutupan Lahan")]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(t._s(t.DetailTreesLahanTempData.tutupan_lahan||0))]),t._v("%")])]),t.DetailTreesLahanTempData.planting_details&&t.DetailTreesLahanTempData.land_area<1e4?e("tr",[e("td",[t._v("Max Bibit Kayu "+t._s(t.getTotalBibitInDetail(t.DetailTreesLahanTempData.planting_details,"EXISTS","MPTS")>0?"(+MPTS)":""))]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(t._s(t.DetailTreesLahanTempData.max_seed_amount||t.getSeedCalculation(t.DetailTreesLahanTempData,"total_max_trees")))]),t._v(" Bibit")])]):t._e()])])],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("div",{staticClass:"d-flex flex-column align-center"},[t.DetailTreesLahanTempData.land_area<1e4&&t.DetailTreesLahanTempData.max_seed_amount<t.getStatusTotalBibitInDetail(t.DetailTreesLahanTemp,"KAYU")+t.getStatusTotalBibitInDetail(t.DetailTreesLahanTemp,"MPTS")?e("v-btn",{attrs:{color:"red white--text mb-2",small:"",rounded:""},on:{click:function(e){return t.resetJumlahBibit()}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-refresh")]),t._v(" Reset Jumlah Bibit ")],1):t._e(),e("v-data-table",{staticClass:"elevation-5 rounded-xl",attrs:{headers:t.headersdetaileditjumlah,items:t.DetailTreesLahanTemp},scopedSlots:t._u([{key:"item.actions",fn:function({item:a}){return[e("v-icon",{attrs:{color:"warning",disabled:t.disabledEditPohon(t.DetailTreesLahanTemp,a.tree_category,t.DetailTreesLahanTempData)},on:{click:function(e){return t.editDetailPohon(a)}}},[t._v(" mdi-pencil-circle ")])]}}])})],1)])],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"px-5 mb-2",attrs:{dark:"",color:"red",rounded:""},on:{click:t.closeDetailPohon}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar")],1),e("v-btn",{staticClass:"px-5 mb-2 white--text",attrs:{color:"green",rounded:"",disabled:0==t.getStatusTotalBibitInDetail(t.DetailTreesLahanTemp,"KAYU")||t.getStatusTotalBibitInDetail(t.DetailTreesLahanTemp,"MPTS")>Math.round(40/60*t.getStatusTotalBibitInDetail(t.DetailTreesLahanTemp,"KAYU"))||t.DetailTreesLahanTempData.land_area<1e4&&t.DetailTreesLahanTempData.max_seed_amount<t.getStatusTotalBibitInDetail(t.DetailTreesLahanTemp,"KAYU")+t.getStatusTotalBibitInDetail(t.DetailTreesLahanTemp,"MPTS")},on:{click:t.saveEditPohon}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" Simpan")],1),e("v-spacer")],1)],1)],1),e("v-dialog",{attrs:{"max-width":"450px","content-class":"rounded-xl"},model:{value:t.dialogDetailPohonEdit,callback:function(e){t.dialogDetailPohonEdit=e},expression:"dialogDetailPohonEdit"}},[e("v-card",[e("v-card-text",[e("v-row",{staticClass:"pt-7"},[e("v-col",{attrs:{cols:"12"}},[e("v-simple-table",[e("tbody",[t.DetailTreesLahanTempData.planting_details&&t.DetailTreesLahanTempData.land_area<1e4?e("tr",[e("td",[t._v("Total Available")]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(" "+t._s(t.getAvailableBibit(t.DetailTreesLahanTemp,t.DetailTreesLahanTempData.max_seed_amount||t.getSeedCalculation(t.DetailTreesLahanTempData,"total_max_trees"),t.editedItemPohon)))]),t._v(" Bibit")])]):t._e(),e("tr",[e("td",[t._v("Nama Pohon")]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(t._s(t.editedItemPohon.tree_name))])])]),e("tr",[e("td",[t._v("Kategori")]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(t._s(t.editedItemPohon.tree_category))])])])])])],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[e("v-text-field",{attrs:{label:"Jumlah Pohon","hide-details":"",rounded:"",outlined:"",type:"number"},model:{value:t.editedItemPohon.amount,callback:function(e){t.$set(t.editedItemPohon,"amount",e)},expression:"editedItemPohon.amount"}})],1)],1)],1),e("v-card-actions",{staticClass:"pb-4"},[e("v-spacer"),e("v-btn",{staticClass:"px-3",attrs:{rounded:"",small:"",color:"red",dark:""},on:{click:t.closeDetailEditPohon}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-close")]),t._v(" Keluar")],1),e("v-btn",{staticClass:"px-3 white--text",attrs:{rounded:"",small:"",color:"green",disabled:t.DetailTreesLahanTempData.land_area<1e4&&t.getDisabledSaveItemPohon(t.DetailTreesLahanTemp,t.DetailTreesLahanTempData,t.editedItemPohon)||t.editedItemPohon.amount<0},on:{click:t.saveEditPohonTemp}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-check")]),t._v(" Set")],1),e("v-spacer")],1)],1)],1),e("v-dialog",{attrs:{"max-width":"800px",scrollable:"",persistent:"","content-class":"rounded-xl"},model:{value:t.dialogDetail,callback:function(e){t.dialogDetail=e},expression:"dialogDetail"}},[e("v-card",{attrs:{rounded:"xl"}},[e("v-card-title",{staticClass:"mb-1 headermodalstyle"},[e("span",{},[t._v("Detail Sosialisasi Tanam")])]),e("v-divider"),e("v-card-text",[1==t.load?e("v-container",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.5)"},attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":""}},[e("v-progress-circular",{attrs:{size:80,width:10,indeterminate:"",color:"success"}})],1)],1):t._e(),0==t.load?e("v-container",[e("detailLokasiSostam",{attrs:{section:"detailLokasiSostam",long:t.defaultItem.long,lat:t.defaultItem.lat,ff_no:t.defaultItem.ff_no}}),e("v-divider",{staticStyle:{"background-color":"black !important"}}),e("strong",[t._v("Data Umum")]),e("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[e("tbody",[e("tr",[e("th",{staticClass:"text-left",staticStyle:{width:"200px","font-size":"14px"}},[t._v(" Form No ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("strong",[t._v(t._s(t.defaultItem.form_no))])])]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{width:"200px","font-size":"14px"}},[t._v(" Tahun Program ")]),e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.defaultItem.planting_year)+" ")])]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" Nama Petani ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("strong",[t._v(t._s(t.defaultItem.nama_petani))])])]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" No Ktp ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("strong",[t._v(t._s(t.defaultItem.ktp_no))])])]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" Alamat ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("strong",[t._v(t._s(t.defaultItem.alamat))])])])])]},proxy:!0}],null,!1,1231070711)}),e("v-divider",{staticStyle:{"background-color":"black !important"}}),e("strong",[t._v("Keterangan Lahan")]),e("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[e("tbody",[e("tr",[e("th",{staticClass:"text-left",staticStyle:{width:"200px","font-size":"14px"}},[t._v(" Opsi Pola Tanam ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("strong",[t._v(t._s(t.defaultItem.opsi_pola_tanam))])])]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" Status Kepimilikan Lahan ")]),e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.defaultItem.type_sppt)+" ")])]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" No Dokumen Lahan ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("strong",[t._v(t._s(t.defaultItem.document_no))])])]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" Luas Lahan dan Tutupan Lahan ")]),e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.defaultItem.land_area)+"m"),e("sup",[t._v("2")]),t._v(" dan "+t._s(t.defaultItem.tutupan_lahan)+"% ")])])])]},proxy:!0}],null,!1,2092611033)}),e("v-divider",{staticStyle:{"background-color":"black !important"}}),e("strong",[t._v("Waktu dan Lokasi")]),e("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[e("tbody",[e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" Pembuatan Lubang Tanam ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("v-card",{staticClass:"align-center",attrs:{rounded:"",block:"",darken:"",color:"orange"}},[e("strong",[t._v(t._s(t.gettanggal(t.defaultItem.start_pembuatan_lubang_tanam))+" s/d "+t._s(t.gettanggal(t.defaultItem.pembuatan_lubang_tanam)))])])],1)]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" Waktu Distribusi Bibit ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("strong",[t._v(t._s(t.gettanggal(t.defaultItem.distribution_time)))])])]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" Lokasi Distribusi Bibit ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("strong",[t._v(t._s(t.defaultItem.distribution_location))])])]),e("tr",[e("th",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[t._v(" Waktu Penanaman Petani ")]),e("td",{staticClass:"text-left",staticStyle:{"font-size":"14px"}},[e("v-card",{staticClass:"align-center",attrs:{rounded:"",block:"",darken:"",color:"orange"}},[e("strong",[t._v(t._s(t.gettanggal(t.defaultItem.planting_time))+" s/d "+t._s(t.gettanggal(t.defaultItem.end_planting_time)))])])],1)])])]},proxy:!0}],null,!1,2894990261)}),e("v-divider",{staticStyle:{"background-color":"black !important"}}),e("div",[e("h4",{staticClass:"mt-3"},[t._v("Jenis dan Jumlah Bibit")]),t.defaultItem.max_seed_amount&&t.defaultItem.planting_details?e("v-simple-table",[e("tbody",[e("tr",[e("td",[t._v("Max Kayu "+t._s(t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"EXISTS","MPTS")>0?"(+MPTS)":""))]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(t._s(t.defaultItem.max_seed_amount))]),t._v(" Bibit")])]),e("tr",[e("td",[t._v("Total Kayu "+t._s(t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"EXISTS","MPTS")>0?"(+MPTS)":""))]),e("td",[t._v(":")]),e("td",[e("v-btn",{staticClass:"pr-2",attrs:{rounded:"",dark:"",color:t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"COLOR",t.defaultItem.max_seed_amount)}},[t._v(" "+t._s(t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"KAYU")+t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"MPTS"))+" Bibit "),e("v-icon",{staticClass:"ml-2"},[t._v(t._s("green"==t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"COLOR",t.defaultItem.max_seed_amount)?"mdi-check-circle":"mdi-close-circle"))])],1)],1)]),t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"EXISTS","CROPS")>0?e("tr",[e("td",[t._v("Total Crops")]),e("td",[t._v(":")]),e("td",[e("strong",[t._v(" "+t._s(t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"CROPS"))+" ")]),t._v(" Bibit ")])]):t._e()])]):t._e(),e("h3",{staticClass:"ml-1"},[e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headersdetail,items:t.defaultItem.planting_details}})],1)],1),e("v-divider",{staticStyle:{"background-color":"black !important"}}),e("v-row",{staticClass:"mt-2 py-4"},[e("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[e("p",[t._v("Tanda Tangan Petani")]),e("v-img",{staticClass:"rounded-lg cursor-pointer elevation-5",attrs:{"aspect-ratio":"1","lazy-src":"",transition:"fade-transition",src:`${t.$store.state.apiUrlImage}${t.defaultItem.signature}`},on:{click:()=>{t.preview.signature.url=`${t.$store.state.apiUrlImage}${t.defaultItem.signature}`,t.preview.signature.modal=!0}},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e("v-skeleton-loader",{staticClass:"mx-auto rounded-lg",attrs:{type:"image"}})]},proxy:!0}],null,!1,2515372236)})],1)],1),e("v-divider",{staticStyle:{"background-color":"black !important"}}),e("v-row",{staticClass:"mt-2"},[e("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[e("p",[t._v("Foto Absensi 1")]),e("v-img",{staticClass:"rounded-lg cursor-pointer elevation-5",attrs:{"aspect-ratio":"1","lazy-src":"",transition:"fade-transition",src:`${t.$store.state.apiUrlImage}${t.defaultItem.absensi1}`},on:{click:()=>{t.preview.absensi1.url=`${t.$store.state.apiUrlImage}${t.defaultItem.absensi1}`,t.preview.absensi1.modal=!0}},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e("v-skeleton-loader",{staticClass:"mx-auto rounded-lg",attrs:{type:"image"}})]},proxy:!0}],null,!1,2515372236)})],1),e("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[e("p",[t._v("Foto Absensi 2")]),e("v-img",{staticClass:"rounded-lg cursor-pointer elevation-5",attrs:{"aspect-ratio":"1","lazy-src":"",transition:"fade-transition",src:`${t.$store.state.apiUrlImage}${t.defaultItem.absensi2}`},on:{click:()=>{t.preview.absensi2.url=`${t.$store.state.apiUrlImage}${t.defaultItem.absensi2}`,t.preview.absensi2.modal=!0}},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e("v-skeleton-loader",{staticClass:"mx-auto rounded-lg",attrs:{type:"image"}})]},proxy:!0}],null,!1,2515372236)})],1)],1)],1):t._e()],1),e("v-divider"),e("v-card-actions",[e("v-btn",{staticClass:"px-5",attrs:{dark:"",color:"red",rounded:"",outlined:"",elevation:"1"},on:{click:()=>{t.dialogDetail=!1,t.disabledVerification=!1}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-spacer"),t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"KAYU")<1?e("p",{staticClass:"red--text small mb-0"},[t._v(" Kayu masih 0! ")]):t._e(),1==t.RoleAccesCRUDShow&&1==t.defaultItem.waitingapproval?e("v-btn",{staticClass:"px-5 white--text",attrs:{color:"success",rounded:"",disabled:!t.defaultItem.signature||0==t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"ALL")||0==t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"KAYU")||t.defaultItem.land_area<1e4&&"red"==t.getStatusTotalBibitInDetail(t.defaultItem.planting_details,"COLOR",t.defaultItem.max_seed_amount),elevation:"1"},on:{click:function(e){return t.verifSubmit()}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" Verifikasi ")],1):t._e()],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl"},model:{value:t.dialogVerification,callback:function(e){t.dialogVerification=e},expression:"dialogVerification"}},[e("v-card",[e("v-card-title",{staticClass:"justify-center"},[t._v("Apakah Anda yakin Untuk "),e("strong",[t._v(" Verifikasi")]),t._v("? "),e("small",{staticClass:"red--text"},[t._v("Hasil Tidak Dapat Dikembalikan")])]),e("v-card-actions",{staticClass:"pb-3"},[e("v-spacer"),e("v-btn",{staticClass:"px-4",attrs:{color:"red white--text",rounded:""},on:{click:t.closeVerification}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar")],1),e("v-btn",{staticClass:"px-4",attrs:{color:"success",rounded:""},on:{click:t.VerificationItemConfirm}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" YA")],1),e("v-spacer")],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl"},model:{value:t.dialogPetaniSusulan,callback:function(e){t.dialogPetaniSusulan=e},expression:"dialogPetaniSusulan"}},[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-center"},[t._v(" Apa Anda Yakin Melakukan Proses Ini? ")]),e("v-card-actions",{staticClass:"pb-4"},[e("v-spacer"),e("v-btn",{staticClass:"px-4",attrs:{color:"red white--text",rounded:"",small:""},on:{click:t.closePetaniSusulan}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-btn",{staticClass:"px-4",attrs:{color:"green white--text",rounded:"",small:""},on:{click:t.approvePetaniSusulan}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-save")]),t._v(" Simpan ")],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-center"},[t._v("Apa Anda Yakin Menghapus Data Ini?")]),e("v-card-actions",{staticClass:"pb-4"},[e("v-spacer"),e("v-btn",{staticClass:"px-4",attrs:{color:"orange white--text",rounded:"",small:""},on:{click:t.closeDelete}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-btn",{staticClass:"px-4",attrs:{color:"red white--text",rounded:"",small:""},on:{click:t.deleteItemConfirm}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-delete")]),t._v(" OK ")],1),e("v-spacer")],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl"},model:{value:t.dialogUnverif,callback:function(e){t.dialogUnverif=e},expression:"dialogUnverif"}},[e("v-card",[e("v-card-title",{staticClass:"d-flex justify-center"},[t._v("Apa Anda Yakin Untuk UNVERIFIKASI Data Ini?")]),e("v-card-actions",{staticClass:"pb-4"},[e("v-spacer"),e("v-btn",{staticClass:"px-4",attrs:{color:"orange white--text",rounded:"",small:""},on:{click:function(e){t.dialogUnverif=!1}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-btn",{staticClass:"px-4",attrs:{color:"red white--text",rounded:"",small:""},on:{click:t.unverifItemConfirm}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-undo")]),t._v(" OK ")],1),e("v-spacer")],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl",scrollable:""},model:{value:t.preview.signature.modal,callback:function(e){t.$set(t.preview.signature,"modal",e)},expression:"preview.signature.modal"}},[e("v-card",{staticClass:"rounded-xl"},[e("v-card-title",[t._v(" Preview Foto Tanda Tangan ")]),e("v-card-text",{staticClass:"pa-1 fontall"},[e("v-container",[e("v-img",{staticClass:"w-100 rounded-lg",attrs:{"lazy-src":""+t.preview.signature.url,src:""+t.preview.signature.url},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"image"}})]},proxy:!0}])})],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"rounded-lg",attrs:{color:"red",elevation:"1",outlined:""},on:{click:function(e){t.preview.signature.modal=!1}}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-close-circle-outline ")]),t._v(" Keluar ")],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl",scrollable:""},model:{value:t.preview.absensi1.modal,callback:function(e){t.$set(t.preview.absensi1,"modal",e)},expression:"preview.absensi1.modal"}},[e("v-card",{staticClass:"rounded-xl"},[e("v-card-title",[t._v(" Preview Foto Absensi 1 ")]),e("v-card-text",{staticClass:"pa-1 fontall"},[e("v-container",[e("v-img",{staticClass:"w-100 rounded-lg",attrs:{"lazy-src":""+t.preview.absensi1.url,src:""+t.preview.absensi1.url},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"image"}})]},proxy:!0}])})],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"rounded-lg",attrs:{color:"red",elevation:"1",outlined:""},on:{click:function(e){t.preview.absensi1.modal=!1}}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-close-circle-outline ")]),t._v(" Keluar ")],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px","content-class":"rounded-xl",scrollable:""},model:{value:t.preview.absensi2.modal,callback:function(e){t.$set(t.preview.absensi2,"modal",e)},expression:"preview.absensi2.modal"}},[e("v-card",{staticClass:"rounded-xl"},[e("v-card-title",[t._v(" Preview Foto Absensi 2 ")]),e("v-card-text",{staticClass:"pa-1 fontall"},[e("v-container",[e("v-img",{staticClass:"w-100 rounded-lg",attrs:{"lazy-src":""+t.preview.absensi2.url,src:""+t.preview.absensi2.url},scopedSlots:t._u([{key:"placeholder",fn:function(){return[e("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"image"}})]},proxy:!0}])})],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{staticClass:"rounded-lg",attrs:{color:"red",elevation:"1",outlined:""},on:{click:function(e){t.preview.absensi2.modal=!1}}},[e("v-icon",{attrs:{left:""}},[t._v(" mdi-close-circle-outline ")]),t._v(" Keluar ")],1)],1)],1)],1),e("v-data-table",{staticClass:"rounded-xl elevation-6 mx-3 pa-1 mb-2",attrs:{"data-aos":"fade-up","data-aos-delay":"200",headers:t.headers,items:t.dataobject,loading:t.loadtable,options:t.table.options,"server-items-length":t.table.datas.total,"loading-text":"Loading... Please wait",page:t.table.pagination.current_page,"show-expand":!0,"single-expand":"","footer-props":{itemsPerPageText:"Jumlah Data Per Halaman",itemsPerPageOptions:[10,25,40,-1],showCurrentPage:!0,showFirstLastPage:!0}},on:{"update:options":function(e){return t.$set(t.table,"options",e)},"item-expanded":t.checkExpandenItem},scopedSlots:t._u([{key:"item.countDown",fn:function({item:a}){return[e("div",{attrs:{id:"counter-"+a.id}}),t._v(" "+t._s(t.getCountDown(a))+" ")]}},{key:"item.index",fn:function({item:a,index:s}){return[0==t.loadtable?e("span",[t._v(" "+t._s(s+1+(t.table.pagination.current_page-1)*t.table.pagination.per_page)+" ")]):e("v-progress-circular",{attrs:{indeterminate:"",color:"green",size:"20"}})]}},{key:"top",fn:function(){return[e("v-row",{staticClass:"pt-3 px-2"},[e("v-col",{staticClass:"d-flex align-center",attrs:{cols:"12",lg:"6"}},[e("v-menu",{attrs:{rounded:"xl",bottom:"",right:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{dark:"",color:"warning",rounded:""}},"v-btn",s,!1),a),[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-filter-variant")]),t._v(" Filter ")],1)]}}])},[e("v-list",{staticClass:"d-flex flex-column align-center"},[e("v-list-item",[e("v-btn",{staticClass:"px-9",attrs:{rounded:"",dark:"",color:"green"},on:{click:function(e){return t.showFilterArea()}}},[e("v-icon",{staticClass:"mx-2",attrs:{small:""}},[t._v("mdi-map-legend")]),t._v(" Berdasarkan Area ")],1)],1),e("v-list-item",[1==t.RoleAccesFilterShow?e("v-btn",{staticClass:"mx-3 mt-1",attrs:{rounded:"",dark:"",color:"green"},on:{click:function(e){return t.showFilterEmployee()}}},[e("v-icon",{staticClass:"mx-2",attrs:{small:""}},[t._v("mdi-account-group")]),t._v(" Berdasarkan Karyawan ")],1):t._e()],1),e("v-list-item",[1==t.RoleAccesFilterShow?e("v-btn",{staticClass:"mx-3 mt-1",attrs:{rounded:"",dark:"",color:"green"},on:{click:function(e){return t.resetFilter()}}},[e("v-icon",{staticClass:"mx-2",attrs:{small:""}},[t._v("mdi-refresh")]),t._v(" Reset Filter ")],1):t._e()],1)],1)],1),e("v-select",{staticClass:"mx-auto mx-lg-3",staticStyle:{"max-width":"200px"},attrs:{color:"success","item-color":"success",items:t.$store.state.programYear.options,outlined:"",dense:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Tahun Program"},model:{value:t.program_year,callback:function(e){t.program_year=e},expression:"program_year"}}),e("v-btn",{staticClass:"mb-2 mb-lg-0",attrs:{color:"info white--text",rounded:"",disabled:t.loadtable},on:{click:t.resetFilter}},[t.loadtable?e("v-progress-circular",{staticClass:"mr-1",attrs:{indeterminate:"",size:"15"}}):e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-refresh")]),t._v(" Muat Ulang ")],1)],1),e("v-col",{staticClass:"d-none d-lg-flex align-center justify-end",attrs:{cols:"12",lg:"6"}},[e("v-btn",{attrs:{disabled:"IT"==!t.$store.state.User.role_group,dark:"",rounded:"",color:"green"},on:{click:function(e){return t.showAddModal()}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-plus-circle")]),t._v(" Tambah FF Sostam ")],1),e("v-menu",{attrs:{rounded:"xl",bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-icon",t._g(t._b({attrs:{color:"dark"}},"v-icon",s,!1),a),[t._v(" mdi-dots-vertical ")])]}}])},[e("v-list",{staticClass:"d-flex flex-column align-center"},[t._e()],1)],1)],1),e("v-fab-transition",[e("v-btn",{staticClass:"d-lg-none mb-16",attrs:{color:"green",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:function(e){return t.showAddModal()}}},[e("v-icon",[t._v("mdi-plus")])],1)],1)],1),e("v-row",{staticClass:"pb-4 px-2"},[e("v-col",{attrs:{cols:"12",lg:"6"}},[t._e()],1),e("v-col",{staticClass:"d-flex",attrs:{cols:"12",lg:"6"}},[e("v-select",{staticClass:"centered-select",staticStyle:{width:"50%","max-width":"200px","border-top-right-radius":"0px","border-bottom-right-radius":"0px"},attrs:{color:"success","item-color":"success",items:t.table.search.options.column,"item-value":"value","item-text":"text","hide-details":"",outlined:"",dense:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Kolom Pencarian"},model:{value:t.table.search.field,callback:function(e){t.$set(t.table.search,"field",e)},expression:"table.search.field"}}),"opsi_pola_tanam"!=t.table.search.field&&"validation"!=t.table.search.field?e("v-text-field",{staticStyle:{"border-top-left-radius":"0px","border-bottom-left-radius":"0px"},attrs:{color:"success","item-color":"success","append-icon":"mdi-magnify",outlined:"",dense:"",rounded:"",label:"Pencarian","hide-details":"",loading:t.table.search.options.column_loading},model:{value:t.table.search.value,callback:function(e){t.$set(t.table.search,"value",e)},expression:"table.search.value"}}):"opsi_pola_tanam"==t.table.search.field?e("v-select",{staticClass:"centered-select",staticStyle:{"border-top-left-radius":"0px","border-bottom-left-radius":"0px"},attrs:{color:"success","item-color":"success",items:t.table.search.options.pola_tanam,placeholder:"All","hide-details":"",outlined:"",dense:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",clearable:"",label:"Pilih Opsi Pola Tanam",loading:t.table.search.options.pola_tanam_loading},model:{value:t.table.search.value,callback:function(e){t.$set(t.table.search,"value",e)},expression:"table.search.value"}}):e("v-select",{staticClass:"centered-select",staticStyle:{"border-top-left-radius":"0px","border-bottom-left-radius":"0px"},attrs:{color:"success","item-color":"success",items:t.table.search.options.validation,"item-value":"value","item-text":"text","hide-details":"",outlined:"",dense:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Status"},model:{value:t.table.search.value,callback:function(e){t.$set(t.table.search,"value",e)},expression:"table.search.value"}})],1)],1)]},proxy:!0},{key:"item.land_area",fn:function({item:a}){return[t._v(" "+t._s(t.numberFormat(a.land_area))+" m"),e("sup",[t._v("2")])]}},{key:"item.trees_total",fn:function({item:e}){return[t._v(" "+t._s(t.numberFormat(e.trees_total))+" ")]}},{key:"expanded-item",fn:function({headers:a,item:s}){return[e("td",{staticClass:"py-6",attrs:{colspan:a.length}},[e("v-data-table",{staticClass:"rounded-xl elevation-6 mx-3 pa-1 mb-2",attrs:{"data-aos":"fade-up","data-aos-delay":"200",headers:t.subMainTable.table.expandItem.subHeader,items:t.subMainTable.table.expandItem.subItem,loading:t.subMainTable.table.expandItem.loading,options:t.subMainTable.table.expandItem.options,"server-items-length":t.subMainTable.table.expandItem.total,"loading-text":"Loading... Please wait",page:t.subMainTable.table.expandItem.current_page,"footer-props":{itemsPerPageText:"Jumlah Data Per Halaman",itemsPerPageOptions:[10,25,40,-1],showCurrentPage:!0,showFirstLastPage:!0}},on:{"update:options":function(e){return t.$set(t.subMainTable.table.expandItem,"options",e)}},scopedSlots:t._u([{key:"item.subindex",fn:function({item:a,index:s}){return[0==t.loadtable?e("span",[t._v(" "+t._s(s+1+(t.subMainTable.table.expandItem.current_page-1)*t.subMainTable.table.expandItem.per_page)+" ")]):e("v-progress-circular",{attrs:{indeterminate:"",color:"green",size:"20"}})]}},{key:"item.validation",fn:function({item:a}){return[e("v-chip",{attrs:{color:t.getColorStatus(a.validation),dark:""}},[t._v(" "+t._s(1==a.validation?"Verifikasi FC":0==a.validation?"Belum Terverifikasi":"-")+" ")])]}},{key:"item.subactions",fn:function({item:a}){return[e("v-menu",{attrs:{rounded:"xl",bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-icon",t._g(t._b({attrs:{color:"dark"}},"v-icon",s,!1),a),[t._v(" mdi-arrow-down-drop-circle ")])]}}],null,!0)},[e("v-list",{staticClass:"d-flex flex-column align-stretch"},[e("v-list-item",[e("v-btn",{staticClass:"w-100",attrs:{dark:"",rounded:"",color:"info",block:""},on:{click:function(e){return t.showDetail(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"},on:{click:function(e){return t.showDetail(a)}}},[t._v(" mdi-information-outline ")]),t._v(" Detail ")],1)],1),1!=t.RoleAccesCRUDShow||1!=a.validation||"IT"!=t.User.role_group&&"UNIT MANAGER"!=t.User.role_name&&"REGIONAL MANAGER"!=t.User.role_name?t._e():e("v-list-item",[e("v-btn",{attrs:{rounded:"",color:"warning",block:""},on:{click:function(e){return t.showUnverifModal(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-undo ")]),t._v(" Unverifikasi ")],1)],1),e("v-list-item",[e("v-btn",{staticClass:"px-5",attrs:{dark:"",rounded:"",color:"green"},on:{click:function(e){return t.verifPetaniSusulan(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-plus-box-outline ")]),t._v(" Petani Susulan ")],1)],1),e("v-list-item",[e("v-btn",{staticClass:"px-5",attrs:{dark:"",rounded:"",color:"green",disabled:"IT"!=t.User.role_group&&"PLANNING MANAGER"!=t.User.role_name&&"GIS STAFF"!=t.User.role_name},on:{click:function(e){return t.showEditGIS(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-file-document-edit ")]),t._v(" Edit GIS ")],1)],1)],1)],1)]}}],null,!0)})],1)]}},{key:"item.actions",fn:function({item:a}){return[e("v-menu",{attrs:{rounded:"xl",bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-icon",t._g(t._b({attrs:{color:"dark"}},"v-icon",s,!1),a),[t._v(" mdi-arrow-down-drop-circle ")])]}}],null,!0)},[e("v-list",{staticClass:"d-flex flex-column align-stretch"},[1==t.RoleAccesCRUDShow&&1!=a.validation&&("FIELD COORDINATOR"==t.User.role_name||"UNIT MANAGER"==t.User.role_name||"REGIONAL MANAGER"==t.User.role_name)||"IT"==t.User.role_group||"PLANNING MANAGER"==t.User.role_name?e("v-list-item",[e("v-btn",{staticClass:"px-7",attrs:{vi:"",dark:"",rounded:"",color:"warning",block:""},on:{click:function(e){return t.showEditDetailModal(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-pencil ")]),t._v(" Edit ")],1)],1):t._e(),1==t.RoleAccesCRUDShow&&1!=a.validation&&("FIELD COORDINATOR"==t.User.role_name||"UNIT MANAGER"==t.User.role_name||"REGIONAL MANAGER"==t.User.role_name)||"IT"==t.User.role_group||"PLANNING MANAGER"==t.User.role_name?e("v-list-item",[e("v-btn",{staticClass:"px-7",attrs:{vi:"",dark:"",rounded:"",color:"success",block:""},on:{click:function(e){return t.showEditAbsensiModal(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-pencil ")]),t._v(" Edit Foto Absensi ")],1)],1):t._e(),1==t.RoleAccesCRUDShow&&1!=a.validation&&("UNIT MANAGER"==t.User.role_name||"PLANNING MANAGER"==t.User.role_name)||"IT"==t.User.role_group?e("v-list-item",[e("v-btn",{attrs:{disabled:"IT"==!t.$store.state.User.role_group||"UNIT MANAGER"==!t.User.role_name,dark:"",rounded:"",color:"blue"},on:{click:function(e){return t.showExportModal(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-microsoft-excel")]),t._v(" Export Data Sostam ")],1)],1):t._e(),1!=t.RoleAccesCRUDShow||1!=a.validation||"IT"!=t.User.role_group&&"UNIT MANAGER"!=t.User.role_name&&"REGIONAL MANAGER"!=t.User.role_name?t._e():e("v-list-item",[e("v-btn",{attrs:{rounded:"",color:"warning",block:""},on:{click:function(e){return t.showUnverifModal(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-undo ")]),t._v(" Unverifikasi ")],1)],1),e("v-list-item",[e("v-btn",{attrs:{disabled:"IT"!=t.User.role_group,rounded:"",color:"blue white--text"},on:{click:function(e){return t.editDataSostamLahanPetani(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-refresh")]),t._v(" EDIT DATA SOSTAM LAHAN PETANI ")],1)],1)],1)],1)]}}])}),e("v-snackbar",{attrs:{color:t.colorsnackbar,timeout:t.timeoutsnackbar,rounded:"xl"},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[e("div",{staticClass:"d-flex justify-between"},[e("p",{staticClass:"mb-0"},[t._v(" "+t._s(t.textsnackbar)+" ")]),e("v-icon",{staticClass:"pl-1",attrs:{small:""},on:{click:function(e){t.snackbar=!1}}},[t._v("mdi-close-circle")])],1)])],1)},i=[],o=a("3d20"),l=a.n(o),n=a("bc3a"),r=a.n(n),d=a("c1df"),c=a.n(d),u=a("86e6"),h=a("ea0a"),m=a("502e"),p=a("1d71"),g=a("4054"),v=(a("148f"),{name:"SosialisasiTanam",components:{detailLokasiSostam:h["default"],LottieAnimation:u["a"],PickCoordinate:g["default"],Export:m["default"]},data:()=>({authtoken:"",dialogAdd:{show:!1,loading:!1},dialogPeriodeTanam:{show:!1,loading:!1},dialogEditGIS:{show:!1,loading:!1},totalDataBibitSostam:0,dialogUnverif:!1,dialogConfirmPeriodeTanam:!1,program_year:"2022",alerttoken:!1,datepicker1:(new Date).toISOString().substr(0,10),datepicker2:(new Date).toISOString().substr(0,10),datepicker3:(new Date).toISOString().substr(0,10),datepicker4:(new Date).toISOString().substr(0,10),datepicker5:(new Date).toISOString().substr(0,10),datepicker2Show:!1,datepicker2Loading:!1,datepicker2NotAvailable:[],datepicker2Key:101,datepicker2Key2:1011,tempSeed:0,totalDistributionSeed:0,dialogExportSostam:!1,dialogExportSostamData:null,pTDatePicker:(new Date).toISOString().substr(0,10),pTDatePicker2:(new Date).toISOString().substr(0,10),pTDatePicker3:(new Date).toISOString().substr(0,10),pTDatePickerShow:!1,pTDatePickerLoading:!1,pTDatePickerNotAvailable:[],pTDatePickerKey:102,pTDatePickerKey2:1012,rules:[t=>!!t||"Required.",t=>t&&t.length>=1||"Min 1 characters"],elevations:[6,12,18],itemsbr:[{text:"Activities",disabled:!0,href:"breadcrumbs_dashboard"},{text:"Sosialisasi Tanam",disabled:!0,href:"breadcrumbs_link_1"}],User:[],menu1:"",menu2:"",menu3:"",dialog:!1,dialogDelete:!1,dialogPetaniSusulan:!1,dialogConfirmPetaniSusulan:!1,dialogDetail:!1,dialogFilterArea:!1,dialogFilterEmp:!1,dialogShowEdit:!1,dialogShowEditAbsensi:!1,dialogDetailPohon:!1,dialogDetailPohonEdit:!1,loadtable:!1,load:!1,formTitle:"Add Item",search:"",type:"",subMainTable:{table:{expand:!0,expandItem:{ff_no:null,subItem:[],options:{},loading:!1,total:0,current_page:1,per_page:10,subHeader:[{text:"No",value:"subindex",sortable:!1,align:"center"},{text:"No Form",value:"form_no"},{text:"Field Facilitator",value:"nama_ff"},{text:"Nama Petani",value:"nama_petani"},{text:"No Lahan",align:"center",value:"no_lahan"},{text:"Luas Lahan",align:"center",value:"land_area"},{text:"Koordinat",align:"center",value:"distribution_coordinates"},{text:"Pola Tanam",align:"center",value:"opsi_pola_tanam"},{text:"Waktu Tunggu Validasi",align:"center",value:"countDown",sortable:!1},{text:"Total Bibit",align:"center",value:"trees_total",sortable:!1},{text:"Tahun Tanam",align:"center",value:"planting_year",sortable:!1},{text:"Status",align:"center",value:"validation"},{text:"Actions",align:"right",value:"subactions",sortable:!1}]}}},headers:[{text:"No",value:"index",sortable:!1,align:"center"},{text:"No Sosialisasi",value:"soc_no"},{text:"Management Unit",value:"nama_mu"},{text:"Target Area",value:"nama_ta"},{text:"Field Facilitator",value:"name_ff"},{text:"Waktu Distribusi",value:"distribution_date"},{text:"Tanggal Sosialisasi",value:"soc_date"},{text:"Tahun Program",align:"center",value:"program_year",sortable:!1},{text:"Actions",align:"right",value:"actions",sortable:!1},{text:"Detail Per-FF",align:"center",value:"data-table-expand",sortable:!1}],headersdetail:[{text:"Nama Pohon",value:"tree_name",width:"20%"},{text:"Kategori",value:"tree_category",width:"20%"},{text:"Jumlah",value:"amount",width:"15%"}],headersdetaileditjumlah:[{text:"Nama Pohon",value:"tree_name"},{text:"Kategori",value:"tree_category"},{text:"Jumlah",value:"amount",align:"center"},{text:"Actions",value:"actions",sortable:!1,align:"right"}],DetailTreesLahanTemp:[],DetailTreesLahanTempData:{},dataobject:[],editedItem:{name:""},defaultItem:{id:"",alamat:"",current_crops:"",distribution_location:"",distribution_time:"",document_no:"",farmer_no:"",kode:"",ff_name:"",ff_no:"",form_no:"",ktp_no:"",luas_lahan:"",land_area:"",luas_tanam:"",nama_petani:"",no_lahan:"",opsi_pola_tanam:"",pembuatan_lubang_tanam:"",planting_time:"",end_planting_time:"",planting_year:"",type_sppt:"",validate_by:"",validate_name:"",validation:"",status:"",confirm_date:"",waitingapproval:!1,max_seed_amount:"",tutupan_lahan:"",countDown:"",hour:"",minute:"",second:"",signature:"",absensi1:"",absensi2:"",hourCounter:12,minuteCounter:0,secondCounter:0,planting_details:[]},disabledVerification:!1,itemsTahun:[{text:"2019",value:"2019"},{text:"2020",value:"2020"},{text:"2021",value:"2021"},{text:"2022",value:"2022"},{text:"2023",value:"2023"},{text:"2024",value:"2024"},{text:"2025",value:"2025"},{text:"2026",value:"2026"}],itemsum:[],itemsfc:[],itemsff:[],itemspetani:[],itemsethnic:[],itemsjob:[],itemsgroupfarmer:[],itemsMU:[],itemsTA:[],itemsVillage:[],valueMU:"",valueTA:"",valueVillage:"",valueUM:"",valueFC:"",selectUM:"",selectFC:"",selectMU:"",selectTA:"",selectVillage:"",itemsTAForm:[],itemsVillageForm:[],valueMUForm:"",valueTAForm:"",valueVillageForm:"",valueFFcode:"",selectMUForm:"",selectTAForm:"",valueFFForm:"",selectVillageForm:"",BaseUrlGet:"",dialogVerification:!1,fc_no_global:"",typegetdata:"",soc_no:"",filephotoarray:[],valid:!0,BaseUrlUpload:"",BaseUrl:"",RoleAccesFilterShow:!0,RoleAccesDownloadAllShow:!0,RoleAccesCRUDShow:!0,RoleAccesPrintLabelShow:!0,valueMUExcel:"",valueTAExcel:"",valueVillageExcel:"",typegetdataExcel:"",valueFFcodeExcel:"",snackbar:!1,textsnackbar:"Test",timeoutsnackbar:2e3,colorsnackbar:null,employee_no:"",itemTemp:"",jumlahPohonTemp:0,idPohonTemp:0,editedIndexPohon:-1,editedItemPohon:{amount:"",detail_year:"",id:"",lahan_no:"",tree_category:"",tree_code:"",tree_name:""},table:{search:{options:{column:[],column_loading:!1,pola_tanam:[],pola_tanam_loading:!1,validation:[{text:"All",value:""},{text:"Unverified",value:0},{text:"Verified FC",value:1}]},field:"soc_no",value:""},datas:{total:0},timer:{setHour:12,setMinute:0,setSecond:0,hourCount:0,minuteCount:0,secondCount:0},pagination:{current_page:1,per_page:10,length_page:0,page_options:[]},options:{},farmer_attendance:[],lahans:{expanded:[],header:[{text:"No",value:"index"},{text:"Petani",value:"farmer_name"},{text:"No Lahan",value:"lahan_no"},{text:"Total Lahan",value:"total_lahan"},{text:"Total Kayu",value:"total_kayu",align:"center"},{text:"Total MPTS",value:"total_mpts",align:"center"},{text:"Kehadiran",value:"data-table-select",align:"right",sortable:!1}],items:[],loading:!1,dialogs:{trees:{show:!1,datas:null,maxSeeds:{}}}}},preview:{signature:{modal:!1,url:""},absensi1:{modal:!1,url:""},absensi2:{modal:!1,url:""}},options:{ff:{items:[],loading:!1,model:""}},dataToStore:{selectedFF:{},hasSostam:!1,training_material:"TR010",distribution_coordinates:"",distribution_rec_armada:"",distribution_time:"",distribution_location:"",planting_time:"",end_planting_time:"",penlub_time:"",start_pemlub_time:"",absensi_photo:"",absensi_photo2:"",lahans:[]},training_material_items:[],maps:{accessToken:"",attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a>',center:[113.9213,-.7893],geojson:{},hoveredStateId:0,key:111,layerId:0,layerStyle:{outline:{color:"#000000"},fill:{color:"#f06800"}},legends:{model:""},listMarker:[],loading:{show:!1,text:"Loading..."},location:{lat:"",lng:""},mapStyle:"",model:null,popup:{model:!1,content:{title:"",description:""}},url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",zoom:3},lottie:{data:{loading:p}},modals:{pick_coordinate:{show:!1,data:null}}}),watch:{"table.options":{handler(t){let{page:e,itemsPerPage:a,sortBy:s}=t;this.table.pagination.current_page=e,this.table.pagination.per_page=a,this.initialize()},deep:!0},"table.search.value":{handler(){setTimeout(()=>{this.initialize()},1e3)},deep:!0},"table.search.field":{handler(t){"opsi_pola_tanam"==t&&this.getOpsiPolaTanamOptions()}},"subMainTable.table.expandItem.options":{handler(t){let{page:e,itemsPerPage:a,sortBy:s}=t;this.subMainTable.table.expandItem.current_page=e,this.subMainTable.table.expandItem.per_page=a,this.getTableData(this.subMainTable.table.expandItem.ff_no)},deep:!0},program_year(t){this.initialize()},"dataToStore.distribution_coordinates":{handler(t,e){}},"dataToStore.distribution_time":{handler(t){this.dataToStore.penlub_time=c()(t).subtract(21,"days").format("Y-MM-DD"),this.dataToStore.start_pemlub_time=c()(t).subtract(42,"days").format("Y-MM-DD"),this.dataToStore.planting_time=c()(t).add(1,"days").format("Y-MM-DD"),this.dataToStore.end_planting_time=c()(t).add(21,"days").format("Y-MM-DD")}},datepicker2:{handler(t){this.datepicker1=c()(t).subtract(42,"days").format("Y-MM-DD"),this.datepicker3=c()(t).add(1,"days").format("Y-MM-DD"),this.datepicker4=c()(t).subtract(21,"days").format("Y-MM-DD"),this.datepicker5=c()(t).add(21,"days").format("Y-MM-DD")}},pTDatePicker:{handler(t){this.pTDatePicker2=c()(t).subtract(14,"days").format("Y-MM-DD"),this.pTDatePicker3=c()(t).add(7,"days").format("Y-MM-DD")}},datepicker2Show:{async handler(t){1==t&&console.log("datepicker2NotAvailable",this.datepicker2NotAvailable)}},pTDatePickerShow:{async handler(t){1==t&&(await this.setUnavailableDistributionDates(),console.log("datepicker2NotAvailable",this.datepicker2NotAvailable))}},menu2:{async handler(t){}}},computed:{disabledCreateSostamByFF(){return!(this.dataToStore.distribution_time&&this.dataToStore.distribution_location&&0!=this.table.lahans.items.length&&this.dataToStore.distribution_rec_armada&&this.dataToStore.absensi_photo)||0==this.table.farmer_attendance.length},disabledCreatePeriodeTanamByFF(){return!(this.dataToStore.distribution_time&&this.dataToStore.distribution_location&&this.dataToStore.distribution_coordinates&&this.dataToStore.distribution_rec_armada)},disabledUpdateFotoAbsensi(){return!this.dataToStore.absensi_photo},disabledEditDataGIS(){return!this.dataToStore.distribution_coordinates}},mounted(){this.firstAccessPage(),"IT"!=this.User.role_group||this.User.email},destroyed(){this.$store.state.maintenanceOverlay=!1,this.$store.state.loadingOverlay=!1,this.$store.state.loadingOverlayText=null},methods:{async errorResponse(t){if(console.log(t),t.response&&t.response.status){if(401==t.response.status){const t=await l.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});t&&(localStorage.removeItem("token"),this.$router.push("/"))}if(500===t.response.status||400===t.response.status){let e=t.response.data.message;e&&e.includes("Duplicate entry")&&(e="Data sudah ada!"),l.a.fire({title:"Error!",text:""+(e||t.message),icon:"error",confirmButtonColor:"#f44336"})}}},async checkExpandenItem(t){this.soc_no=t.item.soc_no,this.subMainTable.table.expandItem.ff_no=t.item.ff_no,t.value&&this.getTableData(t.item.ff_no)},async firstAccessPage(){this.program_year=this.$store.state.programYear.model,this.maps.accessToken=this.$store.state.maps.accessToken,this.maps.mapStyle=this.$store.state.maps.mapStyle,this.authtoken=localStorage.getItem("token"),this.User=JSON.parse(localStorage.getItem("User")),this.valueFFcode=this.User.ff.ff,this.typegetdata="-"==this.User.ff.value_data?"all":this.User.ff.value_data,this.BaseUrlGet=localStorage.getItem("BaseUrlGet"),this.BaseUrlUpload=localStorage.getItem("BaseUrlUpload"),this.BaseUrl=localStorage.getItem("BaseUrl"),this.employee_no=this.User.employee_no,this.table.search.options.column_loading=!0;let t=["soc_no","name_ff"];await this.headers.forEach(e=>{t.includes(e.value)&&this.table.search.options.column.push(e)}),this.table.search.options.column_loading=!1,await this.checkRoleAccess(),await this.getMU(),await this.getEthnic(),await this.getJob(),await this.getFF(),await this.getUMAll(),this.training_material_items=await this.callApiGet("GetTrainingMaterials")},async callApiGet(t){try{const e=await r.a.get(this.$store.getters.getApiUrl(t),this.$store.state.apiConfig);if(e){const t=e.data.data.result;return t}return null}catch(e){this.errorResponse(e)}},checkRoleAccess(){"IT"==this.User.role_group?(this.RoleAccesCRUDShow=!0,this.RoleAccesFilterShow=!0,this.RoleAccesDownloadAllShow=!0,this.RoleAccesPrintLabelShow=!0):"FIELD"==this.User.role_group?"19"==this.User.role?(this.RoleAccesCRUDShow=!0,this.RoleAccesFilterShow=!1,this.RoleAccesDownloadAllShow=!1,this.RoleAccesPrintLabelShow=!1):"20"==this.User.role?(this.RoleAccesCRUDShow=!0,this.RoleAccesFilterShow=!1,this.RoleAccesDownloadAllShow=!0,this.RoleAccesPrintLabelShow=!1):"14"==this.User.role?(this.RoleAccesCRUDShow=!0,this.RoleAccesFilterShow=!0,this.RoleAccesDownloadAllShow=!0,this.RoleAccesPrintLabelShow=!1):(this.RoleAccesCRUDShow=!1,this.RoleAccesFilterShow=!0,this.RoleAccesDownloadAllShow=!0,this.RoleAccesPrintLabelShow=!0):"19"==this.User.role||"20"==this.User.role?(this.RoleAccesCRUDShow=!0,this.RoleAccesFilterShow=!1,this.RoleAccesPrintLabelShow=!1):(this.RoleAccesCRUDShow=!1,this.RoleAccesFilterShow=!0,this.RoleAccesPrintLabelShow=!1)},async initialize(){this.loadtable=!0,this.$store.state.loadingOverlayText="Getting sostam datas...",this.$store.state.loadingOverlay=!0,await this.getSocTableData().then(t=>{this.dataobject=t.items,this.table.datas.total=t.total,this.table.pagination.current_page=t.current_page,this.table.pagination.length_page=t.last_page;const e=[];for(let a=1;a<=t.last_page;a++)e.push(a);this.table.pagination.page_options=e}).finally(()=>{this.$store.state.loadingOverlay=!1,this.$store.state.loadingOverlayText=null,this.loadtable=!1})},async editDataSostamLahanPetani(t){const e=await l.a.fire({title:"Konfirmasi",text:"Apakah Anda Yakin?",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Ya!",showCancelButton:!0,cancelButtonColor:"#d33"});if(e.isConfirmed){const e={ff_no:t.ff_no};console.log(e);try{const t=await r.a.post(this.BaseUrlGet+"test",e,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(t.data.data.result),this.dialogDetail=!1,this.dialogPeriodeTanam.show=!1,this.dialogConfirmPeriodeTanam=!1,this.dialog=!1,this.dialogShowEdit=!1,this.initialize()}catch(a){console.error(a.response),401==a.response.status&&(this.dialogDetail=!1,this.dialogPeriodeTanam.show=!1,localStorage.removeItem("token"),this.$router.push("/"))}}},getCountDown(t){const e=36e5*this.table.timer.setHour,a=6e4*this.table.timer.setMinute,s=1e3*this.table.timer.setSecond,i=e+a+s,o=c()(t.created_at),l=o+i;t.distribution_coordinates||setInterval((function(){const e=Date.now(),a=l-e;var s=Math.floor(a/36e5%24),i=Math.floor(a/6e4%60),o=Math.floor(a/1e3%60),n="00",d="00",c="00";a>0?document.getElementById("counter-"+t.id).innerHTML=`${s} : ${i} : ${o}`:a<0&&(document.getElementById("counter-"+t.id).innerHTML=`${n} : ${d} : ${c}`,t.deletePeriod||(t.deletePeriod=!0,r.a.post(this.$store.getters.getApiUrl("deleteSosialisasiTanamPeriod"),{ff_no:t.ff_no},this.$store.state.apiConfig)))}),1e3)},getSocTableData(){return new Promise((t,e)=>{const a=new URLSearchParams({program_year:this.program_year,page:this.table.pagination.current_page,per_page:this.table.pagination.per_page,typegetdata:this.typegetdata,sortBy:this.table.options.sortBy||"",sortDesc:this.table.options.sortDesc||"",search_column:this.table.search.field||"",search_value:this.table.search.value||"",mu:this.valueMU,ta:this.valueTA,village:this.valueVillage,ff:this.valueFFcode});r.a.get(this.BaseUrlGet+"GetSocAllAdmin?"+a,{headers:{Authorization:"Bearer "+this.authtoken}}).then(a=>{if("undefined"!==typeof a.data.data.result){let e=a.data.data.result.data.data;const s=a.data.data.result.data.total,i=a.data.data.result.data.current_page,o=a.data.data.result.data.last_page;t({items:e,total:s,current_page:i,last_page:o})}else e("Error")}).catch(t=>{this.sessionEnd(t),e(t)})})},getTableData(t){return new Promise((e,a)=>{this.subMainTable.table.expandItem.loading=!0;const s=new URLSearchParams({program_year:this.program_year,page:this.subMainTable.table.expandItem.current_page,per_page:this.subMainTable.table.expandItem.per_page,typegetdata:"all",ff:t});r.a.get(this.BaseUrlGet+"GetSosisalisasiTanamAdmin?"+s,{headers:{Authorization:"Bearer "+this.authtoken}}).then(t=>{if("undefined"!==typeof t.data.data.result){let e=t.data.data.result.data;const a=t.data.data.result.total,s=t.data.data.result.current_page,i=t.data.data.result.last_page;this.subMainTable.table.expandItem.subItem=e,this.subMainTable.table.expandItem.total=a,this.subMainTable.table.expandItem.current_page=s,this.subMainTable.table.expandItem.length_page=i,this.subMainTable.table.expandItem.loading=!1}else a("Error")}).catch(t=>{this.sessionEnd(t),a(t)})})},async createSostamByFF(){try{const t=/^[-+]?\d+(\.\d+)?,\s*[-+]?\d+(\.\d+)?$/,e=t.test(this.dataToStore.distribution_coordinates);if(e){const t=await l.a.fire({title:"Apakah anda yakin?",text:"Setelah ini anda tidak akan bisa membatalkannya!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2e7d32",cancelButtonColor:"#d33",cancelButtonText:"Tidak Jadi",confirmButtonText:"Ya, Lanjutkan!"});if(t.isConfirmed){this.dialogAdd.show=!1,this.$store.state.loadingOverlay=!0;let t={ff_no:this.options.ff.model,lahans:this.table.lahans.items,farmer_attendance:this.table.farmer_attendance,program_year:this.program_year,distribution_time:this.dataToStore.distribution_time,distribution_latitude:this.maps.location.lat,distribution_longitude:this.maps.location.lng,distribution_location:this.dataToStore.distribution_location,distribution_rec_armada:this.dataToStore.distribution_rec_armada,distribution_coordinates:this.dataToStore.distribution_coordinates,training_material:this.dataToStore.training_material,planting_time:this.dateFormat(this.dataToStore.planting_time,"Y-MM-DD"),penlub_time:this.dateFormat(this.dataToStore.penlub_time,"Y-MM-DD"),start_pembuatan_lubang_tanam:this.dateFormat(this.dataToStore.start_pemlub_time,"Y-MM-DD"),end_planting_time:this.dateFormat(this.dataToStore.end_planting_time,"Y-MM-DD"),absent:"",absent2:""};if(this.dataToStore.absensi_photo){const e=this.options.ff.model+"_"+this.program_year+"_AbsenPetani",a=await r.a.post(this.BaseUrl+"planting-socialization/upload.php",this._utils.generateFormData({nama:e,dir:"planting-absent/",image:this.dataToStore.absensi_photo}));t.absent=a.data.data.new_name}if(this.dataToStore.absensi_photo2){const e=this.options.ff.model+"_"+this.program_year+"_AbsenPetani2",a=await r.a.post(this.BaseUrl+"planting-socialization/upload.php",this._utils.generateFormData({nama:e,dir:"planting-absent/",image:this.dataToStore.absensi_photo2}));t.absent2=a.data.data.new_name}console.log(t),await this.setUnavailableDistributionDates();const e=this.datepicker2NotAvailable.includes(this.dateFormat(t.distribution_time,"Y-MM-DD"));if(1==e)this.dataToStore.distribution_time="",this.colorsnackbar="red",this.textsnackbar="Tanggal distribusi sudah penuh!",this.timeoutsnackbar=2e4,this.snackbar=!0;else{const e=await r.a.post(this.BaseUrlGet+"createSostamByFF",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(t),this.options.ff.model="",this.table.lahans.items=[],this.dataToStore.distribution_location="",this.initialize(),this.colorsnackbar="green",this.textsnackbar=`Berhasil menambah ${e.data.data.result.created["data"]} data sostam`,this.timeoutsnackbar=1e4,this.snackbar=!0}}}else l.a.fire({title:"Perhatian!",text:'Format data yang diinputkan salah! Format koordinat harus "long, lat"',icon:"warning",showCancelButton:!1,confirmButtonColor:"#2e7d32",confirmButtonText:"Okayy"})}catch(t){console.log(t)}finally{this.$store.state.loadingOverlay=!1}},async getMU(){try{const t=await r.a.get(this.BaseUrlGet+"GetManagementUnit",{headers:{Authorization:"Bearer "+this.authtoken}});0!=t.data.length?this.itemsMU=t.data.data.result:console.log("Kosong")}catch(t){console.error(t.response),401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getTA(t){var e="";e="table"==t?this.valueMU:this.valueMUForm;try{const a=await r.a.get(this.BaseUrlGet+"GetTargetArea?mu_no="+e,{headers:{Authorization:"Bearer "+this.authtoken}});0!=a.data.length?"table"==t?this.itemsTA=a.data.data.result:this.itemsTAForm=a.data.data.result:console.log("Kosong")}catch(a){console.error(a.response),401==a.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getVillage(t){var e="";e="table"==t?this.valueTA:this.valueTAForm;try{const a=await r.a.get(this.BaseUrlGet+"GetDesa?kode_ta="+e,{headers:{Authorization:"Bearer "+this.authtoken}});0!=a.data.length?"table"==t?this.itemsVillage=a.data.data.result:this.itemsVillageForm=a.data.data.result:console.log("Kosong")}catch(a){console.error(a.response),401==a.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getEthnic(){try{const t=await r.a.get(this.BaseUrlGet+"GetSuku",{headers:{Authorization:"Bearer "+this.authtoken}});0!=t.data.length?this.itemsethnic=t.data.data.result:console.log("Kosong")}catch(t){console.error(t.response),401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getJob(){try{const t=await r.a.get(this.BaseUrlGet+"GetPekerjaan",{headers:{Authorization:"Bearer "+this.authtoken}});0!=t.data.length?this.itemsjob=t.data.data.result:console.log("Kosong")}catch(t){console.error(t.response),401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getFF(){this.User.fc.fc&&(this.fc_no_global=this.User.fc.fc);try{const t=await r.a.get(this.BaseUrlGet+"GetFieldFacilitatorAll?fc_no="+this.fc_no_global,{headers:{Authorization:"Bearer "+this.authtoken}});0!=t.data.length?this.itemsff=t.data.data.result.data:console.log("Kosong")}catch(t){console.error(t.response),401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getDetail(t){this.load=!0,console.log(t);try{const e=await r.a.get(this.BaseUrlGet+"GetDetailSosisalisasiTanam?form_no="+t.form_no,{headers:{Authorization:"Bearer "+this.authtoken}});if(console.log(e.data.data.result),0!=e.data.length){if(this.defaultItem=Object.assign({},e.data.data.result),this.defaultItem.land_area=e.data.data.result.luas_lahan,null==e.data.data.result.absent?this.defaultItem.absensi1="images/noimage2.png":this.defaultItem.absensi1="planting-socialization/planting-absent/"+e.data.data.result.absent,null==e.data.data.result.absent2?this.defaultItem.absensi2="images/noimage2.png":this.defaultItem.absensi2="planting-socialization/planting-absent/"+e.data.data.result.absent2,null==this.defaultItem.max_seed_amount||"null"==this.defaultItem.max_seed_amount){let t=parseInt(this.getSeedCalculation(this.defaultItem,"total_max_trees")),e=parseInt(this.getStatusTotalBibitInDetail(this.defaultItem.planting_details,"KAYU"))+parseInt(this.getStatusTotalBibitInDetail(this.defaultItem.planting_details,"MPTS")),a=t-e;console.log("separator = "+a),a<0&&this.defaultItem.land_area<1e4&&(this.disabledVerification=!0),this.defaultItem.max_seed_amount=t}this.defaultItem.waitingapproval=this.waitingapprovefunct(e.data.data.result.validation),this.defaultItem.distribution_coordinates&&(this.defaultItem.lat=this.defaultItem.distribution_coordinates.split(",")[0],this.defaultItem.long=this.defaultItem.distribution_coordinates.split(",")[1].replace(" ","")),"Detail"==this.type?this.load=!1:(this.valueFFForm=e.data.data.result.ff_no,this.datepicker1=e.data.data.result.pembuatan_lubang_tanam,this.datepicker2=e.data.data.result.distribution_time,this.datepicker3=e.data.data.result.planting_time),this.load=!1}else console.log("Kosong"),this.load=!1}catch(e){console.error(e.response),401==e.response.status&&(localStorage.removeItem("token"),this.$router.push("/"),this.load=!1)}},async verifPetaniSusulan(t){const e=await l.a.fire({title:"Konfirmasi",text:"Apakah Anda Yakin?",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Ya!",showCancelButton:!0,cancelButtonColor:"#d33"});if(e.isConfirmed){const e={form_no:t.form_no};console.log(t);try{const t=await r.a.post(this.BaseUrlGet+"UpdatePetaniSusulan",e,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(t.data.data.result),"success"==t.data.data.result?(this.dialogDetail=!1,this.dialogPetaniSusulan=!1,this.initialize()):(this.dialogDetail=!1,this.dialogPetaniSusulan=!1)}catch(a){console.error(a.response),401==a.response.status&&(this.dialogDetail=!1,this.dialogPetaniSusulan=!1,localStorage.removeItem("token"),this.$router.push("/"))}}},async SaveEditGIS(){const t=await l.a.fire({title:"Konfirmasi",text:"Apakah Anda Yakin?",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Ya!",showCancelButton:!0,cancelButtonColor:"#d33"});if(t.isConfirmed){const t={ff_no:this.dataToStore.ff_no,distribution_coordinates:this.dataToStore.distribution_coordinates};console.log(t);try{const e=await r.a.post(this.BaseUrlGet+"UpdateCoordinatebyGis",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),this.dialogEditGIS.show=!1,this.initialize()}catch(e){console.error(e.response),401==e.response.status&&(this.dialogEditGIS.show=!1,localStorage.removeItem("token"),this.$router.push("/"))}}},async pushDataPeriodeTanam(){const t={program_year:this.program_year,form_no:this.defaultItem.form_no,ff_no:this.defaultItem.ff_no,pembuatan_lubang_tanam:this.dataToStore.penlub_time,distribution_time:this.dataToStore.distribution_time,distribution_location:this.dataToStore.distribution_location,planting_time:this.dataToStore.planting_time,distribution_coordinates:this.dataToStore.distribution_coordinates,distribution_rec_armada:this.dataToStore.distribution_rec_armada,start_pembuatan_lubang_tanam:this.dataToStore.start_pemlub_time,end_planting_time:this.dataToStore.end_planting_time};console.log(t);try{const e=await r.a.post(this.BaseUrlGet+"createSosialisasiTanamPeriod",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),this.dialogDetail=!1,this.dialogPeriodeTanam.show=!1,this.dialogConfirmPeriodeTanam=!1,this.dialog=!1,this.dialogShowEdit=!1,this.initialize()}catch(e){console.error(e.response),401==e.response.status&&(this.dialogDetail=!1,this.dialogPeriodeTanam.show=!1,localStorage.removeItem("token"),this.$router.push("/"))}},async verif(){console.log(this.defaultItem.id);const t={form_no:this.defaultItem.form_no,validate_by:this.employee_no,max_seed_amount:this.defaultItem.max_seed_amount};console.log(t);try{const e=await r.a.post(this.BaseUrlGet+"ValidateSosisalisasiTanam",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.dialogDetail=!1,this.dialogVerification=!1,this.getTableData(this.subMainTable.table.expandItem.ff_no)):(this.dialogDetail=!1,this.dialogVerification=!1,this.alerttoken=!0)}catch(e){console.error(e.response),401==e.response.status&&(this.alerttoken=!0,this.dialogDetail=!1,this.dialogVerification=!1,localStorage.removeItem("token"),this.$router.push("/"))}},async verifDelete(){const t={form_no:this.defaultItem.form_no};console.log(t);try{const e=await r.a.post(this.BaseUrlGet+"SoftDeleteSosisalisasiTanam",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.dialogDelete=!1,this.initialize()):(this.dialogDelete=!1,this.alerttoken=!0)}catch(e){console.error(e.response),401==e.response.status&&(this.alerttoken=!0,this.dialogDelete=!1,localStorage.removeItem("token"),this.$router.push("/"))}},async getUMAll(){try{const t=await r.a.get(this.BaseUrlGet+"GetEmployeebyPosition?position_code=20",{headers:{Authorization:"Bearer "+this.authtoken}});0!=t.data.length?this.itemsum=t.data.data.result.data:console.log("Kosong")}catch(t){console.error(t.response),401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getEmpFCbyManager(t){try{const e=await r.a.get(this.BaseUrlGet+"GetEmployeebyManager?manager_code="+t+"&position=19",{headers:{Authorization:"Bearer "+this.authtoken}});0!=e.data.length?this.itemsfc=e.data.data.result.data:console.log("Kosong")}catch(e){console.error(e.response),401==e.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async GetFFbyUMandFC(t,e){try{const a=await r.a.get(this.BaseUrlGet+"GetFFbyUMandFC?position="+t+"&code="+e,{headers:{Authorization:"Bearer "+this.authtoken}});0!=a.data.length?this.valueFFcode=a.data.data.result.data:console.log("Kosong")}catch(a){this.valueFFcode="",console.error(a.response),401==a.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async addData(){const t={ff_no:this.defaultItem.ff_no,farmer_no:this.defaultItem.farmer_no,no_lahan:this.defaultItem.no_lahan,planting_year:this.defaultItem.planting_year,pembuatan_lubang_tanam:this.datepicker1,distribution_time:this.datepicker2,planting_time:this.datepicker3,distribution_location:this.defaultItem.distribution_location};console.log(t),this.dialogDetail=!1;try{const e=await r.a.post(this.BaseUrlGet+"AddSosisalisasiTanam",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.dialog=!1,this.snackbar=!0,this.colorsnackbar="green",this.textsnackbar="Sukses menambahkan data",this.initialize()):this.dialog=!0}catch(e){console.error(e.response),401==e.response.status&&(this.dialog=!0)}},async updateDataByFarmers(){const t={form_no:this.defaultItem.form_no,ff_no:this.defaultItem.ff_no,farmer_no:this.defaultItem.farmer_no,no_lahan:this.defaultItem.no_lahan,program_year:this.defaultItem.planting_year,pembuatan_lubang_tanam:this.datepicker4,distribution_time:this.datepicker2,planting_time:this.datepicker3,end_planting_time:this.datepicker5,start_pembuatan_lubang_tanam:this.datepicker1,distribution_location:this.defaultItem.distribution_location};try{this.$store.state.loadingOverlay=!0;const e=await r.a.post(this.BaseUrlGet+"",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.$store.state.loadingOverlay=!1,this.dialog=!1,this.snackbar=!0,this.colorsnackbar="green",this.textsnackbar="Sukses mengubah data",this.initialize()):(this.dialog=!0,this.$store.state.loadingOverlay=!1)}catch(e){console.error(e.response),401==e.response.status&&(this.dialog=!0,this.$store.state.loadingOverlay=!1)}},async updateAbsentPhoto(){const t=await l.a.fire({title:"Konfirmasi",text:"Apakah Anda Yakin?",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Ya!",showCancelButton:!0,cancelButtonColor:"#d33"});if(t.isConfirmed){const t={ff_no:this.dataToStore.ff_no,absent:"",absent2:""};if(this.dataToStore.absensi_photo){const e=t.ff_no+"_"+this.program_year+"_AbsenPetani",a=await r.a.post(this.BaseUrl+"planting-socialization/upload.php",this._utils.generateFormData({nama:e,dir:"planting-absent/",image:this.dataToStore.absensi_photo}));t.absent=a.data.data.new_name}if(this.dataToStore.absensi_photo2){const e=t.ff_no+"_"+this.program_year+"_AbsenPetani2",a=await r.a.post(this.BaseUrl+"planting-socialization/upload.php",this._utils.generateFormData({nama:e,dir:"planting-absent/",image:this.dataToStore.absensi_photo2}));t.absent2=a.data.data.new_name}console.log(t);try{this.$store.state.loadingOverlay=!0;const e=await r.a.post(this.BaseUrlGet+"UpdateAbsenSosialisasi",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.$store.state.loadingOverlay=!1,this.dialog=!1,this.snackbar=!0,this.colorsnackbar="green",this.textsnackbar="Sukses mengubah data",this.initialize()):(this.dialogShowEditAbsensi=!1,this.$store.state.loadingOverlay=!1)}catch(e){console.error(e.response),401==e.response.status&&(this.dialogShowEditAbsensi=!1,this.$store.state.loadingOverlay=!1)}}},async updateData(){const t={ff_no:this.defaultItem.ff_no,program_year:this.defaultItem.planting_year,pembuatan_lubang_tanam:this.datepicker4,distribution_time:this.datepicker2,planting_time:this.datepicker3,end_planting_time:this.datepicker5,start_pembuatan_lubang_tanam:this.datepicker1,distribution_location:this.defaultItem.distribution_location};console.log(t),this.dialogDetail=!1,this.dialog=!1;try{this.$store.state.loadingOverlay=!0;const e=await r.a.post(this.BaseUrlGet+"UpdateSosialisasiTanamPeriod",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.$store.state.loadingOverlay=!1,this.dialog=!1,this.snackbar=!0,this.colorsnackbar="green",this.textsnackbar="Sukses mengubah data",this.initialize()):(this.dialog=!0,this.$store.state.loadingOverlay=!1)}catch(e){console.error(e.response),401==e.response.status&&(this.dialog=!0,this.$store.state.loadingOverlay=!1)}},async updateDataPohon(t){this.dialogDetail=!1;try{const e=await r.a.post(this.BaseUrlGet+"UpdatePohonSosisalisasiTanam",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.dialog=!1,this.snackbar=!0,this.colorsnackbar="green",this.textsnackbar="Sukses mengubah data",this.dialogDetailPohon=!1,this.initialize()):this.dialog=!0}catch(e){console.error(e.response.data.data),401==e.response.status?this.dialog=!0:(this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar=e.response.data.data.result)}},async getPetani(){try{const t=await r.a.get(this.BaseUrlGet+"GetFarmerAllAdmin?typegetdata=several&ff="+this.valueFFForm,{headers:{Authorization:"Bearer "+this.authtoken}});0!=t.data.length?this.itemspetani=t.data.data.result.data:this.itemspetani=[]}catch(t){console.error(t.response),401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/")),this.itemspetani=[],this.defaultItem.farmer_no=""}},selectedMU(t){console.log(t),this.valueMU=t,null!=t?(this.getTA("table"),this.valueTA="",this.selectTA="",this.selectVillage="",this.valueVillage=""):(this.valueMU="",this.valueTA="",this.itemsTA=[],this.valueVillage="",this.itemsVillage=[])},selectedTA(t){console.log(t),this.valueTA=t,null!=t?(this.getVillage("table"),this.valueVillage="",this.selectVillage=""):(this.valueTA="",this.valueVillage="",this.itemsVillage=[])},selectedVillage(t){console.log(t),this.valueVillage=t,null==t&&(this.valueVillage="")},selectedUM(t){console.log(t),this.valueUM=t,null!=t?(this.getEmpFCbyManager(t),this.GetFFbyUMandFC("UM",t),this.valueFC="",this.selectFC="",this.typegetdata="several"):(this.valueUM="",this.valueFC="",this.itemsfc=[],this.typegetdata=this.User.ff.value_data)},selectedFC(t){console.log(t),this.valueFC=t,this.GetFFbyUMandFC("FC",t),this.typegetdata="several",null==t&&(this.valueFC="",this.selectFC="",this.typegetdata=this.User.ff.value_data)},async showDetail(t){this.type="Detail",this.dialogDetail=!0,this.disabledVerification=!1,await this.getDetail(t)},selectedMUForm(t){console.log(t),this.valueMUForm=t,null!=t?(this.getTA("form"),this.getFarmerGroup(),this.valueTAForm="",this.selectTAForm="",this.selectVillageForm="",this.valueVillageForm=""):(this.valueMUForm="",this.valueTAForm="",this.itemsTAForm=[],this.valueVillageForm="",this.itemsVillageForm=[],this.defaultItem.mu_no=t)},selectedTAForm(t){console.log(t),this.valueTAForm=t,null!=t?(this.getVillage("form"),this.valueVillageForm="",this.selectVillageForm="",this.defaultItem.village=""):(this.valueTAForm="",this.valueVillageForm="",this.itemsVillageForm=[],this.defaultItem.village="",this.defaultItem.kode_ta=t)},selectedVillageForm(t){console.log(t),this.valueVillageForm=t,this.defaultItem.village=t,null==t&&(this.valueVillageForm="",this.defaultItem.village="")},selectPetani(t){console.log(t),null!=t?(this.valueFFForm=t,this.getPetani()):(this.defaultItem.ff_no="",this.defaultItem.kode="",this.itemspetani=[])},async showFilterArea(){await this.resetFilter(),this.dialogFilterArea=!0},async showFilterEmployee(){await this.resetFilter(),this.dialogFilterEmp=!0},async resetFilter(){this.valueMU="",this.valueTA="",this.valueVillage="",this.selectMU="",this.selectTA="",this.selectVillage="",this.valueUM="",this.valueFC="",this.selectUM="",this.selectFC="",this.valueFFcode=this.User.ff.ff,this.table.search.field="",this.table.search.value="",await this.initialize()},async searchbyarea(){this.valueFFcode=this.User.ff.ff,this.typegetdata=this.User.ff.value_data,await this.initialize(),this.dialogFilterArea=!1},async searchbyemp(){await this.initialize(),this.dialogFilterEmp=!1},async showEditModal(){this.type="Edit",this.dialog=!0,this.dialogShowEdit=!1,this.defaultItem.planting_year=this.itemTemp.program_year,this.defaultItem.ff_no=this.itemTemp.ff_no,this.formTitle="Edit data"},async showEditJumlahPohonModal(){this.type="Edit",await this.getDetail(this.itemTemp),this.DetailTreesLahanTemp=this.defaultItem.planting_details,this.DetailTreesLahanTempData=this.defaultItem,0==this.DetailTreesLahanTemp.length?(this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Tidak Bisa Edit, Jumlah Pohon Kosong. Harus di isi lewat aplikasi android"):(this.dialogShowEdit=!1,this.dialogDetailPohon=!0)},async showEditDetailModal(t){this.type="Edit",this.itemTemp=t,console.log(this.itemTemp),this.dialogShowEdit=!0},showEditAbsensiModal(t){this.dataToStore.ff_no=t.ff_no,this.dialogShowEditAbsensi=!0,this.dataToStore.absensi_photo="",this.dataToStore.absensi_photo2=""},showPrintModal(t){this.type="Detail",this.getDetail(t);var e=this.BaseUrlGet;window.open(e.substring(0,e.length-4)+"CetakLabelSosTam?form_no="+t.form_no)},saveEditPohon(){const t=new Date;var e=t.getFullYear(),a=t.getMonth(),s=t.getDate(),i=e+"-"+a+"-"+s;const o={form_no:this.defaultItem.form_no,list_pohon:this.DetailTreesLahanTemp,detail_year:i,max_seed_amount:this.defaultItem.max_seed_amount};console.log(o),this.updateDataPohon(o)},saveEditPohonTemp(){Object.assign(this.DetailTreesLahanTemp[this.editedIndexPohon],this.editedItemPohon),console.log(this.DetailTreesLahanTemp),this.dialogDetailPohonEdit=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.editedItemPohon),this.editedIndex=-1})},editDetailPohon(t){console.log(t),this.editedItemPohon.amount=t.amount,this.editedItemPohon.tree_name=t.tree_name,this.editedItemPohon.tree_category=t.tree_category,this.idPohonTemp=t.id,this.editedIndexPohon=this.DetailTreesLahanTemp.indexOf(t),this.editedItemPohon=Object.assign({},t),this.dialogDetailPohonEdit=!0},deleteDetailPohon(t){console.log(t),this.editedIndexPohon=this.DetailTreesLahanTemp.indexOf(t),this.editedItemPohon=Object.assign({},t),this.DetailTreesLahanTemp.splice(this.editedIndexPohon,1),console.log(this.DetailTreesLahanTemp),this.$nextTick(()=>{this.editedItem=Object.assign({},this.editedItemPohon),this.editedIndex=-1})},showDeleteModal(t){console.log(t.form_no),this.defaultItem.form_no=t.form_no,this.dialogDelete=!0},showPetaniSusulanModal(){console.log(this.itemTemp),this.dialogPetaniSusulan=!0,this.defaultItem.form_no=this.itemTemp.form_no},showEditGIS(t){this.dataToStore.ff_no=t.ff_no,this.dataToStore.distribution_coordinates=t.distribution_coordinates,this.dialogEditGIS.show=!0},showPlantingPeriode(){console.log(this.itemTemp),this.dialogPeriodeTanam.show=!0,this.defaultItem.form_no=this.itemTemp.form_no,this.defaultItem.ff_no=this.itemTemp.ff_no,this.defaultItem.mu_no=this.itemTemp.mu_no,this.dataToStore.distribution_time="",this.dataToStore.start_pemlub_time="",this.dataToStore.penlub_time="",this.dataToStore.planting_time="",this.dataToStore.end_planting_time="",this.dataToStore.distribution_coordinates="",this.dataToStore.distribution_location="",this.dataToStore.distribution_rec_armada=""},showUnverifModal(t){this.defaultItem.form_no=t.form_no,this.dialogUnverif=!0},async unverifItemConfirm(){const t={form_no:this.defaultItem.form_no};try{this.dialogUnverif=!1,this.$store.state.loadingOverlayText="Unverification data...",this.$store.state.loadingOverlay=!0,await r.a.post(this.BaseUrlGet+"UnverificationSosialisasiTanam",t,{headers:{Authorization:"Bearer "+this.authtoken}}),await this.getTableData(this.subMainTable.table.expandItem.ff_no)}catch(e){console.error(e.response),401==e.response.status&&(this.alerttoken=!0,localStorage.removeItem("token"),this.$router.push("/"))}finally{this.$store.state.loadingOverlayText=null,this.$store.state.loadingOverlay=!1}},showConfirmationPeriodeTanam(){this.dialogConfirmPeriodeTanam=!0},deleteItemConfirm(){this.verifDelete()},close(){this.dialog=!1,this.dialogShowEditAbsensi=!1},closeDelete(){this.dialogDelete=!1},closePetaniSusulan(){this.dialogPetaniSusulan=!1},approvePetaniSusulan(){this.verifPetaniSusulan()},addDataPeriodeTanam(){this.pushDataPeriodeTanam()},closeDetailEditPohon(){this.dialogDetailPohonEdit=!1},closeDetailDeletePohon(){this.dialogDetailPohonEdit=!1},closeDetailPohon(){this.dialogDetailPohon=!1},verifSubmit(){this.dialogVerification=!0},VerificationItemConfirm(){this.verif()},closeVerification(){this.dialogVerification=!1},async save(){this.$refs.form.validate(),0!=this.defaultItem.no_lahan.length&&0!=this.defaultItem.planting_year.length&&0!=this.defaultItem.distribution_location.length&&0!=this.defaultItem.farmer_no.length&&null!=this.defaultItem.ff_no?this.defaultItem.id?this.updateData():this.addData():(this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal Simpan, Kolom required tidak boleh ada yang kosong")},capitalize(t){return t[0].toUpperCase()+t.substring(1).toLowerCase()},genderindo(t){return"male"==t?"Laki-Laki":"Perempuan"},convertToRupiah(t){for(var e="",a=t.toString().split("").reverse().join(""),s=0;s<a.length;s++)s%3==0&&(e+=a.substr(s,3)+".");return e=e.split("",e.length-1).reverse().join(""),"Rp. "+(e.length<1?"0":e)+",-"},waitingapprovefunct(t){return 0==t},gettanggal(t){var e=["","Jan","Feb","Mar","Apr","Mei","Juni","Juli","Agust","Sept","Okt","Nov","Des"],a=t.split(" ")[0],s=a.split("-")[2],i=a.split("-")[1],o=a.split("-")[0];return s+" "+e[Math.abs(i)]+" "+o},showExportModal(t){this.dialogExportSostam=!0,this.dialogExportSostamData=t},getColorStatus(t){return 0==t?"red":"green"},async getOpsiPolaTanamOptions(){try{if(this.table.search.options.pola_tanam_loading=!0,0==this.table.search.options.pola_tanam.length){const t=await r.a.get(this.BaseUrlGet+"GetOpsiPolaTanamOptions",{headers:{Authorization:"Bearer "+this.authtoken}});this.table.search.options.pola_tanam=t.data.data.result}}finally{this.table.search.options.pola_tanam_loading=!1}},async selectedKehadiranPetani(t){this.table.farmer_attendance=t.map(t=>t.farmer_no),this.table.lahans.items=this.table.lahans.items.map(t=>{var e=0;return this.table.farmer_attendance.includes(t.farmer_no)&&(e=1),{...t,attendance:e}}),console.log(this.table.farmer_attendance)},async showAddModal(){try{this.dialogAdd.loading=!0,this.dialogAdd.show=!0,await this.getFFOptions()}finally{this.dialogAdd.loading=!1}},async getLahansFF(){this.resetDataAddSostam();try{this.table.lahans.loading=!0,this.dialogAdd.loading=!0;const t=new URLSearchParams({ff_no:this.options.ff.model,program_year:this.program_year}),e=await r.a.get(this.BaseUrlGet+"getFFLahanSostamNew?"+t,{headers:{Authorization:"Bearer "+this.authtoken}});this.dataToStore.selectedFF=e.data.data.result.ff,this.totalDataBibitSostam=0,this.table.lahans.items=e.data.data.result.lahans.map(t=>(this.totalDataBibitSostam+=parseInt(t.total_kayu+t.total_mpts),{...t,max_seed_amount:t.total_kayu+t.total_mpts,training_material:this.dataToStore.training_material})),await this.setUnavailableDistributionDates(),this.checkTotalSeed(),this.dataToStore.hasSostam=e.data.data.result.sostam>0}catch(t){console.log(t.response)}finally{this.table.lahans.loading=!1,this.dialogAdd.loading=!1}},resetDataAddSostam(){console.log("reset"),this.dataToStore.distribution_time="",this.dataToStore.start_pemlub_time="",this.dataToStore.penlub_time="",this.dataToStore.planting_time="",this.dataToStore.end_planting_time="",this.dataToStore.distribution_coordinates="",this.dataToStore.distribution_location="",this.dataToStore.distribution_rec_armada=""},async setTanggalDistribusi(){this.datepicker2Show=!1,await this.setUnavailableDistributionDates()},async getFFOptions(){try{this.options.ff.loading=!0;const t=new URLSearchParams({typegetdata:this.typegetdata,ff:this.valueFFcode.join(),program_year:this.program_year}),e=await r.a.get(this.BaseUrlGet+"getFFOptionsSostam?"+t,{headers:{Authorization:"Bearer "+this.authtoken}});this.options.ff.items=e.data.data.result}catch(t){console.log(t.response)}finally{this.options.ff.loading=!1}},modalActions(t){"save"==t.type&&(this.dataToStore.distribution_coordinates=`${t.coordinate.lat},${t.coordinate.lng}`),["close","save"].includes(t.type)&&(this.modals[t.name].show=!1)},showModalPickCoordinate(t){this.modals.pick_coordinate.data=t,this.modals.pick_coordinate.show=!0},calendarGetNurseryColor(t,e,a){let s=this.calendarGetMaxFF(t),i=this.calendarGetMaxSeed(t);return e===s||i===a?"green":e>s||i<a?"red":"yellow"},calendarGetMaxSeed(t){return["Ciminyak","Cirasea","Soreang"].includes(t)?4e4:25e3},calendarGetMaxFF(t){return"Soreang"==t||"Ciminyak"==t?7:"Kebumen"==t?4:"Pati"==t||"Cirasea"==t?7:4},dateFormat(t,e){return c()(t).format(e)},disabledEditPohon(t=[],e="",a){a.max_seed_amount||this.getSeedCalculation(a,"total_max_trees");let s=1,i={KAYU:0,MPTS:0,CROPS:0};t.forEach(t=>{i[t.tree_category]+=parseInt(t.amount)});i.KAYU,i.MPTS,i.CROPS;return console.log("disable edit pohon : "+i.KAYU),""!=e&&("MPTS"==e&&i.KAYU<s)},generateFormData(t){let e=new FormData;const a=Object.entries(t);return a.forEach(([t,a])=>{Array.isArray(a)?a.map(a=>{e.append(t+"[]",a)}):e.append(t,a)}),e},getAvailableBibit(t=[],e=0,a=null){let s={KAYU:0,MPTS:0,CROPS:0};return t.forEach(t=>{a.tree_name!=t.tree_name&&(s[t.tree_category]+=parseInt(t.amount))}),"CROPS"==a.tree_category?Math.round(20*s.KAYU/100)-a.amount:"KAYU"==a.tree_category?parseInt(e)-a.amount-s.KAYU-s.MPTS:"MPTS"==a.tree_category?s.KAYU<Math.round(60*parseInt(e)/100)?Math.round(40/60*s.KAYU)-a.amount-s.MPTS:parseInt(e)-a.amount-s.KAYU-s.MPTS:void 0},getDisabledSaveItemPohon(t,e,a){let s=this.getAvailableBibit(t,e.max_seed_amount||this.getSeedCalculation(e,"total_max_trees"),a),i={KAYU:0,MPTS:0,CROPS:0};t.forEach(t=>{i[t.tree_category]+=parseInt(t.amount)});let o=0;return s<0&&(o+=1),o>0},getNurseryAlocation(t){const e=["020","021"],a=["023","026","027"],s=["022","024","025","029"],i=["019"],o=["015","016"];let l="All";return console.log(t),a.includes(t)?l="Ciminyak":s.includes(t)?l="Cirasea":i.includes(t)?l="Kebumen":o.includes(t)?l="Pati":e.includes(t)&&(l="Soreang"),l},getSeedCalculation(t,e,a=null){const s={satu_jalur:{300:[18,12,4],400:[24,16,5],500:[31,20,6],600:[37,24,7],700:[43,29,9],800:[49,33,10],900:[55,37,11],1e3:[61,41,12],1100:[67,45,13],1200:[73,49,15],1300:[80,53,16],1400:[86,57,17],1500:[92,61,18],1600:[98,65,20],1700:[104,69,21],1800:[110,73,22],1900:[116,78,23],2e3:[122,82,24]},tepi:{300:[6,4,1],400:[8,5,2],500:[10,6,2],600:[12,8,2],700:[13,9,3],800:[15,10,3],900:[17,12,3],1e3:[19,13,4],1100:[21,14,4],1200:[23,15,5],1300:[25,17,5],1400:[27,18,5],1500:[29,19,6],1600:[31,20,6],1700:[33,22,7],1800:[35,23,7],1900:[36,24,7],2e3:[38,26,8]},acak:{300:[4,3,1],400:[6,4,1],500:[7,5,1],600:[9,6,2],700:[10,7,2],800:[12,8,2],900:[13,9,3],1e3:[14,10,3],1100:[16,11,3],1200:[17,12,3],1300:[19,12,4],1400:[20,13,4],1500:[22,14,4],1600:[23,15,5],1700:[24,16,5],1800:[26,17,5],1900:[27,18,5],2e3:[29,19,6]}};let i={kayu:0,mpts:0,crops:0},o=0;if(t.land_area<1e4){const e=100*Math.floor((t.land_area>2e3?2e3:t.land_area)/100);"Pola Konservasi Pohon Kayu"==t.opsi_pola_tanam?i.kayu=.25*e:"Pola Konservasi Pohon Kayu + MPTS"==t.opsi_pola_tanam?(i.kayu=.25*e*.6,i.mpts=.25*e*.4):"Pola Agroforestry Satu Jalur"==t.opsi_pola_tanam?e>=300&&(i={kayu:s.satu_jalur[e][0],mpts:s.satu_jalur[e][1]}):"Pola Agroforestry Tepi"==t.opsi_pola_tanam?e>=300&&(i={kayu:s.tepi[e][0],mpts:s.tepi[e][1]}):"Pola Agroforestry Acak"==t.opsi_pola_tanam&&e>=300&&(i={kayu:s.acak[e][0],mpts:s.acak[e][1]}),o=Math.round((i.kayu+i.mpts)*(100-t.tutupan_lahan)/100)}return"total_max_trees"==e?o:"setDataToStore"==e?(this.table.lahans.items[a].max_seed_amount=o,o):void 0},getStatusTotalBibitInDetail(t,e,a=null){let s={KAYU:0,MPTS:0,CROPS:0},i={KAYU:0,MPTS:0,CROPS:0};return t.forEach(t=>{i[t.tree_category]+=parseInt(t.amount),s[t.tree_category]+=1}),"KAYU"==e||"MPTS"==e||"CROPS"==e?i[e]:"ALL"==e?i.KAYU+i.MPTS+i.CROPS:"COLOR"==e?i.KAYU>0&&i.KAYU>=Math.round(.6*(i.KAYU+i.MPTS))&&i.MPTS<=Math.round(.4*(i.KAYU+i.MPTS))?"green":"red":"EXISTS"==e?s[a]:void 0},numberFormat(t){return new Intl.NumberFormat("id-ID").format(t)},resetJumlahBibit(){this.DetailTreesLahanTemp.forEach((t,e)=>{this.DetailTreesLahanTemp[e].amount=0})},showingAvailableDates(t){return 0==this.datepicker2NotAvailable.includes(t)},async setUnavailableDistributionDates(){this.datepicker2Loading=!0;let t="";await this.options.ff.items.forEach(e=>{e.ff_no==this.options.ff.model&&(t=e.mu_no)}),console.log("mu_no",this.dataToStore.selectedFF.mu_no),""==t&&this.dataToStore.selectedFF.mu_no&&(t=this.dataToStore.selectedFF.mu_no);let e=this.getNurseryAlocation(t);console.log(e);let a=[],s=[];const i=[{month:"12",year:"2023",program_year:this.$store.state.programYear.model,nursery:e},{month:"01",year:"2024",program_year:this.$store.state.programYear.model,nursery:e}];await Promise.all(i.map(async(t,i)=>{let o=new URLSearchParams(t);await r.a.get(localStorage.getItem("BaseUrlGet")+"DistributionCalendar?"+o,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(t=>{const i=t.data.data.result.datas||[];i.forEach((t,i)=>{t.nursery==e&&(t.color=this.calendarGetNurseryColor(t.nursery,t.total,t.total_bibit_sostam+this.totalDataBibitSostam),console.log(t),"yellow"==t.color?s.push(this.dateFormat(t.date,"Y-MM-DD")):a.push(this.dateFormat(t.date,"Y-MM-DD")))})}).catch(t=>{console.log(t)}).finally(()=>{})})),this.datepicker2NotAvailable=a,this.datepicker2Loading=!1,this.datepicker2Key+=1,this.datepicker2Key2+=1},async sessionEnd(t){if(console.log(t),t.response&&t.response.status){if(401==t.response.status){const t=await l.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});t&&(localStorage.removeItem("token"),this.$router.push("/"))}if(500===t.response.status||400===t.response.status){let e=t.response.data.message;e&&e.includes("Duplicate entry")&&(e="Data sudah ada!"),l.a.fire({title:"Error!",text:""+(e||t.message),icon:"error",confirmButtonColor:"#f44336"})}}}}}),b=v,_=a("2877"),f=a("6544"),x=a.n(f),y=a("0798"),k=a("c6a6"),S=a("2bc5"),T=a("8336"),w=a("b0af"),C=a("99d9"),D=a("cc20"),A=a("62ad"),I=a("a523"),P=a("8fea"),F=a("2e4b"),M=a("169a"),B=a("ce7e"),U=a("0789"),L=a("23a7"),$=a("4bd4"),E=a("132d"),V=a("adda"),z=a("a722"),O=a("8860"),R=a("da13"),G=a("5d23"),K=a("e449"),j=a("a797"),N=a("490a"),Y=a("0fd9"),J=a("b974"),H=a("1f4f"),W=a("3129"),q=a("2db4"),X=a("2fa4"),Q=a("8654"),Z=a("3a2f"),tt=Object(_["a"])(b,s,i,!1,null,null,null);e["default"]=tt.exports;x()(tt,{VAlert:y["a"],VAutocomplete:k["a"],VBreadcrumbs:S["a"],VBtn:T["a"],VCard:w["a"],VCardActions:C["a"],VCardText:C["c"],VCardTitle:C["d"],VChip:D["a"],VCol:A["a"],VContainer:I["a"],VDataTable:P["a"],VDatePicker:F["a"],VDialog:M["a"],VDivider:B["a"],VFabTransition:U["c"],VFileInput:L["a"],VForm:$["a"],VIcon:E["a"],VImg:V["a"],VLayout:z["a"],VList:O["a"],VListItem:R["a"],VListItemContent:G["a"],VListItemSubtitle:G["b"],VListItemTitle:G["c"],VMenu:K["a"],VOverlay:j["a"],VProgressCircular:N["a"],VRow:Y["a"],VSelect:J["a"],VSimpleTable:H["a"],VSkeletonLoader:W["a"],VSnackbar:q["a"],VSpacer:X["a"],VTextField:Q["a"],VTooltip:Z["a"]})},ea0a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"d-flex align-center mb-2"},[e("p",{staticClass:"mb-0"},[e("v-icon",[t._v("mdi-map-marker")]),t._v(" Lokasi Distribusi")],1),e("v-divider",{staticClass:"ml-2"})],1),e("v-card",{staticClass:"rounded-xl elevation-0 overflow-hidden mb-4",staticStyle:{width:"100%"}},[e("v-card-text",{staticClass:"pa-0",staticStyle:{position:"relative",width:"100%"}},[t.maps.loading.show?e("v-overlay",{attrs:{absolute:"","justify-center":"","align-center":""}},[e("div",{staticClass:"d-flex flex-column align-center justify-center"},[e("v-progress-circular",{attrs:{size:80,width:7,indeterminate:"",color:"white"}}),e("p",{staticClass:"mb-0 text-center mt-4"},[t._v(t._s(t.maps.loading.text||"Loading..."))])],1)]):t._e(),e("div",{staticClass:"overflow-hidden rounded-xl",staticStyle:{position:"relative",width:"100%"},attrs:{id:"mapboxWrapper","data-aos":"fade-down"}},[e("div",{key:this.section+t.maps.key,ref:this.section+"mapbox",staticClass:"rounded-xl overflow-hidden",staticStyle:{height:"300px",width:"100%!important"},attrs:{id:"LahanDetailMapboxContainer"+this.section}})])],1)],1)],1)},i=[],o=(a("bc3a"),a("3d20")),l=a.n(o),n={props:{section:{type:String},long:{type:String,default:null},lat:{type:String,default:null},ff_no:{type:String,default:null}},data:()=>({maps:{accessToken:"",mapStyle:"",model:null,attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a>',center:[107.61027079290722,-6.920020837413247],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",legends:{model:""},listMarker:[],loading:{show:!1,text:"Loading..."},zoom:3,geojson:{},key:9292183,layerId:0,hoveredStateId:0,layerStyle:{outline:{color:"#000000"},fill:{color:"#f06800"}},popup:{model:!1,content:{title:"",description:""}}}}),async mounted(){this.maps.loading.show=!0,this.maps.accessToken=this.$store.state.maps.accessToken,this.maps.mapStyle=this.$store.state.maps.mapStyle,await this.initializeMap()},methods:{errorResponse(t){console.log(t),t.response&&(t.response.status?401==t.response.status?(localStorage.removeItem("token"),this.$router.push("/")):l.a.fire({title:"Error!",text:""+t.response.message,icon:"error",confirmButtonColor:"#f44336"}):l.a.fire({title:"Error!",text:""+t.message,icon:"error",confirmButtonColor:"#f44336"}))},async initializeMap(t){try{const t=this.maps,e=[this.long,this.lat];if(console.log(e),mapboxgl.accessToken=t.accessToken,mapboxgl.supported()){if(e){t.loading.show=!0;t.layerId;const a=t.layerStyle;a.fill.color=this._utils.getRandomColor(),t.loading.text="Initialize map...";let s=await new mapboxgl.Map({container:"LahanDetailMapboxContainer"+this.section,style:t.mapStyle,center:t.center,zoom:t.zoom,projection:"globe"});await s.on("load",(async function(){await s.setFog({color:"rgb(186, 210, 235)","high-color":"rgb(36, 92, 223)","horizon-blend":.02,"space-color":"rgb(11, 11, 25)","star-intensity":.6}),await s.addControl(new mapboxgl.FullscreenControl),await s.addControl(new mapboxgl.NavigationControl);(new mapboxgl.Marker).setLngLat(e).addTo(s);await s.flyTo({center:e,zoom:9,duration:7e3}),t.loading.show=!1}))}}else l.a.fire({title:"Warning!",text:"Your browser does not support Mapbox GL.",icon:"error",confirmButtonColor:"#f44336"})}catch(e){this.errorResponse(e),this.maps.loading.show=!1}}}},r=n,d=a("2877"),c=a("6544"),u=a.n(c),h=a("b0af"),m=a("99d9"),p=a("ce7e"),g=a("132d"),v=a("a797"),b=a("490a"),_=Object(d["a"])(r,s,i,!1,null,null,null);e["default"]=_.exports;u()(_,{VCard:h["a"],VCardText:m["c"],VDivider:p["a"],VIcon:g["a"],VOverlay:v["a"],VProgressCircular:b["a"]})},f40d:function(t,e,a){"use strict";var s=a("2b0e");e["a"]=s["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})}}]);
//# sourceMappingURL=chunk-441be77e.5807d532.js.map
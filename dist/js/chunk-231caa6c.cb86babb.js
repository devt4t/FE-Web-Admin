(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-231caa6c"],{"4ca6":function(t,e,a){"use strict";var n=a("15fd"),o=a("5530"),r=(a("a9e3"),a("ff44"),a("132d")),i=a("a9ad"),s=a("7560"),l=a("f2e7"),c=a("f40d"),d=a("fe6c"),u=a("58df"),p=a("80d2");e["a"]=Object(u["a"])(i["a"],Object(d["b"])(["left","bottom"]),s["a"],l["a"],c["a"]).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return Object(o["a"])({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat(Object(p["g"])(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,e=this.$attrs["aria-label"]||t.t(this.label),a=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":e,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),n=this.$createElement("span",a,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[n]):n},genBadgeContent:function(){if(!this.dot){var t=Object(p["s"])(this,"badge");return t||(this.content?String(this.content):this.icon?this.$createElement(r["a"],this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],a=[Object(p["s"])(this)],o=this.$attrs,r=(o["aria-atomic"],o["aria-label"],o["aria-live"],o.role,o.title,Object(n["a"])(o,["aria-atomic","aria-label","aria-live","role","title"]));return this.inline&&this.left?a.unshift(e):a.push(e),t("span",{staticClass:"v-badge",attrs:r,class:this.classes},a)}})},"60b6":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"rounded-xl mt-4"},[a("v-card-text",{staticClass:"pb-1"},[a("div",{staticClass:"d-flex align-center mb-2"},[a("v-badge",{attrs:{content:"Develop",color:"warning"}},[a("v-icon",[t._v("mdi-map")]),t._v(" Peta ")],1),a("v-divider",{staticClass:"ml-2"}),a("v-autocomplete",{staticClass:"ml-2",staticStyle:{"max-width":"250px"},attrs:{dense:"",color:"success","hide-details":"","item-color":"success",items:t.map_type.items,label:t.map_type.label,"menu-props":{rounded:"xl",transition:"slide-y-transition"},outlined:"",rounded:""},model:{value:t.map_type.model,callback:function(e){t.$set(t.map_type,"model",e)},expression:"map_type.model"}})],1),a("v-card",{staticClass:"rounded-xl elevation-0 overflow-hidden mb-4",staticStyle:{width:"100%"}},[a("v-card-text",{staticClass:"pa-0",staticStyle:{position:"relative",width:"100%"}},[t.maps.loading.show?a("v-overlay",{attrs:{absolute:"","justify-center":"","align-center":""}},[a("div",{staticClass:"d-flex flex-column align-center justify-center"},[a("v-progress-circular",{attrs:{size:80,width:7,indeterminate:"",color:"white"}}),a("p",{staticClass:"mb-0 text-center mt-4"},[t._v(t._s(t.maps.loading.text||"Loading..."))])],1)]):t._e(),a("div",{staticClass:"overflow-hidden rounded-xl",staticStyle:{position:"relative",width:"100%"},attrs:{id:"mapboxWrapper","data-aos":"fade-down"}},[a("div",{key:"DashboardMap"+t.maps.key,ref:"DashboardMapbox",staticClass:"rounded-xl overflow-hidden",staticStyle:{height:"500px",width:"100%!important"},attrs:{id:"DashboardMapboxContainer"}})])],1)],1)],1)],1)},o=[],r=a("5530"),i=a("1da1"),s=(a("cb29"),a("d81d"),a("b0c0"),a("fb6a"),a("ac1f"),a("1276"),a("99af"),a("96cf"),a("bc3a")),l=a.n(s),c=a("3d20"),d=a.n(c),u={data:function(){return{map_type:{items:["Wilayah Target","Contoh Lahan"],label:"Data Peta",model:"Wilayah Target"},maps:{accessToken:"",mapStyle:"",model:null,attribution:'&copy; <a target="_blank" href="http://osm.org/copyright">OpenStreetMap</a>',center:[113.9213,-.7893],url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",legends:{model:""},listMarker:[],loading:{show:!1,text:"Loading..."},zoom:3,geojson:{},key:9292183,layerId:0,hoveredStateId:0,layerStyle:{outline:{color:"#000000"},fill:{color:"#f06800"}},popup:{model:!1,content:{title:"",description:""}}}}},watch:{"map_type.model":{handler:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("Wilayah Target"!=t){a.next=3;break}return a.next=3,e.initializeMapPolygon();case 3:if("Contoh Lahan"!=t){a.next=6;break}return a.next=6,e.initializeMapLahan();case 6:case"end":return a.stop()}}),a)})))()}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.maps.accessToken=t.$store.state.maps.accessToken,t.maps.mapStyle=t.$store.state.maps.mapStyle,e.next=4,t.initializeMapPolygon();case 4:case"end":return e.stop()}}),e)})))()},methods:{errorResponse:function(t){console.log(t),t.response&&(t.response.status?401==t.response.status?(localStorage.removeItem("token"),this.$router.push("/")):d.a.fire({title:"Error!",text:"".concat(t.response.message),icon:"error",confirmButtonColor:"#f44336"}):d.a.fire({title:"Error!",text:"".concat(t.message),icon:"error",confirmButtonColor:"#f44336"}))},initializeMapPolygon:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,o,r,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=t.maps,a.loading.show=!0,mapboxgl.accessToken=a.accessToken,mapboxgl.supported()){e.next=8;break}d.a.fire({title:"Warning!",text:"Your browser does not support Mapbox GL.",icon:"error",confirmButtonColor:"#f44336"}),e.next=19;break;case 8:return a.loading.show=!0,n=a.layerStyle,o=t._utils.generateRandomString(5)+Date.now(),r=a.layerId,s=t.maps.hoveredStateId,n.fill.color=t._utils.getRandomColor(),a.loading.text="Getting polygon data...",e.next=18,omnivore.kml("".concat(t.$store.state.apiUrlImage,"maps/testing/Unit_Management.kml")).on("ready",Object(i["a"])(regeneratorRuntime.mark((function t(){var e,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,l.toGeoJSON();case 2:return e=t.sent,t.next=5,e.features.map((function(t,e){t.id=r+=1}));case 5:if(0!==e.features.length){t.next=13;break}return t.next=8,!1;case 8:return a.loading.show=t.sent,t.next=11,d.a.fire({title:"Error!",text:"Polygon Features is 0.",icon:"error",confirmButtonColor:"#f44336"});case 11:t.next=27;break;case 13:return a.loading.text="Initialize map...",t.next=16,new mapboxgl.Map({container:"DashboardMapboxContainer",style:a.mapStyle,center:a.center,zoom:a.zoom,projection:"globe"});case 16:return c=t.sent,t.next=19,c.scrollZoom.disable();case 19:return t.next=21,c.dragRotate.disable();case 21:return t.next=23,c.touchZoomRotate.disableRotation();case 23:return t.next=25,c.addControl(new mapboxgl.FullscreenControl);case 25:return t.next=27,c.on("load",Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,c.setFog({color:"rgb(186, 210, 235)","high-color":"rgb(36, 92, 223)","horizon-blend":.02,"space-color":"rgb(11, 11, 25)","star-intensity":.6});case 2:return t.next=4,c.addControl(new mapboxgl.NavigationControl);case 4:return t.next=6,c.addSource(o,{type:"geojson",data:e});case 6:return t.next=8,c.addLayer({id:"".concat(o,"-fills"),type:"fill",source:o,layout:{},paint:{"fill-color":n.fill.color,"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.1,.5]}});case 8:return t.next=10,c.addLayer({id:"".concat(o,"-outline"),type:"line",source:o,layout:{},paint:{"line-color":n.outline.color,"line-width":2}});case 10:return a=turf.center(e),r=a.geometry.coordinates,t.next=14,c.flyTo({center:[r[0],r[1]],zoom:9,duration:7e3});case 14:i=new mapboxgl.Popup({closeButton:!1,closeOnClick:!1}),c.on("mousemove","".concat(o,"-fills"),(function(t){var e=t.lngLat;if(t.features.length>0&&(null!==s&&c.setFeatureState({source:o,id:s},{hover:!1}),s=t.features[0].id,c.setFeatureState({source:o,id:s},{hover:!0}),s)){c.getCanvas().style.cursor="pointer",c.getCanvas().style.cursor="pointer";var a=[e.lng,e.lat],n=t.features[0].properties.name;while(Math.abs(t.lngLat.lng-a[0])>180)a[0]+=t.lngLat.lng>a[0]?360:-360;i.setLngLat(a).setHTML(n).addTo(c)}})),c.on("mouseleave","".concat(o,"-fills"),(function(){null!==s&&c.setFeatureState({source:o,id:s},{hover:!1}),s=null,c.getCanvas().style.cursor="",i.remove()}));case 17:case"end":return t.stop()}}),t)}))));case 27:case"end":return t.stop()}}),t)}))));case 18:l=e.sent;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e["catch"](0),t.errorResponse(e.t0);case 24:return e.prev=24,t.maps.loading.show=!1,e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,21,24,27]])})))()},initializeMapLahan:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a,n,o,s,c,u,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,a=t._utils,n=t.maps,n.loading.show=!0,n.loading.text="Mengambil data lahan...",e.next=7,l.a.get(t.$store.getters.getApiUrl("GetLahanAllAdmin?program_year=2022&typegetdata=all"),t.$store.state.apiConfig);case 7:if(o=e.sent,s=o.data.data.result.data,c=Math.floor(Math.random()*(s.length-50)),s=s.slice(c,c+50).map((function(t){return Object(r["a"])(Object(r["a"])({},t),{},{long:t.location.split(" ")[1],lat:t.location.split(" ")[0]})})),console.log(s),mapboxgl.accessToken=n.accessToken,mapboxgl.supported()){e.next=17;break}d.a.fire({title:"Warning!",text:"Your browser does not support Mapbox GL.",icon:"error",confirmButtonColor:"#f44336"}),e.next=41;break;case 17:return n.loading.show=!0,u=n.layerStyle,t._utils.generateRandomString(5)+Date.now(),u.fill.color=t._utils.getRandomColor(),n.loading.text="Getting polygon data...",n.loading.text="Initialize map...",e.next=26,new mapboxgl.Map({container:"DashboardMapboxContainer",style:n.mapStyle,center:n.center,zoom:n.zoom,projection:"globe"});case 26:return p=e.sent,e.next=29,p.scrollZoom.disable();case 29:return e.next=31,p.doubleClickZoom.disable();case 31:return e.next=33,p.dragRotate.disable();case 33:return e.next=35,p.touchZoomRotate.disableRotation();case 35:return e.next=37,p.addControl(new mapboxgl.FullscreenControl);case 37:return e.next=39,p.on("load",Object(i["a"])(regeneratorRuntime.mark((function t(){var e,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,p.setFog({color:"rgb(186, 210, 235)","high-color":"rgb(36, 92, 223)","horizon-blend":.02,"space-color":"rgb(11, 11, 25)","star-intensity":.6});case 2:return t.next=4,p.addControl(new mapboxgl.NavigationControl);case 4:return t.next=6,!1;case 6:for(n.loading.show=t.sent,e=[],o=function(t){var n=[s[t].long,s[t].lat],o="\n                            <table>\n                                <tr>\n                                    <td>Desa</td>\n                                    <td>:</td>\n                                    <td>".concat(s[t].desa||"-","</td>    \n                                </tr>\n                                <tr>\n                                    <td>Petani</td>\n                                    <td>:</td>\n                                    <td>").concat(s[t].petani||"-","</td>    \n                                </tr>\n                                <tr>\n                                    <td>Luas Lahan</td>\n                                    <td>:</td>\n                                    <td>").concat(a.numberFormat(s[t].luas_lahan)," m<sup>2</sup></td>    \n                                </tr>\n                                <tr>\n                                    <td>Tipe Lahan</td>\n                                    <td>:</td>\n                                    <td>").concat(s[t].lahan_type||"-","</td>    \n                                </tr>\n                            </table>");e[t]=(new mapboxgl.Marker).setLngLat(n).setPopup((new mapboxgl.Popup).setHTML(o)).addTo(p),e[t].getElement().addEventListener("dblclick",(function(){p.flyTo({center:n,zoom:15,duration:3e3})}))},r=0;r<s.length;r++)o(r);case 10:case"end":return t.stop()}}),t)}))));case 39:return e.next=41,p.flyTo({center:[108.909203,-7.143859],zoom:6,duration:7e3});case 41:e.next=47;break;case 43:e.prev=43,e.t0=e["catch"](0),t.map_type.model="Wilayah Target",t.errorResponse(e.t0);case 47:return e.prev=47,t.maps.loading.show=!1,e.finish(47);case 50:case"end":return e.stop()}}),e,null,[[0,43,47,50]])})))()}}},p=u,m=a("2877"),h=a("6544"),g=a.n(h),f=a("c6a6"),b=a("4ca6"),v=a("b0af"),x=a("99d9"),y=a("ce7e"),w=a("132d"),C=a("a797"),k=a("490a"),S=Object(m["a"])(p,n,o,!1,null,null,null);e["default"]=S.exports;g()(S,{VAutocomplete:f["a"],VBadge:b["a"],VCard:v["a"],VCardText:x["c"],VDivider:y["a"],VIcon:w["a"],VOverlay:C["a"],VProgressCircular:k["a"]})},f40d:function(t,e,a){"use strict";var n=a("2b0e");e["a"]=n["default"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}})},ff44:function(t,e,a){}}]);
//# sourceMappingURL=chunk-231caa6c.cb86babb.js.map
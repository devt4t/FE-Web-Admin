(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22c80c"],{f408:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",{staticClass:"breadcrumbsmain",attrs:{dark:"dark"==e.$store.state.theme,"data-aos":"fade-right",items:e.breadcrumbs,divider:">",large:""}}),a("FormModal",{key:e.modals.form.key,attrs:{show:e.modals.form.show,id:e.modals.form.id,programYear:e.localConfig.programYear},on:{action:function(t){return e.modalActions(t)},swal:function(t){return e.swalActions(t)}}}),a("DetailModal",{key:e.modals.detail.key,attrs:{show:e.modals.detail.show,id:e.modals.detail.data,programYear:e.localConfig.programYear},on:{action:function(t){return e.modalActions(t)},swal:function(t){return e.swalActions(t)}}}),a("v-data-table",{class:(e.$store.state.theme," rounded-xl elevation-6 mx-3 pa-1"),attrs:{"data-aos":"fade-up","data-aos-delay":"200","multi-sort":"",headers:e.table.headers,items:e.table.items,search:e.table.search,loading:e.table.loading.show,"loading-text":e.table.loading.text},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-row",{staticClass:"my-2 mx-2 mx-lg-3 align-center"},[a("v-select",{staticClass:"mx-auto mr-lg-2 mb-2 mb-lg-0",staticStyle:{"max-width":"200px"},attrs:{color:"success","item-color":"success",items:e.$store.state.programYear.options,disabled:e.table.loading.show,outlined:"",dense:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Program Year"},model:{value:e.localConfig.programYear,callback:function(t){e.$set(e.localConfig,"programYear",t)},expression:"localConfig.programYear"}}),a("v-text-field",{staticClass:"mx-auto mb-2 mb-lg-0",attrs:{color:"green","hide-details":"",dense:"",outlined:"",rounded:"",label:"Search",placeholder:"Start type to search...","append-icon":"mdi-magnify"},model:{value:e.table.search,callback:function(t){e.$set(e.table,"search",t)},expression:"table.search"}}),a("v-divider",{staticClass:"mx-2 d-none d-lg-block"}),a("div",{staticClass:"mx-auto"},[a("v-btn",{staticClass:"mr-2",attrs:{color:"green white--text",disabled:e.table.loading.show||0==e.table.items.length,rounded:""},on:{click:function(){return e.exportExcel()}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-microsoft-excel")]),e._v(" Export ")],1),a("v-btn",{staticClass:"pl-2",attrs:{color:"info",rounded:""},on:{click:function(){e.modals.form.show=!0,e.modals.form.key+=1}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-plus-circle")]),e._v(" Add ")],1)],1)],1)]},proxy:!0},{key:"item.no",fn:function(t){var a=t.index;return[e._v(" "+e._s(a+1)+" ")]}},{key:"item.rra_pra_date_start",fn:function(t){var r=t.item;return[e._v(" "+e._s(e._utils.dateFormat(r.rra_pra_date_start,"DD MMMM Y"))+" "),r.rra_pra_date_start!=r.rra_pra_date_end?a("span",[e._v(" ~ "+e._s(e._utils.dateFormat(r.rra_pra_date_end,"DD MMMM Y"))+" ")]):e._e()]}},{key:"item.is_verify",fn:function(t){var r=t.item;return[a("v-chip",{staticClass:"white--text pl-1",attrs:{color:1==r.is_verify?"green":"red"}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-"+e._s(1==r.is_verify?"check":"close")+"-circle")]),e._v(" "+e._s(1==r.is_verify?"Verified":"Unverified")+" ")],1)]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-menu",{attrs:{"content-class":"rounded-xl"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.attrs,n=t.on;return[a("v-btn",e._g(e._b({attrs:{small:"",fab:"",icon:""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("v-card",{staticClass:"pa-2 d-flex align-stretch flex-column justify-center"},[a("v-btn",{staticClass:"pl-1 d-flex justify-start align-center",attrs:{color:"info white--text",rounded:"",small:""},on:{click:function(){return e.showModal("detail",r)}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-information")]),e._v(" Detail ")],1),a("v-btn",{staticClass:"pl-1 mt-1 d-flex justify-start align-center",attrs:{color:"orange white--text",rounded:"",small:"",disabled:1===r.is_verify},on:{click:function(){e.showModal("form",r)}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-pencil-circle")]),e._v(" Edit ")],1)],1)],1)]}}])})],1)},n=[],s=a("1da1"),o=(a("b0c0"),a("96cf"),a("bc3a")),i=a.n(o),l=a("3d20"),c=a.n(l),d=a("22ae"),u=a("be2e"),m={components:{FormModal:d["default"],DetailModal:u["default"]},data:function(){return{breadcrumbs:[{text:"Main Data",disabled:!0,href:"breadcrumbs_dashboard"},{text:"RRA & PRA",disabled:!0,href:"breadcrumbs_link_1"}],modals:{detail:{show:!1,data:null,key:8990458},form:{id:null,show:!1,data:null,key:7892345}},localConfig:{programYear:""},table:{headers:[{text:"No",value:"no"},{text:"Form No",value:"form_no"},{text:"Tanggal",value:"rra_pra_date_start"},{text:"PIC Email",value:"user_id"},{text:"Status",value:"is_verify",align:"center"},{text:"Actions",value:"actions",align:"right"}],items:[],loading:{show:!1,text:"Loading..."},search:""},user:""}},mounted:function(){this.firstAccessPage()},methods:{errorResponse:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(e),!e.response){a.next=8;break}if(!e.response.status){a.next=8;break}if(401!=e.response.status){a.next=8;break}return a.next=6,c.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});case 6:r=a.sent,r&&(localStorage.removeItem("token"),t.$router.push("/"));case 8:case"end":return a.stop()}}),a)})))()},firstAccessPage:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.user=e.$store.state.User,e.localConfig.programYear=e.$store.state.programYear.model,t.next=4,e.getTableData();case 4:case"end":return t.stop()}}),t)})))()},getTableData:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.table.loading.show=!0,a=e.$store.getters.getApiUrl("GetRraPraAll"),t.next=5,i.a.get(a,e.$store.state.apiConfig);case 5:r=t.sent,e.table.items=r.data.data.result,t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](0),e.errorResponse(t.t0);case 12:return t.prev=12,e.table.loading.show=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},modalActions:function(e){"close"==e.type&&(this.modals[e.name].show=!1)},showModal:function(e,t){var a=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.form_no;case 2:return a.modals[e].data=r.sent,r.next=5,!0;case 5:a.modals[e].show=r.sent;case 6:case"end":return r.stop()}}),r)})))()},swalActions:function(e){this.getTableData();var t=c.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1e4,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",c.a.stopTimer),e.addEventListener("mouseleave",c.a.resumeTimer)}});t.fire({icon:e.type,title:e.message})}}},f=m,v=a("2877"),p=a("6544"),g=a.n(p),b=a("2bc5"),h=a("8336"),x=a("b0af"),_=a("cc20"),w=a("8fea"),k=a("ce7e"),y=a("132d"),C=a("e449"),M=a("0fd9"),R=a("b974"),Y=a("8654"),A=Object(v["a"])(f,r,n,!1,null,null,null);t["default"]=A.exports;g()(A,{VBreadcrumbs:b["a"],VBtn:h["a"],VCard:x["a"],VChip:_["a"],VDataTable:w["a"],VDivider:k["a"],VIcon:y["a"],VMenu:C["a"],VRow:M["a"],VSelect:R["a"],VTextField:Y["a"]})}}]);
//# sourceMappingURL=chunk-2d22c80c.098eabdb.js.map
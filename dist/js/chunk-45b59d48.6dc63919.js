(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45b59d48"],{"2bc5":function(e,a,t){"use strict";t("abd3");var s=t("1c87"),i=t("58df"),l=Object(i["a"])(s["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes(){return{"v-breadcrumbs__item":!0,[this.activeClass]:this.disabled}}},render(e){const{tag:a,data:t}=this.generateRouteLink();return e("li",[e(a,{...t,attrs:{...t.attrs,"aria-current":this.isActive&&this.isLink?"page":void 0}},this.$slots.default)])}}),r=t("80d2"),o=Object(r["i"])("v-breadcrumbs__divider","li"),n=t("7560");a["a"]=Object(i["a"])(n["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:()=>[]},large:Boolean},computed:{classes(){return{"v-breadcrumbs--large":this.large,...this.themeClasses}}},methods:{genDivider(){return this.$createElement(o,this.$slots.divider?this.$slots.divider:this.divider)},genItems(){const e=[],a=!!this.$scopedSlots.item,t=[];for(let s=0;s<this.items.length;s++){const i=this.items[s];t.push(i.text),a?e.push(this.$scopedSlots.item({item:i})):e.push(this.$createElement(l,{key:t.join("."),props:i},[i.text])),s<this.items.length-1&&e.push(this.genDivider())}return e}},render(e){const a=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},a)}})},abd3:function(e,a,t){},be2e:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e._self._c;return a("v-dialog",{attrs:{"content-class":"rounded-xl mx-1","max-width":"1200",scrollable:"",persistent:""},model:{value:e.showModal,callback:function(a){e.showModal=a},expression:"showModal"}},[a("v-card",[a("v-card-title",{staticClass:"rounded-xl green darken-3 ma-1 pa-2"},[a("span",{staticClass:"white--text"},[a("v-btn",{staticClass:"white dark--text mr-1",attrs:{fab:"","x-small":""}},[a("v-icon",{attrs:{color:"grey darken-3"}},[e._v("mdi-file-document")])],1),e._v(" RRA PRA Form #"+e._s(this.id)+" "),a("v-chip",{staticClass:"white--text ml-2",attrs:{small:"",color:e.getStatusColumn("bg_color",e.verified_data)}},[a("v-icon",{staticClass:"mr-1"},[e._v(e._s(e.getStatusColumn("icon",e.verified_data)))]),e._v(" "+e._s(e.getStatusColumn("text",e.verified_data))+" ")],1)],1),a("v-icon",{staticClass:"ml-auto",attrs:{color:"white"},on:{click:function(a){e.showModal=!1}}},[e._v("mdi-close-circle")])],1),a("v-card-text",{staticClass:"pa-0",staticStyle:{"min-height":"300px"}},[a("v-overlay",{attrs:{absolute:"",value:e.loading.show}},[a("div",{staticClass:"d-flex flex-column justify-center align-center"},[a("LottieAnimation",{ref:"anim",staticStyle:{height:"64px"},attrs:{animationData:e.lottie.data.loading,loop:!0}}),a("p",{staticClass:"mt-2 mb-0"},[e._v(e._s(e.loading.text)+" "),a("v-progress-circular",{attrs:{size:17,width:3,indeterminate:"",color:"white"}})],1)],1)]),a("div",{staticStyle:{display:"none"},attrs:{id:"containerForExport-RRAPRA"}},[a("ExportView",{attrs:{id:e.id,raw_data:e.raw_data||{},stepper:this.stepper.model}})],1),e.datas?a("div",[a("v-row",{staticClass:"ma-0 mx-2 mx-lg-4"},[a("v-col",{attrs:{cols:"12",md:"12",lg:"7"}},[a("v-card",{key:"location_card-"+e.showModal,staticClass:"rounded-lg",attrs:{"data-aos":"fade-down"}},[a("v-card-title",{staticClass:"grey darken-3 white--text pa-1 px-3"},[a("span",{staticStyle:{"font-size":"13px"}},[a("v-icon",{attrs:{color:"white"}},[e._v("mdi-map-marker")]),e._v(" Lokasi Desa ")],1)]),a("v-card-text",{staticClass:"pa-3"},[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[a("v-card",{staticClass:"pa-2 elevation-0"},[a("span",{staticClass:"grey--text text--darken-2",staticStyle:{"font-size":"13px"}},[e._v(" Provinsi ")]),a("h4",[e._v(" "+e._s(e.datas.Scooping.province_name||"-")+" ")])])],1),a("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[a("v-card",{staticClass:"pa-2 elevation-0"},[a("span",{staticClass:"grey--text text--darken-2",staticStyle:{"font-size":"13px"}},[e._v(" Kabupaten ")]),a("h4",[e._v(" "+e._s(e.datas.Scooping.city_name||"-")+" ")])])],1),a("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[a("v-card",{staticClass:"pa-2 elevation-0"},[a("span",{staticClass:"grey--text text--darken-2",staticStyle:{"font-size":"13px"}},[e._v(" Kecamatan ")]),a("h4",[e._v(" "+e._s(e.datas.Scooping.district_name||"-")+" ")])])],1),a("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[a("v-card",{staticClass:"pa-2 elevation-0"},[a("span",{staticClass:"grey--text text--darken-2",staticStyle:{"font-size":"13px"}},[e._v(" Desa ")]),a("h4",[e._v(" "+e._s(e.datas.Scooping.village_name||"-")+" ")])])],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"12",md:"12",lg:"5"}},[a("v-card",{key:"date_period_card-"+e.showModal,staticClass:"rounded-lg",attrs:{"data-aos":"fade-down"}},[a("v-card-title",{staticClass:"grey darken-3 white--text pa-1 px-3"},[a("span",{staticStyle:{"font-size":"13px"}},[a("v-icon",{attrs:{color:"white"}},[e._v("mdi-calendar")]),e._v(" Tanggal RRA - PRA ")],1)]),a("v-card-text",{staticClass:"pa-3"},[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticClass:"pa-2 elevation-0"},[a("span",{staticClass:"grey--text text--darken-2",staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.getIntervalDay(e.datas.RRA.rra_pra_date_start,e.datas.RRA.rra_pra_date_end)+1)+" Hari ")]),a("h4",[e._v(" "+e._s(e._utils.dateFormat(e.datas.RRA.rra_pra_date_start,"DD MMMM YYYY")||"-")+" "),e.datas.RRA.rra_pra_date_start!=e.datas.RRA.rra_pra_date_end?a("span",[e._v(" ~ "+e._s(e._utils.dateFormat(e.datas.RRA.rra_pra_date_end,"DD MMMM YYYY")||"-")+" ")]):e._e()])])],1)],1)],1)],1)],1)],1),a("v-stepper",{staticClass:"rounded-xl mt-2 elevation-0",attrs:{vertical:e.localConfig.windowWidth<e.localConfig.breakLayoutFrom},model:{value:e.stepper.model,callback:function(a){e.$set(e.stepper,"model",a)},expression:"stepper.model"}},[e.localConfig.windowWidth>=e.localConfig.breakLayoutFrom?a("v-stepper-header",{staticClass:"elevation-0 mx-5"},[e._l(e.stepper.steps,(function(t,s){return[a("v-stepper-step",{staticClass:"rounded-pill",attrs:{complete:e.stepper.model>s+1,step:s+1,editable:"",color:"green"}},[a("span",[a("v-icon",{staticClass:"mr-1",attrs:{color:e.stepper.model>s+1?"green":""}},[e._v("mdi-"+e._s(e.stepper.steps_icon[s]))]),e._v(" "+e._s(t)+" ")],1)]),s+1!==e.stepper.steps.length?a("v-divider",{key:s+1,attrs:{"data-aos":"fade-right","data-aos-delay":200*s+100}}):e._e()]}))],2):e._e(),a("v-stepper-items",e._l(e.stepper.steps,(function(t,s){return a("div",[e.localConfig.windowWidth<e.localConfig.breakLayoutFrom&&e.stepper.steps.length>=1?a("v-stepper-step",{staticClass:"rounded-xl py-3 ma-1",attrs:{color:"green",complete:e.stepper.model>1,step:1,editable:""}},[a("span",[a("v-icon",{staticClass:"mr-1",attrs:{color:e.stepper.model>s+1?"green":""}},[e._v("mdi-"+e._s(e.stepper.steps_icon[s]))]),e._v(e._s(e.stepper.steps[s]))],1)]):e._e(),e.stepper.steps.length>=s+1?a("v-stepper-content",{staticClass:"pt-0",attrs:{step:s+1}},[a("v-card",{staticClass:"ma-1 rounded-xl",attrs:{"min-height":"250px"}},[a("v-card-text",e._l(e.groupingData[t],(function(s,i){return s.hide?e._e():a("div",[s.label?a("div",{staticClass:"d-flex align-center my-8"},[a("p",{staticClass:"mb-0 grey--text text--darken-3",staticStyle:{"font-size":"17px"}},[a("v-icon",{staticClass:"mr-2"},[e._v(e._s(s.labelIcon))]),e._v(e._s(s.label))],1),a("v-divider",{staticClass:"mx-2",attrs:{color:""}})],1):e._e(),"table"===s.dataType&&e.datas[s.dataSource||t]?a("div",[a("v-data-table",{class:"rounded-xl elevation-6 mx-2 mx-lg-3 pa-1 elevation-3 overflow-hidden mt-4",attrs:{caption:s.table.caption,"multi-sort":"","hide-default-footer":s.table.hideDefaultFooter,headers:s.table.headers,items:e.datas[s.dataSource||t][s.dataKey],"items-per-page":s.table.itemsPerPage,"show-expand":s.table.expand},scopedSlots:e._u([{key:"item.index",fn:function({index:a}){return[e._v(" "+e._s(a+1)+" ")]}},{key:"item.point",fn:function({item:a}){return[e._v(" "+e._s(e.indonesianify(a.point))+" ")]}},{key:"item.potential",fn:function({item:t}){return["List Dusun"==s.label?a("v-chip",{staticClass:"white--text pl-1",attrs:{color:1==t.potential?"green":"red"}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-"+e._s(1==t.potential?"check":"close")+"-circle")]),e._v(" "+e._s(1==t.potential?"Ya":"Tidak")+" ")],1):a("span",[e._v(e._s(t.potential))])]}},{key:"item.type_ownership",fn:function({item:a}){return[e._v(" "+e._s(a.land_ownership||a.type_ownership)+" ")]}},{key:"item.percentage",fn:function({item:a}){return[e._v(" "+e._s(a.percentage)+"% ")]}},{key:"item.gender",fn:function({item:t}){return[a("v-icon",[e._v("mdi-human-"+e._s(t.gender))]),e._v(e._s("male"==t.gender?"Laki - Laki":"Perempuan")+" ")]}},{key:"item.capacity",fn:function({item:a}){return[e._v(" "+e._s(e._utils.numberFormat(a.capacity))+" kg ")]}},{key:"item.source_income",fn:function({item:a}){return[e._v(" Rp, "+e._s(e._utils.numberFormat(a.source_income))+" ")]}},{key:"item.fatalities",fn:function({item:a}){return[e._v(" "+e._s(e._utils.numberFormat(a.fatalities))+" orang ")]}},{key:"item.watersource_utilization",fn:function({item:a}){return[e._v(" "+e._s(a.watersource_utilization||"Belum ada pemanfaatan")+" ")]}},{key:"item.date_start",fn:function({item:t}){return[e._v(" "+e._s(e._utils.dateFormat(t.date_start,"DD MMMM YYYY"))+" "),t.date_end&&t.date_start!=t.date_end?a("span",[e._v(" ~ "+e._s(e._utils.dateFormat(t.date_end,"DD MMMM YYYY"))+" ")]):e._e()]}},{key:"expanded-item",fn:function({headers:t,item:i}){return["ProductionMarketing"==s.dataKey?a("td",{staticClass:"rounded-xl elevation-0",attrs:{colspan:t.length}},[a("v-row",{staticClass:"py-4"},[a("v-col",{class:{"pa-1":!0},attrs:{cols:"12",md:"6",lg:"4"}},[a("v-card",{staticClass:"rounded-xl"},[a("v-card-text",{class:{"text-center":!0,"pa-2":!0}},[a("p",{staticClass:"mb-0 grey darken-3 white--text px-4 rounded-pill",staticStyle:{"font-size":"13px"}},[a("v-icon",{staticClass:"mr-1",attrs:{color:"white"}},[e._v("mdi-account-tag")]),e._v(" Customer ")],1),a("h4",{staticClass:"mb-0 pa-2"},[a("span",[e._v(e._s(i.customer||"-"))])])])],1)],1),a("v-col",{class:{"pa-1":!0},attrs:{cols:"12",md:"6",lg:"4"}},[a("v-card",{staticClass:"rounded-xl"},[a("v-card-text",{class:{"text-center":!0,"pa-2":!0}},[a("p",{staticClass:"mb-0 grey darken-3 white--text px-4 rounded-pill",staticStyle:{"font-size":"13px"}},[a("v-icon",{staticClass:"mr-1",attrs:{color:"white"}},[e._v("mdi-phone")]),e._v(" Customer Phone ")],1),a("h4",{staticClass:"mb-0 pa-2"},[a("span",[e._v(e._s(i.phone||"-"))])])])],1)],1),a("v-col",{class:{"pa-1":!0},attrs:{cols:"12",md:"6",lg:"4"}},[a("v-card",{staticClass:"rounded-xl"},[a("v-card-text",{class:{"text-center":!0,"pa-2":!0}},[a("p",{staticClass:"mb-0 grey darken-3 white--text px-4 rounded-pill",staticStyle:{"font-size":"13px"}},[a("v-icon",{staticClass:"mr-1",attrs:{color:"white"}},[e._v("mdi-email")]),e._v(" Customer Email ")],1),a("h4",{staticClass:"mb-0 pa-2"},[a("span",[e._v(e._s(i.email||"-"))])])])],1)],1),a("v-col",{class:{"pa-1":!0},attrs:{cols:"12"}},[a("v-card",{staticClass:"rounded-xl"},[a("v-card-text",{class:{"text-center":!1,"pa-2":!0}},[a("p",{staticClass:"mb-0 grey darken-3 white--text px-4 rounded-pill",staticStyle:{"font-size":"13px"}},[a("v-icon",{staticClass:"mr-1",attrs:{color:"white"}},[e._v("mdi-note")]),e._v(" Deskripsi ")],1),a("h4",{staticClass:"mb-0 pa-2"},[a("span",[e._v(e._s(i.description||"-"))])])])],1)],1)],1)],1):a("td",{staticClass:"rounded-xl elevation-0",attrs:{colspan:t.length}},e._l(s.table.expandItem,(function(t,l){return a("div",[t.label?a("div",{staticClass:"d-flex align-center my-4"},[a("p",{staticClass:"mb-0 grey--text text--darken-3",staticStyle:{"font-size":"17px"}},[a("v-icon",{staticClass:"mr-2"},[e._v(e._s(t.labelIcon))]),e._v(e._s(t.label))],1),a("v-divider",{staticClass:"mx-2",attrs:{color:""}}),t.dataStatus?a("div",[e._v("Status Data: "+e._s(i[t.dataStatus]))]):e._e()],1):e._e(),a("v-row",{staticClass:"my-2"},e._l(t.items,(function(t,r){return a("v-col",{key:`column-${s.label}-item-${l}-${r}`,class:{"pa-2":!0},attrs:{cols:t.cols[0],sm:t.cols[1],md:t.cols[2],lg:t.cols[3]}},[a("v-card",{staticClass:"rounded-xl"},[a("v-card-text",{class:{"text-center":t.centered,"pa-2":!0}},[a("p",{staticClass:"mb-0 grey darken-3 white--text px-4 rounded-pill",staticStyle:{"font-size":"13px"}},[e._v(e._s(t.label))]),a("h4",{staticClass:"mb-0 pa-2"},["number"===t.dataType?a("span",[e._v(" "+e._s(e._utils.numberFormat(i[t.dataKey]))+" ")]):"phone"===t.dataKey?a("span",[a("v-tooltip",{attrs:{top:"","content-class":"rounded-xl"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:l}){return[a("a",e._g(e._b({staticClass:"grey--text text--darken-3",staticStyle:{"text-decoration":"none"},attrs:{href:"tel:"+i[t.dataKey],target:"_blank"}},"a",l,!1),s),[a("v-btn",{staticClass:"elevation-0 mr-1",attrs:{fab:"","x-small":"",color:"grey darken-3 white--text"}},[a("v-icon",[e._v("mdi-phone")])],1)],1)]}}],null,!0)},[e._v(" Click here for call ")]),e._v(" "+e._s(i[t.dataKey])+" ")],1):"whatsapp"===t.dataKey?a("span",[a("v-tooltip",{attrs:{top:"","content-class":"rounded-xl"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:l}){return[a("a",e._g(e._b({staticClass:"grey--text text--darken-3",staticStyle:{"text-decoration":"none"},attrs:{href:"https://wa.me/"+e._utils.whatsappPhone(i[t.dataKey]||""),target:"_blank"}},"a",l,!1),s),[a("v-btn",{staticClass:"elevation-0 mr-1",attrs:{fab:"","x-small":"",color:"green white--text"}},[a("v-icon",[e._v("mdi-whatsapp")])],1)],1)]}}],null,!0)},[e._v(" Click here for chat ")]),e._v(" "+e._s(i[t.dataKey])+" ")],1):"photo"===t.dataType?a("div",[a("v-card",{staticClass:"rounded-lg mt-2 elevation-0 mr-1 mb-1",staticStyle:{position:"relative"}},[a("v-img",{staticClass:"my-2 mb-4 rounded-lg cursor-pointer",staticStyle:{"max-width":"200px","max-height":"110px"},attrs:{src:e.setUrlFileImage(i[t.dataKey])},on:{click:function(a){e.showLightbox(e.setUrlFileImage(i[t.dataKey]))}}})],1)],1):a("span",[e._v(" "+e._s(i[t.dataKey])+" ")]),t.suffix?a("span",{staticClass:"ml-0",domProps:{innerHTML:e._s(t.suffix)}}):e._e(),t.dataStatus?a("span",{staticClass:"ml-0"},[e._v(" ("+e._s(i[t.dataStatus])+") ")]):e._e()])])],1)],1)})),1)],1)})),0)]}}],null,!0)})],1):e._e(),"column"===s.dataType&&s.items?a("div",[a("v-row",{staticClass:"mx-1 my-1"},e._l(s.items,(function(i,l){return a("v-col",{key:`column-item-${s.label}-${l}`,class:{"pa-2":i.dense},attrs:{cols:i.cols[0],sm:i.cols[1],md:i.cols[2],lg:i.cols[3]}},[a("v-card",{staticClass:"rounded-xl"},[a("v-card-text",{class:{"text-center":i.centered,"pa-2":!0}},[a("p",{staticClass:"mb-0 grey darken-3 white--text px-4 rounded-pill",staticStyle:{"font-size":"13px"}},[e._v(e._s(i.label))]),e.datas[i.dataSource||t]?a("h4",{staticClass:"mb-0 pa-2"},[i.prefix?a("span",{domProps:{innerHTML:e._s(i.prefix)}}):e._e(),"number"===i.dataType?a("span",[e._v(" "+e._s(e._utils.numberFormat(e.datas[i.dataSource||t][i.dataKey]||0))+" ")]):a("span",[e._v(e._s(e.datas[i.dataSource||t][i.dataKey]||"-"))]),i.suffix?a("span",{domProps:{innerHTML:e._s(i.suffix)}}):e._e()]):e._e()])],1)],1)})),1)],1):e._e(),s.description&&e.datas[s.dataSource||t]?a("v-card",{staticClass:"rounded-xl mx-2 mx-lg-3 mt-2"},[a("v-card-text",[a("p",{staticClass:"mb-0 grey darken-3 white--text px-4 rounded-pill",staticStyle:{"font-size":"13px"}},[a("v-icon",{attrs:{color:"white"}},[e._v("mdi-text-box")]),e._v(" Deskripsi "+e._s(s.label)+" ")],1),a("p",{staticClass:"mb-0 pa-2",domProps:{innerHTML:e._s(e.datas[s.dataSource||t][s.descriptionKey]||"-")}})])],1):e._e()],1)})),0)],1)],1):e._e()],1)})),0)],1)],1):e._e()],1),e.verificationAccess?a("v-card-actions",{staticClass:"justify-center"},["ready_to_submit"==e.verified_data?a("v-btn",{staticClass:"pr-4",attrs:{rounded:"",color:"green",outlined:""},on:{click:()=>e.confirmVerification("verify")}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-check-circle")]),e._v(" Verifikasi")],1):e._e(),"submit_review"==e.verified_data?a("v-btn",{staticClass:"pr-4",attrs:{rounded:"",color:"red",outlined:""},on:{click:()=>e.confirmVerification("unverif")}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-close-circle")]),e._v(" Unverifikasi")],1):e._e(),"submit_review"==e.verified_data?a("v-btn",{staticClass:"pr-4",attrs:{rounded:"",color:"green",outlined:""},on:{click:()=>e.exportReport()}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-microsoft-word")]),e._v(" Export")],1):e._e()],1):e._e()],1)],1)},i=[],l=t("bc3a"),r=t.n(l),o=t("c1df"),n=t.n(o),d=t("86e6"),c=t("3d20"),u=t.n(c),m=t("6d839"),p=t("1d71"),_=t("9c7b"),b={components:{LottieAnimation:d["a"],ExportView:_["default"]},props:{show:{type:Boolean,default:!1},id:{type:String,default:"0"}},data:()=>({datas:null,formOptions:m,groupingData:{RRA:[{label:"Batas Wilayah",labelIcon:"mdi-compass-rose",dataType:"table",dataKey:"VillageBorder",table:{hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"Arah",value:"point"},{text:"Tipe",value:"border_type"},{text:"Kabupaten",value:"city_name"},{text:"Kecamatan",value:"district_name"},{text:"Desa",value:"village_name"}]}},{label:"Landscape Desa",labelIcon:"mdi-home",dataType:"column",items:[{centered:!0,cols:[12,12,12,12],dataKey:"land_area",dataSource:"Scooping",dataType:"number",dense:!0,label:"Luas Desa",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"tanah_sawah",dataSource:null,dataType:"number",dense:!0,label:"Tanah Sawah",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"tegal_ladang",dataSource:null,dataType:"number",dense:!0,label:"Tegal / Ladang",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"pemukiman",dataSource:null,dataType:"number",dense:!0,label:"Pemukiman",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"pekarangan",dataSource:null,dataType:"number",dense:!0,label:"Pekarangan",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"tanah_rawa",dataSource:null,dataType:"number",dense:!0,label:"Tanah Rawa",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"waduk_danau",dataSource:null,dataType:"number",dense:!0,label:"Situ / Waduk / Danau",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"tanah_perkebunan_rakyat",dataSource:null,dataType:"number",dense:!0,label:"Tanah Perkebunan Rakyat",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"tanah_perkebunan_negara",dataSource:null,dataType:"number",dense:!0,label:"Tanah Perkebunan Negara",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"tanah_perkebunan_swasta",dataSource:null,dataType:"number",dense:!0,label:"Tanah Perkebunan Swasta",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"hutan_lindung",dataSource:null,dataType:"number",dense:!0,label:"Hutan Lindung",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"hutan_rakyat",dataSource:null,dataType:"number",dense:!0,label:"Hutan Rakyat",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!0,cols:[12,6,4,3],dataKey:"fasilitas_umum",dataSource:null,dataType:"number",dense:!0,label:"Fasilitas Umum",labelIcon:"",prefix:"",suffix:"Ha"},{centered:!1,cols:[12,12,12,12],dataKey:"lahan_menurut_masyarakat",dataSource:null,dataType:"text",dense:!0,label:"Lahan Menurut Masyarakat",labelIcon:"",prefix:"",suffix:""}]},{label:"Pola Pemanfaatan Lahan",labelIcon:"mdi-land-fields",dataType:"table",dataKey:"LandUse",table:{hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Pola",value:"pattern"},{text:"Tanaman",value:"plant"}]}},{label:"Kelembagaan Masyarakat",labelIcon:"mdi-account-cowboy-hat",dataType:"table",dataKey:"CommunityInstitution",table:{hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama Lembaga",value:"institution_name"},{text:"Peran",value:"role"},{text:"Description",value:"description"}]}},{label:"Potensi Pertanian Organik",labelIcon:"mdi-barn",dataType:"table",dataKey:"OrganicPotential",table:{hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama",value:"name"},{text:"Kategori",value:"potential_category"},{text:"Sumber",value:"source"},{text:"Description",value:"description"}]}},{label:"Pemasaran Hasil Produksi",labelIcon:"mdi-store",dataType:"table",dataKey:"ProductionMarketing",table:{expand:!0,hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama",value:"commodity_name"},{text:"Kapasitas (kg)",value:"capacity"},{text:"Metode",value:"method"},{text:"Periode Pemasaran",value:"period"},{text:"Detail",value:"data-table-expand"}]}},{label:"Identifikasi Petani Inovatif",labelIcon:"mdi-account-star",dataType:"table",dataKey:"InnovativeFarmer",table:{expand:!1,hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama",value:"farmer_name"},{text:"Spesialisasi",value:"specialitation"},{text:"Potensial",value:"potential"},{text:"Description",value:"description"}]}},{label:"List Dusun",labelIcon:"mdi-home-group",dataType:"table",dataKey:"Dusun",table:{expand:!0,expandItem:[{label:"General data",labelIcon:"mdi-list-box",items:[{cols:[12,6,6,6],dataKey:"land_area",dataStatus:"data_land_area_source",dataType:"number",label:"Luas Dusun",labelIcon:null,suffix:"m<sup>2</sup>"},{cols:[12,6,6,6],dataKey:"dry_land_area",dataStatus:"data_dry_land_area_source",dataType:"number",label:"Luas Lahan Kritis",labelIcon:null,suffix:"m<sup>2</sup>"},{cols:[12,6,6,6],dataKey:"accessibility",dataType:"text",label:"Aksesibilitas",labelIcon:null,suffix:null},{cols:[12,6,6,6],dataKey:"dusun_access_photo",dataType:"photo",label:"Foto Akses Dusun",labelIcon:null,suffix:null}]},{label:"PIC Dusun",labelIcon:"mdi-account-tag",items:[{cols:[12,12,6,6],dataKey:"pic_dusun",dataType:"text",label:"Nama",labelIcon:null,suffix:null},{cols:[12,12,6,6],dataKey:"position",dataType:"text",label:"Jabatan",labelIcon:null,suffix:null},{cols:[12,12,6,6],dataKey:"phone",dataType:"text",label:"No HP",labelIcon:"mdi-phone",suffix:null},{cols:[12,12,6,6],dataKey:"whatsapp",dataType:"text",label:"Whatsapp",labelIcon:"mdi-whatsapp",suffix:null}]},{label:"Data Populasi",labelIcon:"mdi-human-male-female-child",items:[{cols:[12,6,6,6],dataKey:"total_rw",dataType:"number",label:"Total RW",labelIcon:null,suffix:"RW"},{cols:[12,6,6,6],dataKey:"total_rt",dataType:"number",label:"Total RT",labelIcon:null,suffix:"RW"},{cols:[12,6,6,6],dataKey:"total_male",dataType:"number",label:"Total Laki - Laki",labelIcon:null,suffix:"orang"},{cols:[12,6,6,6],dataKey:"total_female",dataType:"number",label:"Total Perempuan",labelIcon:null,suffix:"orang"},{cols:[12,12,12,12],dataKey:"total_kk",dataType:"number",label:"Total Keluarga (KK)",labelIcon:null,suffix:"KK"},{cols:[12,6,6,6],dataKey:"total_farmer_family",dataType:"number",label:"Total Keluarga Petani (KK)",labelIcon:null,suffix:"KK"},{cols:[12,6,6,6],dataKey:"total_non_farmer_family",dataType:"number",label:"Total Keluarga Non-Petani (KK)",labelIcon:null,suffix:"KK"},{cols:[12,12,12,12],dataKey:"average_family_member",dataType:"number",label:"Rata - Rata Anggota Keluarga",labelIcon:null,suffix:"orang"},{cols:[12,6,6,6],dataKey:"average_farmer_family_member",dataType:"number",label:"Rata - Rata Anggota Keluarga Petani",labelIcon:null,suffix:"orang"},{cols:[12,6,6,6],dataKey:"average_non_farmer_family_member",dataType:"number",label:"Rata - Rata Anggota Keluarga Non-Petani",labelIcon:null,suffix:"orang"}]},{label:"Data Edukasi",labelIcon:"mdi-book-education",items:[{cols:[12,6,6,4],dataKey:"education_elementary_junior_hs",dataType:"number",label:"SD - SMP",labelIcon:"mdi-bus-school",suffix:"orang"},{cols:[12,6,6,4],dataKey:"education_senior_hs",dataType:"number",label:"SMA",labelIcon:"mdi-school",suffix:"orang"},{cols:[12,6,6,4],dataKey:"education_college",dataType:"number",label:"Kuliah",labelIcon:"mdi-account-school",suffix:"orang"}]},{label:"Produktifitas",labelIcon:"mdi-book-education",dataStatus:"data_productive_source",items:[{cols:[12,6,6,6],dataKey:"age_productive",dataType:"number",label:"Produktif",labelIcon:null,suffix:"orang"},{cols:[12,6,6,6],dataKey:"age_non_productive",dataType:"number",label:"Tidak Produktif",labelIcon:null,suffix:"orang"}]},{label:"Mata Pencaharian Masyarakat",labelIcon:"mdi-book-education",dataStatus:"data_job_source",items:[{cols:[12,6,6,4],dataKey:"job_farmer",dataType:"number",label:"Petani",labelIcon:null,suffix:"orang"},{cols:[12,6,6,4],dataKey:"job_farm_workers",dataType:"number",label:"Buruh Tani",labelIcon:null,suffix:"orang"},{cols:[12,6,6,4],dataKey:"job_private_employee",dataType:"number",label:"Karyawan Swasta",labelIcon:null,suffix:"orang"},{cols:[12,6,6,4],dataKey:"job_state_employee",dataType:"number",label:"ASN (Guru, TNI, Polri)",labelIcon:null,suffix:"orang"},{cols:[12,6,6,4],dataKey:"job_enterpreneur",dataType:"number",label:"Wiraswasta",labelIcon:null,suffix:"orang"},{cols:[12,6,6,4],dataKey:"job_others",dataType:"number",label:"Profesi Lain",labelIcon:null,suffix:"orang"}]}],hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama",value:"dusun_name"},{text:"Jumlah Keluarga (KK)",value:"total_kk"},{text:"Potensi",value:"potential",align:"center"},{text:"Detail",value:"data-table-expand"}]}}],PRA:[{label:"Kepemilikan Lahan",labelIcon:"mdi-account-tag",dataType:"table",dataKey:"LandOwnership",description:!0,descriptionKey:"land_ownership_description",table:{hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Kategori Kepemilikan",value:"type_ownership"},{text:"Presentase",value:"percentage"}]}},{label:"Penyebaran Lokasi Lahan Kering & Kritis",labelIcon:"mdi-land-fields",dataType:"table",dataKey:"DryLandSpread",description:!0,descriptionKey:"distribution_of_critical_land_locations_description",table:{hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama Dusun",value:"dusun_name"},{text:"Pola Pemanfaatan Lahan",value:"type_utilization"}]}},{label:"Sumber Air",labelIcon:"mdi-water-pump",dataType:"table",dataKey:"Watersource",description:!0,descriptionKey:"watersource_description",table:{caption:null,hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama",value:"watersource_name"},{text:"Jenis",value:"watersource_type"},{text:"Kondisi",value:"watersource_condition"},{text:"Pemanfaatan",value:"watersource_utilization"}]}},{label:"Pendapatan dan Pemasaran Komoditas (Ekonomi)",labelIcon:"mdi-hand-coin",dataType:"column",hide:!0,items:[{centered:!0,cols:[6,6,6,6],dataKey:"man_commodity_name",dataSource:null,dataType:"text",dense:!0,label:"Komoditas (Laki - Laki)",labelIcon:"",prefix:"",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"woman_commodity_name",dataSource:null,dataType:"text",dense:!0,label:"Komoditas (Perempuan)",labelIcon:"",prefix:"",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"man_period",dataSource:null,dataType:"text",dense:!0,label:"Rata - Rata Periode Pemasaran (Laki - Laki)",labelIcon:"",prefix:"",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"woman_period",dataSource:null,dataType:"text",dense:!0,label:"Rata - Rata Periode Pemasaran (Perempuan)",labelIcon:"",prefix:"",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"man_average_capacity",dataSource:null,dataType:"number",dense:!0,label:"Rata - Rata Kapasitas (Laki - Laki)",labelIcon:"",prefix:"",suffix:"kg"},{centered:!0,cols:[6,6,6,6],dataKey:"woman_average_capacity",dataSource:null,dataType:"number",dense:!0,label:"Rata - Rata Kapasitas (Perempuan)",labelIcon:"",prefix:"",suffix:"kg"},{centered:!0,cols:[6,6,6,6],dataKey:"man_method",dataSource:null,dataType:"text",dense:!0,label:"Metode Pemasaran (Laki - Laki)",labelIcon:"",prefix:"",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"woman_method",dataSource:null,dataType:"text",dense:!0,label:"Metode Pemasaran (Perempuan)",labelIcon:"",prefix:"",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"man_source",dataSource:null,dataType:"text",dense:!0,label:"Sumber (Laki - Laki)",labelIcon:"",prefix:"",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"woman_source",dataSource:null,dataType:"text",dense:!0,label:"Sumber (Perempuan)",labelIcon:"",prefix:"",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"man_min_income",dataSource:null,dataType:"number",dense:!0,label:"Pendapatan Terendah (Laki - Laki)",labelIcon:"",prefix:"Rp,",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"woman_min_income",dataSource:null,dataType:"number",dense:!0,label:"Pendapatan Terendah (Perempuan)",labelIcon:"",prefix:"Rp,",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"man_max_income",dataSource:null,dataType:"number",dense:!0,label:"Pendapatan Tertinggi (Laki - Laki)",labelIcon:"",prefix:"Rp,",suffix:""},{centered:!0,cols:[6,6,6,6],dataKey:"woman_max_income",dataSource:null,dataType:"number",dense:!0,label:"Pendapatan Tertinggi (Perempuan)",labelIcon:"",prefix:"Rp,",suffix:""}]},{label:"Pendapatan dan Pemasaran Komoditas (Ekonomi)",labelIcon:"",dataType:"table",dataKey:"FarmerIncome",description:!1,descriptionKey:"",hide:!0,table:{caption:"Sampling Data",hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama Narasumber",value:"name"},{text:"Gender",value:"gender"},{text:"Nama Komoditas",value:"commodity_name"},{text:"Kapasitas",value:"capacity"},{text:"Periode",value:"period"},{text:"Pendapatan (Perbulan)",value:"source_income"}]}},{label:"Hasil Ekonomi Pemanfaatan Lahan",labelIcon:"mdi-store",dataType:"column",description:!0,descriptionKey:"land_utilization_description",items:[{centered:!1,cols:[12,6,5,4],dataKey:"land_utilization_source",dataSource:null,dataType:"text",dense:!0,label:"Sumber",labelIcon:"",prefix:"",suffix:""},{centered:!1,cols:[12,6,7,8],dataKey:"land_utilization_plant_type",dataSource:null,dataType:"text",dense:!0,label:"Jenis Tanaman",labelIcon:"",prefix:"",suffix:""}]},{label:"Pupuk Dalam Pemanfaatan Lahan",labelIcon:"mdi-beer",dataType:"table",dataKey:"Fertilizer",description:!1,descriptionKey:"",table:{caption:null,hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama Pupuk",value:"fertilizer_name"},{text:"Kategori",value:"fertilizer_categories"},{text:"Jenis",value:"fertilizer_type"},{text:"Sumber",value:"fertilizer_source"},{text:"Deskripsi",value:"fertilizer_description"}]}},{label:"Pestisida Dalam Pemanfaatan Lahan",labelIcon:"mdi-weather-windy",dataType:"table",dataKey:"Pesticide",description:!1,descriptionKey:"",table:{caption:null,hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama Pestisida",value:"pesticide_name"},{text:"Kategori",value:"pesticide_categories"},{text:"Jenis",value:"pesticide_type"},{text:"Sumber",value:"pesticide_source"},{text:"Deskripsi",value:"pesticide_description"}]}},{label:"Bencana",labelIcon:"mdi-heart-broken",dataType:"table",dataKey:"DisasterHistory",description:!1,descriptionKey:"",table:{caption:null,hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama",value:"disaster_name"},{text:"Periode",value:"year"},{text:"Kategori",value:"disaster_categories"},{text:"Korban Jiwa",value:"fatalities"},{text:"Detail",value:"detail"}]}},{label:"Permasalahan Yang Ada",labelIcon:"mdi-book-alert",dataType:"table",dataKey:"ExistingProblem",description:!1,descriptionKey:"",table:{caption:null,expand:!0,expandItem:[{label:"",labelIcon:"",items:[{cols:[12,12,12,12],dataKey:"problem_solution",dataType:"text",label:"Saran Solusi",labelIcon:null,suffix:""}]}],hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama",value:"problem_name"},{text:"Kategori",value:"problem_categories"},{text:"Periode",value:"date_start"},{text:"Sumber",value:"problem_source"},{text:"Solusi",value:"data-table-expand"}]}},{label:"",labelIcon:"",dataType:"table",dataKey:"ExistingProblem",description:!1,descriptionKey:"",table:{caption:"Matrik Permasalahan",expand:!1,expandItem:[],hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama Masalah",value:"problem_name",align:"left"},{text:"Dirasakan Banyak Orang",value:"impact_to_people",align:"center"},{text:"Sering Terjadi",value:"interval_problem",align:"center"},{text:"Potensi",value:"potential",align:"center"},{text:"Prioritas",value:"priority",align:"center"},{text:"Total",value:"total_value",align:"center"},{text:"Rank",value:"ranking",align:"center"}]}}],"Flora & Fauna":[{label:"Data Flora Endemik",labelIcon:"mdi-flower",dataType:"table",dataSource:"PRA",dataKey:"Flora",table:{hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama",value:"flora_name",sortable:!1},{text:"Populasi",value:"flora_population",sortable:!1},{text:"Status",value:"flora_status",sortable:!1},{text:"Kategori",value:"flora_categories",sortable:!1},{text:"Sumber Air",value:"flora_foodsource",sortable:!1},{text:"Lokasi Habitat",value:"flora_habitat",sortable:!1}]}},{label:"Data Fauna Endemik",labelIcon:"mdi-bird",dataType:"table",dataSource:"PRA",dataKey:"Fauna",table:{hideDefaultFooter:!0,itemsPerPage:-1,headers:[{text:"No",value:"index",width:70,sortable:!1},{text:"Nama",value:"fauna_name",sortable:!1},{text:"Populasi",value:"fauna_population",sortable:!1},{text:"Status",value:"fauna_status",sortable:!1},{text:"Kategori",value:"fauna_categories",sortable:!1},{text:"Sumber Makan",value:"fauna_foodsource",sortable:!1},{text:"Lokasi Habitat",value:"fauna_habitat",sortable:!1}]}}]},verified_data:"document_saving",loading:{show:!1,text:"Loading..."},localConfig:{windowWidth:window.innerWidth,breakLayoutFrom:1140,maxSubDataTotal:5,requiredInputIcon:"mdi-star"},lottie:{data:{loading:p}},raw_data:{},stepper:{model:1,steps:["RRA","PRA","Flora & Fauna"],steps_icon:["home-group","home-analytics","cat"]}}),computed:{showModal:{get:function(){return this.show&&this.id&&this.getData(this.id),this.show},set:function(e){e||this.$emit("action",{type:"close",name:"detail"})}},verificationAccess(){const e=this.$store.state.User,a=e.role_group,t=e.role_name;return"IT"==a||"SOCIAL OFFICER"==t}},watch:{"stepper.model":{handler(e){}}},methods:{confirmVerification(e){const a="verify"==e?"VerificationRraPra":"UnverificationRraPra";u.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2e7d32",cancelButtonColor:"#d33",cancelButtonText:"Tidak Jadi",confirmButtonText:"Ya, Lanjutkan!"}).then(t=>{t.isConfirmed&&(this.loading.show=!0,this.loading.text=("verify"==e?"Verifying":"Unverifying")+" data...",r.a.post(this.$store.getters.getApiUrl(a),{form_no:this.id,verified_by:this.$store.state.User.email},this.$store.state.apiConfig).then(a=>{u.a.fire({title:"Verified!",text:`Scooping data #${this.id} has been verified.`,icon:"success",confirmButtonColor:"#2e7d32"}),this.getData(this.id),this.$emit("swal",{type:"success",message:`Data ${"verify"==e?"Verified":"Unverified"}!`})}).catch(e=>{this.errorResponse(e),u.a.fire({title:"Failed!",text:"Failed to proceed.",icon:"error",confirmButtonColor:"#f44336"})}).finally(()=>{this.loading.show=!1,this.loading.text="Loading..."}))})},async errorResponse(e){if(console.log(e),e.response&&e.response.status){if(401==e.response.status){const e=await u.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});e&&(localStorage.removeItem("token"),this.$router.push("/"))}if(500===e.response.status||400===e.response.status){let a=e.response.data.message;a&&a.includes("Duplicate entry")&&(a="Data sudah ada!"),u.a.fire({title:"Error!",text:""+(a||e.message),icon:"error",confirmButtonColor:"#f44336"})}}},exportReport(){let e="",a="Report ";if(1==this.stepper.model&&(e="RRA"),2==this.stepper.model&&(e="PRA"),3==this.stepper.model&&(e="Flora Fauna Endemik"),e){a+=e;const l=document.getElementById("containerForExport-RRAPRA");var t=`\n                <html xmlns:o='urn:schemas-microsoft-com:office:office xmlns:w='urn:schemas-microsoft-com:office:word' xmlns='http://www.w3.org/TR/REC-html40'>\n                    <head>\n                        <meta charset='utf-8'>\n                        <title>Export HTML to Word Document with JavaScript</title>\n                    </head>\n                    <body>\n                        ${l.innerHTML}\n                    </body>\n                </html>`;console.log(l.innerHTML);var s="data:application/vnd.ms-word;charset=utf-8,"+encodeURIComponent(t),i=document.createElement("a");document.body.appendChild(i),i.href=s,i.download=a+".doc",i.click(),document.body.removeChild(i)}},async getData(e){try{this.loading.show=!0,this.loading.text=`Getting Form "${e}" data...`;const a=await r.a.get(this.$store.getters.getApiUrl("GetDetailRraPra?form_no="+e),this.$store.state.apiConfig);let t=a.data.data.result;t.Scooping&&(t.Scooping.city_name=this._utils.capitalizeLetter(t.Scooping.city_name),t.Scooping.district_name=this._utils.capitalizeLetter(t.Scooping.district_name),t.Scooping.village_name=this._utils.capitalizeLetter(t.Scooping.village_name)),t.RRA&&(t.RRA.VillageBorder=t.RRA.VillageBorder.map(e=>({...e,city_name:this._utils.capitalizeLetter(e.city_name),district_name:this._utils.capitalizeLetter(e.district_name),village_name:this._utils.capitalizeLetter(e.village_name)})),t.RRA.LandUse=t.RRA.LandUse.map(e=>({...e,pattern:this.getTextFromOptions(e.pattern,"agroforestry_type")})),t.RRA.ProductionMarketing=t.RRA.ProductionMarketing.map(e=>({...e,method:this.getTextFromOptions(e.method,"marketing_trade_method_complete"),period:this.getTextFromOptions(e.period,"marketing_period")})),t.RRA.Dusun=t.RRA.Dusun.map(e=>({...e,accessibility:this.getTextFromOptions(e.accessibility,"accessibility"),data_land_area_source:this.getTextFromOptions(e.data_land_area_source,"sumber"),data_dry_land_area_source:this.getTextFromOptions(e.data_dry_land_area_source,"sumber"),data_productive_source:this.getTextFromOptions(e.data_productive_source,"sumber"),data_job_source:this.getTextFromOptions(e.data_job_source,"sumber")}))),t.PRA&&(t.PRA.LandOwnership=t.PRA.LandOwnership.map(e=>({...e,type_ownership:this.getTextFromOptions(e.type_ownership,"farmer_type_ownership"),land_ownership:this.getTextFromOptions(e.land_ownership,"land_ownership_type")})),t.PRA.DryLandSpread=t.PRA.DryLandSpread.map(e=>({...e,type_utilization:this.getTextFromOptions(e.type_utilization,"agroforestry_type")})),t.PRA.Watersource=t.PRA.Watersource.map(e=>({...e,watersource_type:this.getTextFromOptions(e.watersource_type,"water_source")})),t.PRA.collection_type&&(this.groupingData.PRA[3].hide="Bukan Sampling"!=t.PRA.collection_type,this.groupingData.PRA[4].hide="Sampling"!=t.PRA.collection_type),t.PRA.FarmerIncome=t.PRA.FarmerIncome.map(e=>({...e,period:this.getTextFromOptions(e.period,"marketing_period")})),t.PRA.Fertilizer=t.PRA.Fertilizer.map(e=>({...e,fertilizer_categories:this.getTextFromOptions(e.fertilizer_categories,"fertilizer_categories"),fertilizer_type:this.getTextFromOptions(e.fertilizer_type,"fertilizer_types"),fertilizer_source:this.getTextFromOptions(e.fertilizer_source,"fertilizer_sources")})),t.PRA.Pesticide=t.PRA.Pesticide.map(e=>({...e,pesticide_categories:this.getTextFromOptions(e.pesticide_categories,"pesticide_categories"),pesticide_type:this.getTextFromOptions(e.pesticide_type,"pesticide_types"),pesticide_source:this.getTextFromOptions(e.pesticide_source,"pesticide_sources")})),t.PRA.DisasterHistory=t.PRA.DisasterHistory.map(e=>({...e,disaster_categories:this.getTextFromOptions(e.disaster_categories,"disaster_categories")})),t.PRA.ExistingProblem=t.PRA.ExistingProblem.map(e=>({...e,problem_categories:this.getTextFromOptions(e.problem_categories,"problem_categories")})).sort((e,a)=>e.ranking-a.ranking),t.PRA.Flora=t.PRA.Flora.map(e=>({...e,flora_status:this.getTextFromOptions(e.flora_status,"flora_fauna_status"),flora_foodsource:this.getTextFromOptions(e.flora_foodsource,"water_source")})),t.PRA.Fauna=t.PRA.Fauna.map(e=>({...e,fauna_status:this.getTextFromOptions(e.fauna_status,"flora_fauna_status"),fauna_foodsource:this.getTextFromOptions(e.fauna_foodsource,"fauna_food_source")}))),this.datas=t,this.raw_data=t,this.stepper.model=1,this.verified_data=this.datas.RRA.status}catch(a){this.errorResponse(a),this.$emit("action",{type:"close",name:"detail"})}finally{this.loading.show=!1}},getIntervalDay(e,a){const t=n()(e),s=n()(a),i=n.a.duration(s.diff(t)),l=i.asDays();return l},getStatusColumn(e,a){if("bg_color"==e){if("document_saving"==a)return"yellow darken-1";if("ready_to_submit"==a)return"orange";if("submit_review"==a)return"green darken-1"}if("icon"==e){if("document_saving"==a)return"mdi-content-save";if("ready_to_submit"==a)return"mdi-content-save-check";if("submit_review"==a)return"mdi-check-circle"}if("text"==e){if("document_saving"==a)return"Disimpan";if("ready_to_submit"==a)return"Menunggu Verifikasi";if("submit_review"==a)return"Terverifikasi"}return""},getTextFromOptions(e,a){if(e){if("sumber"==a){if("truth"==e)return"Data Asli";if("estimation"==e)return"Perkiraan"}const t=this.formOptions[a];if(t){const a=t.find(a=>a.value===e);if(a)return a.text}}return e},indonesianify(e){return"north"===e?"Utara":"east"===e?"Timur":"south"===e?"Selatan":"west"===e?"Barat":"??"},onResize(){this.localConfig.windowWidth=window.innerWidth},setUrlFileImage(e){return this.$store.state.apiUrlImage+e},showLightbox(e,a){e&&(this.$store.state.lightbox.imgs=e),this.$store.state.lightbox.index=a||0,this.$store.state.lightbox.show=!0},whatsappPhone(e){return e.replace(/^0/,"62")}},mounted(){this.$nextTick(()=>{window.addEventListener("resize",this.onResize)})}},f=b,x=t("2877"),h=t("6544"),v=t.n(h),g=t("8336"),y=t("b0af"),w=t("99d9"),k=t("cc20"),P=t("62ad"),T=t("8fea"),C=t("169a"),K=t("ce7e"),S=t("132d"),R=t("adda"),I=t("a797"),D=t("490a"),A=t("0fd9"),F=t("7e85"),L=t("e516"),M=t("9c54"),z=t("56a4"),O=t("3a2f"),N=Object(x["a"])(f,s,i,!1,null,null,null);a["default"]=N.exports;v()(N,{VBtn:g["a"],VCard:y["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VChip:k["a"],VCol:P["a"],VDataTable:T["a"],VDialog:C["a"],VDivider:K["a"],VIcon:S["a"],VImg:R["a"],VOverlay:I["a"],VProgressCircular:D["a"],VRow:A["a"],VStepper:F["a"],VStepperContent:L["a"],VStepperHeader:M["a"],VStepperItems:M["b"],VStepperStep:z["a"],VTooltip:O["a"]})},f408:function(e,a,t){"use strict";t.r(a);var s=function(){var e=this,a=e._self._c;return a("div",[a("v-breadcrumbs",{staticClass:"breadcrumbsmain",attrs:{dark:"dark"==e.$store.state.theme,"data-aos":"fade-right",items:e.breadcrumbs,divider:">",large:""}}),a("FormModal",{key:e.modals.form.key,attrs:{show:e.modals.form.show,id:e.modals.form.data,programYear:e.localConfig.programYear},on:{action:a=>e.modalActions(a),swal:a=>e.swalActions(a)}}),a("DetailModal",{key:e.modals.detail.key,attrs:{show:e.modals.detail.show,id:e.modals.detail.data,programYear:e.localConfig.programYear},on:{action:a=>e.modalActions(a),swal:a=>e.swalActions(a)}}),a("v-data-table",{class:(e.$store.state.theme,"")+" rounded-xl elevation-6 mx-3 pa-1",attrs:{"data-aos":"fade-up","data-aos-delay":"200","multi-sort":"",headers:e.table.headers,items:e.table.items,search:e.table.search,loading:e.table.loading.show,"loading-text":e.table.loading.text,"footer-props":{itemsPerPageText:"Jumlah Data Per Halaman",itemsPerPageOptions:[10,25,40,-1],showCurrentPage:!0,showFirstLastPage:!0}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-row",{staticClass:"my-2 mx-2 mx-lg-3 align-center"},[a("v-text-field",{staticClass:"mx-auto mb-2 mb-lg-0",attrs:{color:"green","hide-details":"",dense:"",outlined:"",rounded:"",label:"Pencarian",placeholder:"Start type to search...","append-icon":"mdi-magnify"},model:{value:e.table.search,callback:function(a){e.$set(e.table,"search",a)},expression:"table.search"}}),a("v-divider",{staticClass:"mx-2 d-none d-lg-block"}),a("div",{staticClass:"mx-auto"},[a("v-btn",{staticClass:"mr-2",attrs:{color:"green white--text",disabled:e.table.loading.show||0==e.table.items.length||!0,rounded:""},on:{click:()=>e.exportExcel()}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-microsoft-excel")]),e._v(" Export ")],1),a("v-btn",{staticClass:"pl-2",attrs:{color:"info",rounded:""},on:{click:()=>{e.modals.form.show=!0,e.modals.form.key+=1}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-plus-circle")]),e._v(" Tambah ")],1)],1)],1)]},proxy:!0},{key:"item.no",fn:function({index:a}){return[e._v(" "+e._s(a+1)+" ")]}},{key:"item.rra_pra_date_start",fn:function({item:t}){return[e._v(" "+e._s(e._utils.dateFormat(t.rra_pra_date_start,"DD MMMM Y"))+" "),t.rra_pra_date_start!=t.rra_pra_date_end?a("span",[e._v(" ~ "+e._s(e._utils.dateFormat(t.rra_pra_date_end,"DD MMMM Y"))+" ")]):e._e()]}},{key:"item.status",fn:function({item:t}){return[a("v-chip",{staticClass:"white--text",attrs:{color:e.getStatusColumn("bg_color",t.status)}},[a("v-icon",{staticClass:"mr-1"},[e._v(e._s(e.getStatusColumn("icon",t.status)))]),e._v(" "+e._s(e.getStatusColumn("text",t.status))+" ")],1)]}},{key:"item.actions",fn:function({item:t}){return[a("v-menu",{attrs:{"content-class":"rounded-xl"},scopedSlots:e._u([{key:"activator",fn:function({attrs:t,on:s}){return[a("v-btn",e._g(e._b({attrs:{small:"",fab:"",icon:""}},"v-btn",t,!1),s),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("v-card",{staticClass:"pa-2 d-flex align-stretch flex-column justify-center"},[a("v-btn",{staticClass:"pl-1 d-flex justify-start align-center",attrs:{color:"info white--text",rounded:"",small:""},on:{click:()=>e.showModal("detail",t)}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-information")]),e._v(" Detail ")],1),a("v-btn",{staticClass:"pl-1 mt-1 d-flex justify-start align-center",attrs:{color:"orange white--text",rounded:"",small:"",disabled:1===t.is_verify},on:{click:()=>{e.showModal("form",t)}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-pencil-circle")]),e._v(" Edit ")],1)],1)],1)]}}])})],1)},i=[],l=t("bc3a"),r=t.n(l),o=t("3d20"),n=t.n(o),d=t("22ae"),c=t("be2e"),u={components:{FormModal:d["default"],DetailModal:c["default"]},data:()=>({breadcrumbs:[{text:"Main Data",disabled:!0,href:"breadcrumbs_dashboard"},{text:"RRA & PRA",disabled:!0,href:"breadcrumbs_link_1"}],modals:{detail:{show:!1,data:null,key:8990458},form:{id:null,show:!1,data:null,key:7892345}},localConfig:{programYear:""},table:{headers:[{text:"No",value:"no"},{text:"Form No",value:"form_no"},{text:"Desa",value:"village_name"},{text:"Tanggal",value:"rra_pra_date_start"},{text:"PIC",value:"pic_name"},{text:"PIC Manager",value:"pic_manager"},{text:"Status",value:"status",align:"center"},{text:"Actions",value:"actions",align:"right"}],items:[],loading:{show:!1,text:"Loading..."},search:""},user:""}),mounted(){this.firstAccessPage()},methods:{async errorResponse(e){if(console.log(e),e.response&&e.response.status&&401==e.response.status){const e=await n.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});e&&(localStorage.removeItem("token"),this.$router.push("/"))}},async firstAccessPage(){this.user=this.$store.state.User,this.localConfig.programYear=this.$store.state.programYear.model,await this.getTableData()},getStatusColumn(e,a){if("bg_color"==e){if("document_saving"==a)return"blue";if("ready_to_submit"==a)return"orange";if("submit_review"==a)return"green darken-1"}if("icon"==e){if("document_saving"==a)return"mdi-content-save";if("ready_to_submit"==a)return"mdi-content-save-check";if("submit_review"==a)return"mdi-check-circle"}if("text"==e){if("document_saving"==a)return"Disimpan";if("ready_to_submit"==a)return"Menunggu Verifikasi";if("submit_review"==a)return"Terverifikasi"}return""},async getTableData(){try{this.table.loading.show=!0,this.table.loading.text="Mem-filter data..";const e=this.$store.state.User,a=[];if(["UNIT MANAGER","FIELD COORDINATOR"].includes(e.role_name)&&(a.push(e.email),"UNIT MANAGER"==e.role_name)){const t=await r.a.get(this.$store.getters.getApiUrl("GetEmployeebyManager?position_no=19&manager_code="+e.employee_no),this.$store.state.apiConfig);t.data.data.result.data.map(e=>{a.push(e.email)})}let t=this.$store.getters.getApiUrl("GetScoopingAll?user_id="+a.toString());t=await r.a.get(t,this.$store.state.apiConfig);const s=t.data.data.result.map(e=>e.data_no);this.table.loading.text="Mengambil data RRA PRA..";let i=this.$store.getters.getApiUrl("GetRraPraAll");const l=await r.a.get(i,this.$store.state.apiConfig);this.table.items=l.data.data.result.filter(e=>s.includes(e.form_no))}catch(e){this.table.items=[],this.errorResponse(e)}finally{this.table.loading.show=!1}},modalActions(e){"close"==e.type&&(this.modals[e.name].show=!1,this.modals[e.name].data=null)},async showModal(e,a){this.modals[e].data=await a.form_no,this.modals[e].show=await!0},swalActions(e){this.getTableData();const a=n.a.mixin({toast:!0,position:"top-end",showCloseButton:!0,showConfirmButton:!1,timer:1e4,timerProgressBar:!0,didOpen:e=>{e.addEventListener("mouseenter",n.a.stopTimer),e.addEventListener("mouseleave",n.a.resumeTimer)}});a.fire({icon:e.type,title:e.message})}}},m=u,p=t("2877"),_=t("6544"),b=t.n(_),f=t("2bc5"),x=t("8336"),h=t("b0af"),v=t("cc20"),g=t("8fea"),y=t("ce7e"),w=t("132d"),k=t("e449"),P=t("0fd9"),T=t("8654"),C=Object(p["a"])(m,s,i,!1,null,null,null);a["default"]=C.exports;b()(C,{VBreadcrumbs:f["a"],VBtn:x["a"],VCard:h["a"],VChip:v["a"],VDataTable:g["a"],VDivider:y["a"],VIcon:w["a"],VMenu:k["a"],VRow:P["a"],VTextField:T["a"]})}}]);
//# sourceMappingURL=chunk-45b59d48.6dc63919.js.map
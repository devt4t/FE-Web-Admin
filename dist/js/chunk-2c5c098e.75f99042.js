(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c5c098e"],{"2bc5":function(e,t,a){"use strict";var r=a("5530"),s=(a("a15b"),a("abd3"),a("ade3")),n=a("1c87"),o=a("58df"),i=Object(o["a"])(n["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes:function(){return Object(s["a"])({"v-breadcrumbs__item":!0},this.activeClass,this.disabled)}},render:function(e){var t=this.generateRouteLink(),a=t.tag,s=t.data;return e("li",[e(a,Object(r["a"])(Object(r["a"])({},s),{},{attrs:Object(r["a"])(Object(r["a"])({},s.attrs),{},{"aria-current":this.isActive&&this.isLink?"page":void 0})}),this.$slots.default)])}}),l=a("80d2"),c=Object(l["i"])("v-breadcrumbs__divider","li"),d=a("7560");t["a"]=Object(o["a"])(d["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:function(){return[]}},large:Boolean},computed:{classes:function(){return Object(r["a"])({"v-breadcrumbs--large":this.large},this.themeClasses)}},methods:{genDivider:function(){return this.$createElement(c,this.$slots.divider?this.$slots.divider:this.divider)},genItems:function(){for(var e=[],t=!!this.$scopedSlots.item,a=[],r=0;r<this.items.length;r++){var s=this.items[r];a.push(s.text),t?e.push(this.$scopedSlots.item({item:s})):e.push(this.$createElement(i,{key:a.join("."),props:s},[s.text])),r<this.items.length-1&&e.push(this.genDivider())}return e}},render:function(e){var t=this.$slots.default||this.genItems();return e("ul",{staticClass:"v-breadcrumbs",class:this.classes},t)}})},abd3:function(e,t,a){},c48e:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-breadcrumbs",{staticClass:"breadcrumbsmain",attrs:{dark:"dark"==e.$store.state.theme,"data-aos":"fade-right",items:e.breadcrumbs,divider:">",large:""}}),a("FormModal",{key:e.modals.form.key,attrs:{show:e.modals.form.show,status:e.modals.form.status,id:e.modals.form.id,form_no:e.modals.form.form_no,programYear:e.localConfig.programYear},on:{action:function(t){return e.modalActions(t)},swal:function(t){return e.swalActions(t)}}}),a("DetailModal",{key:e.modals.detail.key,attrs:{show:e.modals.detail.show,id:e.modals.detail.data,form_no:e.modals.detail.form_no,programYear:e.localConfig.programYear},on:{action:function(t){return e.modalActions(t)},swal:function(t){return e.swalActions(t)}}}),a("v-data-table",{class:(e.$store.state.theme," rounded-xl elevation-6 mx-3 pa-1"),attrs:{"data-aos":"fade-up","data-aos-delay":"200","multi-sort":"",headers:e.table.headers,items:e.table.items,search:e.table.search,loading:e.table.loading.show,"loading-text":e.table.loading.text,"footer-props":{itemsPerPageText:"Jumlah Data Per Halaman",itemsPerPageOptions:[10,25,40,-1],showCurrentPage:!0,showFirstLastPage:!0}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-row",{staticClass:"my-2 mx-2 mx-lg-3 align-center"},[a("v-select",{staticClass:"mx-auto mr-lg-2 mb-2 mb-lg-0",staticStyle:{"max-width":"200px"},attrs:{color:"success","item-color":"success",items:e.$store.state.programYear.options,disabled:e.table.loading.show,outlined:"",dense:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Tahun Program"},model:{value:e.localConfig.programYear,callback:function(t){e.$set(e.localConfig,"programYear",t)},expression:"localConfig.programYear"}}),a("v-text-field",{staticClass:"mx-auto mb-2 mb-lg-0",attrs:{color:"green","hide-details":"",dense:"",outlined:"",rounded:"",label:"Pencarian",placeholder:"Start type to search...","append-icon":"mdi-magnify"},model:{value:e.table.search,callback:function(t){e.$set(e.table,"search",t)},expression:"table.search"}}),a("v-divider",{staticClass:"mx-2 d-none d-lg-block"}),a("div",{staticClass:"mx-auto"},[a("v-btn",{staticClass:"mr-2",attrs:{color:"green white--text",disabled:e.table.loading.show||0==e.table.items.length,rounded:""},on:{click:function(){return e.exportExcel()}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-microsoft-excel")]),e._v(" Export ")],1),a("v-btn",{staticClass:"pl-2",attrs:{color:"info",rounded:""},on:{click:function(){e.modals.form.show=!0,e.modals.form.key+=1,e.modals.form.status="add"}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-plus-circle")]),e._v(" Tambah Data ")],1)],1)],1)]},proxy:!0},{key:"item.no",fn:function(t){var a=t.index;return[e._v(" "+e._s(a+1)+" ")]}},{key:"item.total_farmer",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.total_farmer)+" Peserta ")]}},{key:"item.is_verified",fn:function(t){var r=t.item;return[1==r.is_verified?a("v-chip",{staticClass:"font-weight-bold",attrs:{color:"success","text-color":"white",small:""}},[e._v(" Terverifikasi ")]):a("v-chip",{staticClass:"font-weight-bold",attrs:{color:"error","text-color":"white",small:""}},[e._v(" Belum Terverifikasi ")])]}},{key:"item.actions",fn:function(t){var r=t.item;return[a("v-menu",{attrs:{"content-class":"rounded-xl"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.attrs,s=t.on;return[a("v-btn",e._g(e._b({attrs:{small:"",fab:"",icon:""}},"v-btn",r,!1),s),[a("v-icon",[e._v("mdi-dots-vertical")])],1)]}}],null,!0)},[a("v-card",{staticClass:"pa-2 d-flex align-stretch flex-column justify-center"},[a("v-btn",{staticClass:"pl-1 d-flex justify-start align-center",attrs:{color:"info white--text",rounded:"",small:""},on:{click:function(){return e.showModal("detail",r)}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-information")]),e._v(" Detail ")],1),a("v-btn",{staticClass:"pl-1 mt-1 d-flex justify-start align-center",attrs:{color:"orange white--text",rounded:"",small:"",disabled:1===r.is_verified},on:{click:function(){e.showModal("form",r)}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-pencil-circle")]),e._v(" Edit ")],1)],1)],1)]}}])})],1)},s=[],n=a("1da1"),o=(a("96cf"),a("caad"),a("2532"),a("d81d"),a("99af"),a("d3b7"),a("25f0"),a("b0c0"),a("bc3a")),i=a.n(o),l=a("3d20"),c=a.n(l),d=a("e868"),u=a("f9e9"),m={components:{FormModal:d["default"],DetailModal:u["default"]},data:function(){return{breadcrumbs:[{text:"Activities",disabled:!0,href:"breadcrumbs_dashboard"},{text:"Sosialisasi Program",disabled:!0,href:"breadcrumbs_link_1"}],localConfig:{programYear:""},modals:{detail:{show:!1,data:null,key:65324312,form_no:null},form:{status:"add",show:!1,data:null,key:29291,form_no:null,id:null}},table:{headers:[{text:"No",value:"no"},{text:"Form No",value:"form_no"},{text:"Tanggal",value:"form_date"},{text:"Desa",value:"namaDesa"},{text:"Total Peserta",value:"total_farmer"},{text:"PIC",value:"pic_name"},{text:"PIC Manager",value:"pic_manager"},{text:"Status Verifikasi",value:"is_verified",align:"center"},{text:"Actions",value:"actions",align:"right"}],items:[],loading:{show:!1,text:"Loading..."},search:""},user:""}},watch:{"localConfig.programYear":{handler:function(){this.getTableData()}}},mounted:function(){this.firstAccessPage()},methods:{errorResponse:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(e),!e.response){a.next=9;break}if(!e.response.status){a.next=9;break}if(401!=e.response.status){a.next=8;break}return a.next=6,c.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});case 6:r=a.sent,r&&(localStorage.removeItem("token"),t.$router.push("/"));case 8:500!==e.response.status&&400!==e.response.status||(s=e.response.data.message,s&&s.includes("Duplicate entry")&&(s="Data sudah ada!"),c.a.fire({title:"Error!",text:"".concat(s||e.message),icon:"error",confirmButtonColor:"#f44336"}));case 9:case"end":return a.stop()}}),a)})))()},firstAccessPage:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.user=e.$store.state.User,e.localConfig.programYear=e.$store.state.programYear.model,t.next=4,e.getTableData();case 4:case"end":return t.stop()}}),t)})))()},getTableData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.table.loading.show=!0,a=e.$store.state.User,r=[],!["UNIT MANAGER","FIELD COORDINATOR"].includes(a.role_name)){t.next=11;break}if(r.push(a.email),"UNIT MANAGER"!=a.role_name){t.next=11;break}return t.next=9,i.a.get(e.$store.getters.getApiUrl("GetEmployeebyManager?position_no=19&manager_code=".concat(a.employee_no)),e.$store.state.apiConfig);case 9:s=t.sent,s.data.data.result.data.map((function(e){r.push(e.email)}));case 11:return n=e.$store.getters.getApiUrl("GetFormMinatAll?program_year=".concat(e.localConfig.programYear,"&user_id=").concat(r.toString())),t.next=14,i.a.get(n,e.$store.state.apiConfig);case 14:o=t.sent,e.table.items=o.data.data.result.data,t.next=22;break;case 18:t.prev=18,t.t0=t["catch"](0),e.table.items=[],e.errorResponse(t.t0);case 22:return t.prev=22,e.table.loading.show=!1,t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[0,18,22,25]])})))()},modalActions:function(e){"close"==e.type&&(this.modals[e.name].show=!1)},showModal:function(e,t){var a=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.form_no;case 2:return a.modals[e].form_no=r.sent,a.modals[e].status="edit",r.next=6,t;case 6:return a.modals[e].dataForm=r.sent,r.next=9,!0;case 9:a.modals[e].show=r.sent;case 10:case"end":return r.stop()}}),r)})))()},swalActions:function(e){this.getTableData();var t=c.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,showCloseButton:!0,timer:1e4,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",c.a.stopTimer),e.addEventListener("mouseleave",c.a.resumeTimer)}});t.fire({icon:e.type,title:e.message})}}},f=m,h=a("2877"),p=a("6544"),g=a.n(p),b=a("2bc5"),v=a("8336"),x=a("b0af"),w=a("cc20"),_=a("8fea"),k=a("ce7e"),C=a("132d"),y=a("e449"),$=a("0fd9"),O=a("b974"),A=a("8654"),j=Object(h["a"])(f,r,s,!1,null,null,null);t["default"]=j.exports;g()(j,{VBreadcrumbs:b["a"],VBtn:v["a"],VCard:x["a"],VChip:w["a"],VDataTable:_["a"],VDivider:k["a"],VIcon:C["a"],VMenu:y["a"],VRow:$["a"],VSelect:O["a"],VTextField:A["a"]})}}]);
//# sourceMappingURL=chunk-2c5c098e.75f99042.js.map
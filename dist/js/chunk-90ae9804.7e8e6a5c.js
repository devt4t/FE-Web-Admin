(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-90ae9804","chunk-2d0b8b2d"],{3093:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("v-dialog",{attrs:{scrollable:"","max-width":"2500px",transition:"dialog-transition","content-class":"rounded-xl"},model:{value:t.showModal,callback:function(a){t.showModal=a},expression:"showModal"}},[a("v-card",[t.data?a("v-card-title",{staticClass:"rounded-xl green darken-3 ma-1 pa-2 white--text"},[a("v-icon",{staticClass:"mx-2",attrs:{color:"white"}},[t._v("mdi-account-details")]),t._v(" List Petani & Lahan FF "),a("v-icon",{staticClass:"ml-auto",attrs:{color:"white"},on:{click:function(a){t.showModal=!1}}},[t._v("mdi-close-circle")])],1):t._e(),a("v-card-text",[a("v-row",{staticClass:"align-center ma-0 my-2"},[t._v(" FF: "+t._s(t.data&&t.data.ffName||"-")+" "),a("v-divider",{staticClass:"mx-2"}),a("v-select",{staticClass:"mt-2 mr-1",staticStyle:{"max-width":"175px"},attrs:{dense:"",color:"success","item-color":"success","menu-props":{rounded:"xl",offsetY:!0,transition:"slide-y-transition"},"hide-details":"",rounded:"",disabled:t.table.loading.show,items:t.$store.state.programYear.options,label:"Program Year",rules:[t=>!!t||"Field is required"],outlined:""},model:{value:t.options.programYear,callback:function(a){t.$set(t.options,"programYear",a)},expression:"options.programYear"}})],1),a("table",{staticStyle:{border:"2px solid black","border-collapse":"collapse",display:"none"},attrs:{id:"tableForExportLahanPetaniDashboard",border:"1"}},[a("tr",[a("th",{staticStyle:{"text-align":"center","font-size":"15px"},attrs:{colspan:t.table.headers.length,align:"center"}},[t._v("Tahun Program: "+t._s(t.options.programYear))])]),a("tr",[a("th",{staticStyle:{"text-align":"center","font-size":"20px"},attrs:{colspan:t.table.headers.length,align:"center"}},[a("h2",[t._v(" Data Petani & Lahan FF "+t._s(t.data&&t.data.ffName||"-")+" ")])])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:t.table.headers.length}},[a("small",[t._v(" Export Time: "+t._s(Date())+" ")])])]),a("tr",[a("td",{attrs:{colspan:t.table.headers.length}})]),a("tr",t._l(t.table.headers,(function(e){return a("th",{key:"tableForExportLahanPetaniDashboard"+e.value,staticClass:"green darken-2 white--text"},[t._v(" "+t._s(e.text)+" "),"land_area"==e.value?a("div",[t._v("(m"),a("sup",[t._v("2")]),t._v(")")]):t._e(),"tutupan_lahan"==e.value?a("div",[t._v("(%)")]):t._e()])})),0),t._l(t.tableItemsData,(function(e,s){return a("tr",{key:"itemtableForExportLahanPetaniDashboard"+s,class:(s%2==0?"white":"grey")+" lighten-4"},t._l(t.table.headers,(function(i,o){return a("td",{key:"tableItemForExportLahanPetaniDashboard"+i.value,class:("farmer_status"==i.value?0==e[i.value]||1==e[i.value]?1==e[i.value]?"green":"orange":"red":"lahan_approve"==i.value?0==e.lahan_complete||e.jenis_bibit&&0==e.jenis_bibit.length?"red":0==e[i.value]||1==e[i.value]?1==e[i.value]?"green":"orange":"red":"")+" lighten-3"},["index"==i.value?a("span",[t._v(" "+t._s(s+1)+" ")]):"farmer_status"==i.value?a("span",[t._v(" "+t._s(0==e[i.value]||1==e[i.value]?1==e[i.value]?"Terverifikasi":"Belum Verifikasi":"Belum Ada Data")+" ")]):"lahan_approve"==i.value?a("span",[0==e.lahan_complete||e.jenis_bibit&&0==e.jenis_bibit.length?a("span",[t._v(" Belum Lengkap ")]):a("span",[t._v(" "+t._s(0==e[i.value]||1==e[i.value]?1==e[i.value]?"Terverifikasi":"Belum Verifikasi":"Belum Ada Data")+" ")])]):"jenis_bibit"==i.value?a("span",[t._v(" "+t._s(e[i.value]?e[i.value].toString():"")+" ")]):a("span",[t._v(" "+t._s(e[i.value])+" ")])])})),0)}))],2),t.tableItems?a("v-data-table",{staticClass:"elevation-1 rounded-xl",staticStyle:{position:"relative"},attrs:{headers:t.table.headers,items:t.tableItemsData,loading:t.table.loading.show,search:t.table.loading.search,"hide-default-footer":"","items-per-page":-1},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-overlay",{attrs:{absolute:"",color:"white",value:t.table.loading.show}},[a("div",{staticClass:"d-flex flex-column justify-center align-center"},[a("v-progress-circular",{attrs:{size:80,width:10,indeterminate:"",color:"green"}}),a("p",{staticClass:"mt-2 mb-0 green--text text--darken-2"},[t._v(t._s(t.table.loading.text))])],1)])]},proxy:!0},{key:"header.farmer_status",fn:function(){return[t._v(" Status Petani "),a("v-menu",{attrs:{rounded:"xl",bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1,"content-class":"rounded-xl"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:s}){return[a("v-btn",t._g(t._b({staticClass:"ml-1",attrs:{disabled:t.table.loading.show,fab:"",color:"orange white--text","x-small":""}},"v-btn",s,!1),e),[a("v-icon",[t._v("mdi-filter")])],1)]}}],null,!1,4262258230)},[a("v-card",{staticClass:"pa-2"},[a("v-card-text",{staticClass:"pa-0"},[a("v-select",{attrs:{color:"success","item-color":"success",items:["Semua","Belum Verifikasi","Terverifikasi"],disabled:t.table.loading.show,outlined:"",dense:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Filter Status"},model:{value:t.table.filters.farmer_status,callback:function(a){t.$set(t.table.filters,"farmer_status",a)},expression:"table.filters.farmer_status"}})],1)],1)],1)]},proxy:!0},{key:"header.lahan_approve",fn:function(){return[t._v(" Status Lahan "),a("v-menu",{attrs:{rounded:"xl",bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1,"content-class":"rounded-xl"},scopedSlots:t._u([{key:"activator",fn:function({on:e,attrs:s}){return[a("v-btn",t._g(t._b({staticClass:"ml-1",attrs:{disabled:t.table.loading.show,fab:"",color:"orange white--text","x-small":""}},"v-btn",s,!1),e),[a("v-icon",[t._v("mdi-filter")])],1)]}}],null,!1,4262258230)},[a("v-card",{staticClass:"pa-2"},[a("v-card-text",{staticClass:"pa-0"},[a("v-select",{attrs:{color:"success","item-color":"success",items:["Semua","Belum Ada Data","Belum Lengkap","Belum Verifikasi","Terverifikasi"],disabled:t.table.loading.show,outlined:"",dense:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Filter Status"},model:{value:t.table.filters.lahan_approve,callback:function(a){t.$set(t.table.filters,"lahan_approve",a)},expression:"table.filters.lahan_approve"}})],1)],1)],1)]},proxy:!0},{key:"item.index",fn:function({index:e}){return[a("div",[t._v(" "+t._s(e+1)+" ")])]}},{key:"item.farmer_status",fn:function({item:e}){return[a("v-chip",{staticClass:"pl-0",attrs:{color:(e.farmer_status?"green":"orange")+" white--text"}},[a("v-icon",{staticClass:"mx-1"},[t._v("mdi-"+t._s(e.farmer_status?"check":"close")+"-circle")]),t._v(t._s(e.farmer_status?"Terverifikasi":"Belum Verifikasi")+" ")],1)]}},{key:"item.lahan_approve",fn:function({item:e}){return[e.lahan_no?0==e.lahan_complete||0==e.jenis_bibit.length?a("v-chip",{staticClass:"pl-0",attrs:{color:"red white--text"}},[a("v-icon",{staticClass:"mx-1"},[t._v("mdi-close-circle")]),t._v("Belum Lengkap ")],1):a("v-chip",{staticClass:"pl-0",attrs:{color:(e.lahan_approve&&e.jenis_bibit.length>0?"green":"orange")+" white--text"}},[a("v-icon",{staticClass:"mx-1"},[t._v("mdi-"+t._s(e.lahan_approve&&e.jenis_bibit.length>0?"check":"close")+"-circle")]),t._v(t._s(e.lahan_approve&&e.jenis_bibit.length>0?"Terverifikasi":"Belum Verifikasi")+" ")],1):a("v-chip",{staticClass:"pl-0",attrs:{color:"red white--text"}},[a("v-icon",{staticClass:"mx-1"},[t._v("mdi-close-circle")]),t._v("Belum Ada Data ")],1)]}},{key:"item.land_area",fn:function({item:e}){return[a("div",[t._v(" "+t._s(t._utils.numberFormat(e.land_area))+" m"),a("sup",[t._v("2")])])]}},{key:"item.tutupan_lahan",fn:function({item:e}){return[a("div",[t._v(" "+t._s(e.tutupan_lahan)+"% ")])]}},{key:"item.action",fn:function({index:e,item:s}){return[a("v-btn",{staticClass:"pl-1",attrs:{small:"",rounded:"",color:"green white--text"},on:{click:function(a){return t.modalActions(!0,s.ff_no)}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-information")]),t._v(" Detail ")],1)]}}],null,!1,2313088380)}):t._e()],1),a("v-card-actions",{staticClass:"justify-center align-center"},[a("v-btn",{attrs:{disabled:t.table.loading.show,color:"green white--text",rounded:""},on:{click:function(a){return t.downloadExcel()}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-microsoft-excel")]),t._v(" Unduh Excel")],1),a("v-btn",{attrs:{disabled:t.table.loading.show,color:"orange darken-2 white--text",rounded:""},on:{click:function(a){return t.downloadPDF()}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-file-pdf-box")]),t._v(" Unduh PDF")],1)],1)],1)],1)},i=[],o=e("bc3a"),n=e.n(o),r=(e("c1df"),e("3d20")),l=e.n(r),d={name:"OldGEKOFarmerLahanDetail",props:{show:{type:Boolean,default:!1},data:{type:Object,default:null}},data:()=>({options:{programYear:""},table:{filters:{farmer_status:"Semua",lahan_approve:"Semua"},headers:[{text:"No",value:"index",width:75},{text:"Desa",value:"desa_name"},{text:"Kode FF",value:"ff_no"},{text:"Nama FF",value:"ff_name"},{text:"Status Petani",value:"farmer_status",sortable:!1},{text:"Kode Petani",value:"farmer_no"},{text:"Nama Petani",value:"farmer_name"},{text:"NIK Petani",value:"farmer_nik"},{text:"Status Lahan",value:"lahan_approve",sortable:!1},{text:"Kode Lahan",value:"lahan_no"},{text:"Dokumen Lahan",value:"document_no"},{text:"Luas Lahan",value:"land_area"},{text:"Pola Tanam",value:"opsi_pola_tanam"},{text:"Tutupan Lahan",value:"tutupan_lahan"},{text:"Jenis Bibit",value:"jenis_bibit"},{text:"Total KAYU",value:"pohon_kayu"},{text:"Total MPTS",value:"pohon_mpts"}],items:[],items_raw:[],loading:{show:!1,text:"Loading..."},search:""}}),computed:{showModal:{get:function(){return this.show&&this.data.ff_no&&this.data.programYear&&(this.options.programYear=this.data.programYear),this.show},set:function(t){t||(setTimeout(()=>{this.table.items=[],this.table.items_raw=[]},200),this.$emit("dialogActions",!1))}},tableItems(){return this.show&&this.data.ff_no&&this.options.programYear&&this.getTableData({program_year:this.options.programYear,ff_no:this.data.ff_no}),!0},tableItemsData(){let t=this.table.items_raw;const a=this.table.filters.farmer_status;a&&"Semua"!=a&&(t=t.filter(t=>"Terverifikasi"==a?1==t.farmer_status:0==t.farmer_status));const e=this.table.filters.lahan_approve;return e&&"Semua"!=e&&("Belum Ada Data"==e&&(t=t.filter(t=>!t.lahan_no)),"Belum Lengkap"==e&&(t=t.filter(t=>t.jenis_bibit&&0==t.jenis_bibit.length||0==t.lahan_approve&&0==t.lahan_complete)),"Belum Verifikasi"==e&&(t=t.filter(t=>0==t.lahan_approve&&1==t.lahan_complete)),"Terverifikasi"==e&&(t=t.filter(t=>1==t.lahan_approve&&1==t.lahan_complete&&t.jenis_bibit.length>0))),t}},mounted(){},methods:{downloadExcel(){const t=document.getElementById("tableForExportLahanPetaniDashboard"),a=XLSX.utils.table_to_book(t);XLSX.writeFile(a,`LahanPetani${this.options.programYear}-${this.data.ff_no}_${this.data.ffName}.xlsx`)},downloadPDF(){window.jsPDF=window.jspdf.jsPDF;var t=new jsPDF({orientation:"landscape",unit:"px",format:[1400,700]});t.autoTable({html:"#tableForExportLahanPetaniDashboard",useCss:!0,tableLineWidth:0,theme:"striped"}),t.save(`LahanPetani${this.options.programYear}-${this.data.ff_no}_${this.data.ffName}.pdf`)},async errorResponse(t){if(console.log(t),t.response&&t.response.status){if(401==t.response.status){const t=await l.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});t&&(localStorage.removeItem("token"),this.$router.push("/"))}if(500===t.response.status||400===t.response.status){let a=t.response.data.message;a&&a.includes("Duplicate entry")&&(a="Data sudah ada!"),l.a.fire({title:"Error!",text:""+(a||t.message),icon:"error",confirmButtonColor:"#f44336"})}}},async getTableData(t){try{this.table.loading.show=!0;const a=new URLSearchParams(t),e="Dashboard/DetailPetaniLahan?"+a,s=await n.a.get(this.$store.getters.getApiUrl(e),this.$store.state.apiConfig),i=s.data.map(t=>{let a=t.document_no;if(a){const t=a.match(/\d+/g);a=t?t.join(""):a}return{...t,document_no:a}});this.table.items=i,this.table.items_raw=i}catch(a){this.errorResponse(a)}finally{this.table.loading.show=!1}}}},c=d,u=e("2877"),m=e("6544"),h=e.n(m),p=e("8336"),f=e("b0af"),v=e("99d9"),_=e("cc20"),g=e("8fea"),b=e("169a"),x=e("ce7e"),w=e("132d"),k=e("e449"),y=e("a797"),C=e("490a"),F=e("0fd9"),D=e("b974"),S=Object(u["a"])(c,s,i,!1,null,null,null);a["default"]=S.exports;h()(S,{VBtn:p["a"],VCard:f["a"],VCardActions:v["a"],VCardText:v["c"],VCardTitle:v["d"],VChip:_["a"],VDataTable:g["a"],VDialog:b["a"],VDivider:x["a"],VIcon:w["a"],VMenu:k["a"],VOverlay:y["a"],VProgressCircular:C["a"],VRow:F["a"],VSelect:D["a"]})},6635:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t._self._c;return a("div",[a("FarmerLahanDetail",{attrs:{show:t.dialogs.farmer_lahan_detail.show,data:t.dialogs.farmer_lahan_detail.data},on:{dialogActions:a=>t.dialogActions(a)}}),a("AddFFModal",{attrs:{show:t.dialogs.addEditFF.show,id:t.dialogs.addEditFF.id,programYear:t.options.programYear},on:{dialogAct:function(a){return t.dialogsAction(a)},showSnackbar:function(a){return t.showSnackbar(a.text,a.color)},swal:a=>t.swalActions(a),refreshTable:t.initialize}}),a("v-dialog",{attrs:{scrollable:"","max-width":"1200px",transition:"dialog-transition","content-class":"rounded-xl"},model:{value:t.showModal,callback:function(a){t.showModal=a},expression:"showModal"}},[a("v-card",[a("v-card-title",{staticClass:"rounded-xl green darken-3 ma-1 pa-2 white--text"},[a("v-icon",{staticClass:"mx-2",attrs:{color:"white"}},[t._v("mdi-account-details")]),t._v(" Detail Field Facilitator "),a("v-icon",{staticClass:"ml-auto",attrs:{color:"white"},on:{click:function(a){t.showModal=!1}}},[t._v("mdi-close-circle")])],1),a("v-card-text",[a("v-row",{staticClass:"align-center ma-0 my-2"},[t._v(" FC: "+t._s(t.data&&t.data.fcName||"-")+" "),a("v-divider",{staticClass:"mx-2"}),a("v-select",{staticClass:"mt-2 mr-1",staticStyle:{"max-width":"175px"},attrs:{dense:"",color:"success","item-color":"success","menu-props":{rounded:"xl",offsetY:!0,transition:"slide-y-transition"},"hide-details":"",rounded:"",disabled:t.table.loading.show,items:t.$store.state.programYear.options,label:"Program Year",rules:[t=>!!t||"Field is required"],outlined:""},model:{value:t.options.programYear,callback:function(a){t.$set(t.options,"programYear",a)},expression:"options.programYear"}})],1),t.tableItems?a("v-data-table",{staticClass:"elevation-1 rounded-xl",staticStyle:{position:"relative"},attrs:{headers:t.table.headers,items:t.table.items,loading:t.table.loading.show,search:t.table.loading.search},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-overlay",{attrs:{absolute:"",color:"white",value:t.table.loading.show}},[a("div",{staticClass:"d-flex flex-column justify-center align-center"},[a("v-progress-circular",{attrs:{size:80,width:10,indeterminate:"",color:"green"}}),a("p",{staticClass:"mt-2 mb-0 green--text text--darken-2"},[t._v(t._s(t.table.loading.text))])],1)])]},proxy:!0},{key:"item.index",fn:function({index:e}){return[a("div",[t._v(" "+t._s(e+1)+" ")])]}},{key:"item.action",fn:function({index:e,item:s}){return[a("div",{staticClass:"d-flex align-center ma-0"},[t.cuAccess?a("v-btn",{staticClass:"mr-1",attrs:{rounded:"",color:"warning white--text",fab:"","x-small":""},on:{click:function(a){return t.editItem(s)}}},[a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-pencil ")])],1):t._e(),a("v-btn",{staticClass:"pl-1",attrs:{small:"",rounded:"",color:"green white--text"},on:{click:function(a){return t.dialogActions(!0,s)}}},[a("v-icon",{staticClass:"mr-1"},[t._v("mdi-information")]),t._v(" Detail ")],1)],1)]}}],null,!1,1083526210)}):t._e()],1)],1)],1)],1)},i=[],o=e("bc3a"),n=e.n(o),r=(e("c1df"),e("3d20")),l=e.n(r),d=e("3093"),c=e("ec56"),u={name:"OldGEKOFFDetail",components:{FarmerLahanDetail:d["default"],AddFFModal:c["default"]},props:{show:{type:Boolean,default:!1},data:{type:Object,default:null}},data:()=>({dialogs:{farmer_lahan_detail:{show:!1,data:null},addEditFF:{show:!1,id:""}},options:{programYear:""},table:{headers:[{text:"No",value:"index",width:75},{text:"FF No",value:"ff_no"},{text:"Nama FF",value:"name"},{text:"NIK / No KTP",value:"ktp_no"},{text:"MU",value:"mu_name"},{text:"TA",value:"ta_name"},{text:"Desa",value:"desa_name"},{text:"Total Petani",value:"total_farmer"},{text:"Total Lahan",value:"total_lahan"},{text:"",value:"action"}],items:[],loading:{show:!1,text:"Loading..."},search:""}}),computed:{showModal:{get:function(){return this.show&&this.data.fcNo&&this.data.programYear&&(this.options.programYear=this.data.programYear),this.show},set:function(t){t||this.$emit("dialogActions",!1)}},tableItems(){return this.show&&this.data.fcNo&&this.options.programYear&&this.getTableData({program_year:this.options.programYear,fc_no:this.data.fcNo}),!0},cuAccess(){const t=this.$store.state.User;return"IT"==t.role_group||"UNIT MANAGER"==t.role_name}},mounted(){},methods:{async errorResponse(t){if(console.log(t),t.response&&t.response.status){if(401==t.response.status){const t=await l.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});t&&(localStorage.removeItem("token"),this.$router.push("/"))}if(500===t.response.status||400===t.response.status){let a=t.response.data.message;a&&a.includes("Duplicate entry")&&(a="Data sudah ada!"),l.a.fire({title:"Error!",text:""+(a||t.message),icon:"error",confirmButtonColor:"#f44336"})}}},async dialogActions(t,a=null){this.User;a&&(this.dialogs.farmer_lahan_detail.data={...a,programYear:this.options.programYear,ffName:a.name}),this.dialogs.farmer_lahan_detail.show=t},dialogsAction(t){this.dialogs[t.name].show=t.status,"changeFF"==t.name&&0==t.status&&(this.dialogs[t.name].id="")},async editItem(t){this.dialogs.addEditFF.id=t.id.toString(),this.dialogs.addEditFF.show=!0},async getTableData(t){try{this.table.loading.show=!0;const a=new URLSearchParams(t),e="Dashboard/DetailFieldFacilitator?"+a,s=await n.a.get(this.$store.getters.getApiUrl(e),this.$store.state.apiConfig),i=s.data;console.log(i),this.table.items=i}catch(a){this.errorResponse(a)}finally{this.table.loading.show=!1}},initialize(){this.getTableData({program_year:this.options.programYear,fc_no:this.data.fcNo})},showSnackbar(t,a){alert(t)},swalActions(t){this.initialize();const a=l.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,showCloseButton:!0,timer:1e4,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",l.a.stopTimer),t.addEventListener("mouseleave",l.a.resumeTimer)}});a.fire({icon:t.type,title:t.message})}}},m=u,h=e("2877"),p=e("6544"),f=e.n(p),v=e("8336"),_=e("b0af"),g=e("99d9"),b=e("8fea"),x=e("169a"),w=e("ce7e"),k=e("132d"),y=e("a797"),C=e("490a"),F=e("0fd9"),D=e("b974"),S=Object(h["a"])(m,s,i,!1,null,null,null);a["default"]=S.exports;f()(S,{VBtn:v["a"],VCard:_["a"],VCardText:g["c"],VCardTitle:g["d"],VDataTable:b["a"],VDialog:x["a"],VDivider:w["a"],VIcon:k["a"],VOverlay:y["a"],VProgressCircular:C["a"],VRow:F["a"],VSelect:D["a"]})}}]);
//# sourceMappingURL=chunk-90ae9804.7e8e6a5c.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4c75782","chunk-2d0cb689","chunk-2d20fe32"],{"2bc5":function(t,e,a){"use strict";a("abd3");var s=a("1c87"),i=a("58df"),o=Object(i["a"])(s["a"]).extend({name:"v-breadcrumbs-item",props:{activeClass:{type:String,default:"v-breadcrumbs__item--disabled"},ripple:{type:[Boolean,Object],default:!1}},computed:{classes(){return{"v-breadcrumbs__item":!0,[this.activeClass]:this.disabled}}},render(t){const{tag:e,data:a}=this.generateRouteLink();return t("li",[t(e,{...a,attrs:{...a.attrs,"aria-current":this.isActive&&this.isLink?"page":void 0}},this.$slots.default)])}}),l=a("80d2"),r=Object(l["i"])("v-breadcrumbs__divider","li"),n=a("7560");e["a"]=Object(i["a"])(n["a"]).extend({name:"v-breadcrumbs",props:{divider:{type:String,default:"/"},items:{type:Array,default:()=>[]},large:Boolean},computed:{classes(){return{"v-breadcrumbs--large":this.large,...this.themeClasses}}},methods:{genDivider(){return this.$createElement(r,this.$slots.divider?this.$slots.divider:this.divider)},genItems(){const t=[],e=!!this.$scopedSlots.item,a=[];for(let s=0;s<this.items.length;s++){const i=this.items[s];a.push(i.text),e?t.push(this.$scopedSlots.item({item:i})):t.push(this.$createElement(o,{key:a.join("."),props:i},[i.text])),s<this.items.length-1&&t.push(this.genDivider())}return t}},render(t){const e=this.$slots.default||this.genItems();return t("ul",{staticClass:"v-breadcrumbs",class:this.classes},e)}})},"2db4":function(t,e,a){"use strict";a("ca71");var s=a("8dd9"),i=a("a9ad"),o=a("7560"),l=a("f2e7"),r=a("fe6c"),n=a("58df"),c=a("80d2"),d=a("d9bd");e["a"]=Object(n["a"])(s["a"],i["a"],l["a"],Object(r["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:o["a"].options.computed.isDark.call(this)},styles(){if(this.absolute)return{};const{bar:t,bottom:e,footer:a,insetFooter:s,left:i,right:o,top:l}=this.$vuetify.application;return{paddingBottom:Object(c["g"])(e+a+s),paddingLeft:this.app?Object(c["g"])(i):void 0,paddingRight:this.app?Object(c["g"])(o):void 0,paddingTop:Object(c["g"])(t+l)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(d["e"])("auto-height",this),0==this.timeout&&Object(d["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(c["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(c["s"])(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:s["a"].options.computed.classes.call(this),style:s["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{mouseenter:()=>window.clearTimeout(this.activeTimeout),mouseleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"4a17":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("v-dialog",{attrs:{"max-width":"500","content-class":"rounded-xl",persistent:"",scrollable:""},model:{value:t.isShow,callback:function(e){t.isShow=e},expression:"isShow"}},[e("v-card",[e("v-card-title",{staticClass:"headermodalstyle"},[t._v(" Change FC "),e("v-divider",{staticClass:"mx-2",attrs:{color:"white"}}),e("v-icon",{attrs:{color:"red"},on:{click:function(e){t.isShow=!1}}},[t._v("mdi-close-circle")])],1),e("v-card-text",[e("v-overlay",{attrs:{absolute:"",value:t.isLoading}},[e("v-progress-circular",{attrs:{size:80,width:7,indeterminate:"",color:"white"}}),e("p",{staticClass:"mt-2 mb-0"},[t._v(t._s(t.isLoadingText))])],1),e("v-autocomplete",{staticClass:"mt-2",attrs:{color:"green","item-color":"green",rounded:"",outlined:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},"hide-details":"",label:"Unit Manager","item-text":"name","item-value":"nik",items:t.UM.items,loading:t.UM.loading,disabled:"IT"!=t.$store.state.User.role_group},on:{change:function(e){return t.getOptions("FC",e)}},scopedSlots:t._u([{key:"item",fn:function(a){return[e("v-list-item-content",[e("v-list-item-title",{domProps:{innerHTML:t._s(a.item.name)}}),e("v-list-item-subtitle",[t._v(t._s(a.item.nik))])],1)]}}]),model:{value:t.UM.model,callback:function(e){t.$set(t.UM,"model",e)},expression:"UM.model"}}),e("v-autocomplete",{staticClass:"mt-3",attrs:{color:"green","item-color":"green",rounded:"",outlined:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},"hide-details":"",label:"Field Facilitator","item-text":"name","item-value":"nik",items:t.FC.items,loading:t.FC.loading},scopedSlots:t._u([{key:"item",fn:function(a){return[e("v-list-item-content",[e("v-list-item-title",{domProps:{innerHTML:t._s(a.item.name)}}),e("v-list-item-subtitle",[t._v(t._s(a.item.nik))])],1)]}}]),model:{value:t.FC.model,callback:function(e){t.$set(t.FC,"model",e)},expression:"FC.model"}})],1),e("v-card-actions",[e("v-divider",{staticClass:"mr-2"}),e("v-btn",{staticClass:"px-5",attrs:{color:"green white--text",rounded:"",disabled:!t.FC.model||!t.ff_no},on:{click:t.save}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-content-save-check")]),t._v(" Save")],1)],1)],1)],1)],1)},i=[],o=a("bc3a"),l=a.n(o),r={props:{show:{type:Boolean,default:!1},id:{type:String|Number,default:""}},data:()=>({isLoading:!1,isLoadingText:"Loading...",ff_no:"",UM:{items:[],loading:!1,model:""},FC:{items:[],loading:!1,model:""}}),computed:{isShow:{get:function(){return this.show},set:function(t){0==t&&this.resetData(),this.$emit("dialogAct",{name:"changeFF",status:t})}}},watch:{id:{async handler(t){t&&(this.isLoading=!0,0==this.UM.items.length&&(this.isLoadingText="Get List UM data...",await this.getOptions("UM")),await this.getDetail(t),this.isLoading=!1)}}},methods:{async getDetail(t){try{this.isLoadingText="Get FF data...";const e=await l.a.get(this.$store.getters.getApiUrl("GetFieldFacilitatorDetail?id="+t),this.$store.state.apiConfig),a=e.data.data.result;this.isLoadingText="Get FC data...";const s=await l.a.get(this.$store.getters.getApiUrl(`GetEmployeeAll?name=${a.fc_name}&position=19`),this.$store.state.apiConfig),i=s.data.data.result.data;i.length>0&&(this.ff_no=a.ff_no,this.UM.model=i[0].manager_code,await this.getOptions("FC",this.UM.model),this.FC.model=a.fc_no)}catch(e){this.$emit("showSnackbar",{text:e.message,color:"red"}),void 0!=e.response?this.sessionEnd(e):console.error(e)}finally{this.isLoadingText="Loading..."}},async getOptions(t,e=null){try{this[t].loading=!0,this[t].model="";let a="";"UM"==t?a="GetEmployeeAll?position_no=20":"FC"==t&&(a="GetEmployeebyManager?position=19&manager_code="+e);const s=await l.a.get(this.$store.getters.getApiUrl(a),this.$store.state.apiConfig),i=s.data.data;this[t].items=await i.result.data}catch(a){this.$emit("showSnackbar",{text:a.message,color:"red"}),void 0!=a.response?this.sessionEnd(a):console.error(a)}finally{this[t].loading=!1}},resetData(){this.ff_no="",this.FC.items=[],this.FC.model="",this.UM.items=[],this.UM.model=""},async save(){try{this.isLoading=!0,this.isLoadingText="Changing FC...";const t=await l.a.post(this.$store.getters.getApiUrl("ChangeFCFieldFacilitator"),{ff_no:this.ff_no,fc_no:this.FC.model},this.$store.state.apiConfig);console.log(t),this.$emit("refreshTable"),this.$emit("showSnackbar",{text:t.data,color:200==t.status?"green":"red"})}catch(t){this.$emit("showSnackbar",{text:t.message,color:"red"}),void 0!=t.response?this.sessionEnd(t):console.error(t)}finally{this.isLoading=!1,this.isShow=!1}},sessionEnd(t){"undefined"!=typeof t.response.status&&401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}}},n=r,c=a("2877"),d=a("6544"),h=a.n(d),m=a("c6a6"),u=a("8336"),g=a("b0af"),v=a("99d9"),f=a("169a"),b=a("ce7e"),p=a("132d"),_=a("5d23"),k=a("a797"),C=a("490a"),F=Object(c["a"])(n,s,i,!1,null,null,null);e["default"]=F.exports;h()(F,{VAutocomplete:m["a"],VBtn:u["a"],VCard:g["a"],VCardActions:v["a"],VCardText:v["c"],VCardTitle:v["d"],VDialog:f["a"],VDivider:b["a"],VIcon:p["a"],VListItemContent:_["a"],VListItemSubtitle:_["b"],VListItemTitle:_["c"],VOverlay:k["a"],VProgressCircular:C["a"]})},a722:function(t,e,a){"use strict";a("20f6");var s=a("e8f2");e["a"]=Object(s["a"])("layout")},abd3:function(t,e,a){},b619:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div")},i=[],o={props:{show:{type:Boolean,default:!1}}},l=o,r=a("2877"),n=Object(r["a"])(l,s,i,!1,null,null,null);e["default"]=n.exports},ca71:function(t,e,a){},efae:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("v-breadcrumbs",{staticClass:"breadcrumbsmain",attrs:{"data-aos":"fade-right",dark:"dark"==t.$store.state.theme,items:t.itemsbr,divider:">",large:""}}),e("AddFFModal",{attrs:{show:t.dialogs.addEditFF.show,id:t.dialogs.addEditFF.id,programYear:t.localConfig.programYear},on:{dialogAct:function(e){return t.dialogsAction(e)},showSnackbar:function(e){return t.showSnackbar(e.text,e.color)},swal:e=>t.swalActions(e),refreshTable:t.initialize}}),e("ShowFarmerList",{attrs:{show:t.dialogs.listFarmer.show,ff_no:t.dialogs.listFarmer.ff_no}}),e("v-dialog",{attrs:{"max-width":"700px","content-class":"rounded-xl",scrollable:""},model:{value:t.dialogdetail,callback:function(e){t.dialogdetail=e},expression:"dialogdetail"}},[e("v-card",[e("v-card-title",{staticClass:"mb-1 headermodalstyle"},[e("span",{},[t._v("Detail FF")])]),e("v-card-text",[1==t.load?e("v-container",{staticStyle:{"background-color":"rgba(255, 255, 255, 0.5)"},attrs:{fluid:"","fill-height":""}},[e("v-layout",{attrs:{"justify-center":"","align-center":""}},[e("v-progress-circular",{attrs:{size:80,width:10,indeterminate:"",color:"primary"}})],1)],1):t._e(),0==t.load?e("v-container",[e("v-card",{staticClass:"rounded-xl shadow-lg font-weight-bold",attrs:{color:"light-green"}},[e("v-row",{staticClass:"ma-0 mx-2"},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center"},[e("p",{staticClass:"mb-0 grey--text text--darken-3"},[e("v-icon",{staticClass:"mr-2",attrs:{color:"grey darken-3"}},[t._v("mdi-responsive")]),t._v("Informasi Umum ")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:"black"}})],1)])],1)],1),e("v-card",{staticClass:"rounded-xl shadow-lg"},[e("v-row",{staticClass:"mt-3"},[e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("FF Number")])]),e("h5",[t._v(" "+t._s(t.defaultItem.ff_no)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("No KTP")])]),e("h5",[t._v(" "+t._s(t.defaultItem.ktp_no)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Nama FF")])]),e("h5",[t._v(" "+t._s(t.defaultItem.name)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Alamat FF")])]),e("h5",[t._v(" "+t._s(t.defaultItem.address)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Desa")])]),e("h5",[t._v(" "+t._s(t.defaultItem.village)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Kode Pos")])]),e("h5",[t._v(" "+t._s(t.defaultItem.post_code)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Kecamatan")])]),e("h5",[t._v(" "+t._s(t.defaultItem.kecamatan)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Kabupaten/Kota")])]),e("h5",[t._v(" "+t._s(t.defaultItem.city)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Provinsi")])]),e("h5",[t._v(" "+t._s(t.defaultItem.province)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Working Area")])]),e("h5",[t._v(" "+t._s(t.defaultItem.namaWorkingArea)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Target Area")])]),e("h5",[t._v(" "+t._s(t.defaultItem.namaTA)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Management Unit")])]),e("h5",[t._v(" "+t._s(t.defaultItem.namaMU)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("No Hp")])]),e("h5",[t._v(" "+t._s(t.defaultItem.phone)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Jenis Kelamin")])]),e("h5",[t._v(" "+t._s(t.defaultItem.gender)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Agama")])]),e("h5",[t._v(" "+t._s(t.defaultItem.religion)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Tanggal Lahir")])]),e("h5",[t._v(" "+t._s(t.defaultItem.birthday)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Status Perkawinan")])]),e("h5",[t._v(" "+t._s(t.defaultItem.marrital)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Akun Bank")])]),e("h5",[t._v(" "+t._s(t.defaultItem.bank_account)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Cabang bank")])]),e("h5",[t._v(" "+t._s(t.defaultItem.bank_branch)+" ")])])]),e("v-col",{attrs:{sm:"12",md:"3",cols:"3"}},[e("div",{staticClass:"ml-2"},[e("h4",[e("strong",[t._v("Nama Bank")])]),e("h5",[t._v(" "+t._s(t.defaultItem.bank_name)+" ")])])])],1)],1)],1):t._e()],1),e("v-card-actions",[e("v-divider",{staticClass:"mx-2"}),1==t.defaultItem.active?e("v-btn",{staticClass:"px-5",attrs:{rounded:"",color:"red white--text"},on:{click:function(e){return t.nonactivateFF(t.defaultItem)}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-account-off")]),t._v(" Nonaktifkan ")],1):e("v-btn",{attrs:{dark:"",rounded:"",color:"green white--text"},on:{click:function(e){return t.activateFF(t.defaultItem)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-account-check ")]),t._v(" Aktifkan ")],1)],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Apa Anda Yakin Menghapus Data Ini?")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Keluar")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),e("v-spacer")],1)],1)],1),e("v-dialog",{attrs:{"max-width":"500px",persistent:"","content-class":"rounded-lg",scrollable:""},model:{value:t.dialogs.nonactivateConfirmation.show,callback:function(e){t.$set(t.dialogs.nonactivateConfirmation,"show",e)},expression:"dialogs.nonactivateConfirmation.show"}},[t.dialogs.nonactivateConfirmation.model?e("v-card",{staticClass:"rounded-xl"},[e("v-card-title",{staticClass:"mb-1 headermodalstyle"},[e("v-icon",{staticClass:"mr-2 white--text"},[t._v("mdi-help-circle")]),e("span",[t._v("Confirmation")]),e("v-divider",{staticClass:"mx-2",attrs:{dark:""}}),e("v-icon",{attrs:{color:"red"},on:{click:function(e){t.dialogs.nonactivateConfirmation.show=!1}}},[t._v("mdi-close-circle")])],1),e("v-card-text",[e("h2",{staticClass:"text-center pt-4"},[t._v(" Apa Anda Mau "+t._s(t.dialogs.nonactivateConfirmation.model[1]?"Aktifkan":"Nonaktifkan")+" FF Ini? ")]),e("v-row",{staticClass:"mt-10 align-center mb-0"},[e("v-divider",{staticClass:"mx-2"}),e("v-btn",{attrs:{rounded:"",color:"red white--text mr-1"},on:{click:function(e){t.dialogs.nonactivateConfirmation.show=!1}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-close-circle")]),t._v(" Keluar ")],1),e("v-btn",{attrs:{rounded:"",color:"green white--text ml-1"},on:{click:t.confirmNonactivate}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-check-circle")]),t._v(" "+t._s(t.dialogs.nonactivateConfirmation.model[1]?"Activate":"Nonactivate")+" ")],1),e("v-divider",{staticClass:"mx-2"})],1)],1)],1):t._e()],1),e("ChangeFFModal",{attrs:{show:t.dialogs.changeFF.show,id:t.dialogs.changeFF.id},on:{dialogAct:function(e){return t.dialogsAction(e)},showSnackbar:function(e){return t.showSnackbar(e.text,e.color)},refreshTable:t.initialize}}),e("v-data-table",{staticClass:"rounded-xl elevation-6 mx-3 pa-1 mb-4",attrs:{"data-aos":"fade-up","data-aos-delay":"200","multi-sort":"",headers:t.headers,items:t.dataobject,search:t.search,loading:t.loadtable,"footer-props":{itemsPerPageText:"Jumlah Data Per Halaman",itemsPerPageOptions:[10,25,40,-1],showCurrentPage:!0,showFirstLastPage:!0},"loading-text":"Loading... Please wait"},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:"",rounded:"xl"}},[e("v-select",{staticClass:"mx-auto mr-lg-2 mb-2 mb-lg-0",staticStyle:{"max-width":"200px"},attrs:{color:"success","item-color":"success",items:["Semua",...t.$store.state.programYear.options],disabled:t.loadtable,outlined:"",dense:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Tahun Program"},model:{value:t.localConfig.programYear,callback:function(e){t.$set(t.localConfig,"programYear",e)},expression:"localConfig.programYear"}}),e("v-text-field",{attrs:{color:"green",outlined:"",rounded:"",dense:"","append-icon":"mdi-magnify",label:"Pencarian","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e("v-divider",{staticClass:"mx-4",attrs:{inset:""}}),1==t.RoleAccesCRUDShow?e("v-btn",{staticClass:"mb-2",attrs:{dark:"",rounded:"",color:"blue"},on:{click:function(e){return t.showAddModal()}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus")]),t._v(" Tambah Data ")],1):t._e()],1)]},proxy:!0},{key:"item.active",fn:function({item:a}){return[e("v-chip",{attrs:{color:(a.active?"green":"red")+" white--text"}},[t._v(" "+t._s(a.active?"Aktif":"Nonaktif")+" ")])]}},{key:"item.actions",fn:function({item:a}){return[e("v-menu",{attrs:{rounded:"xl",bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!0},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-icon",t._g(t._b({attrs:{color:"dark"}},"v-icon",s,!1),a),[t._v(" mdi-arrow-down-drop-circle ")])]}}],null,!0)},[e("v-card",{staticClass:"rounded-xl pa-2"},[e("v-btn",{staticClass:"mb-1",attrs:{dark:"",rounded:"",color:"info",block:"",small:""},on:{click:function(e){return t.showDetail(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"},on:{click:function(e){return t.showDetail(a)}}},[t._v(" mdi-information-outline ")]),t._v(" Detail ")],1),1==t.RoleAccesCRUDShow&&1!=a.validation&&("UNIT MANAGER"==t.User.role_name||"REGIONAL MANAGER"==t.User.role_name)||"IT"==t.User.role_group?e("v-btn",{staticClass:"mb-1",attrs:{block:"",small:"",rounded:"",color:"warning white--text"},on:{click:function(e){return t.editItem(a)}}},[e("v-icon",{staticClass:"mr-1",attrs:{small:"",color:"white"}},[t._v(" mdi-pencil ")]),t._v(" Edit ")],1):t._e(),("IT"==t.User.role_group&&a.active,t._e())],1)],1)]}}])}),e("v-snackbar",{attrs:{color:t.colorsnackbar,timeout:t.timeoutsnackbar},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.textsnackbar)+" ")])],1)},i=[],o=a("bc3a"),l=a.n(o),r=a("3d20"),n=a.n(r),c=a("4a17"),d=a("ec56"),h=a("b619"),m={name:"FieldFacilitator",components:{ChangeFFModal:c["default"],AddFFModal:d["default"],ShowFarmerList:h["default"]},data:()=>({dialogs:{addEditFF:{show:!1,id:""},changeFF:{show:!1,id:""},nonactivateConfirmation:{show:!1,model:null},listFarmer:{show:!1,ff_no:null}},menu2:"",valid:!0,datepicker:(new Date).toISOString().substr(0,10),itemsbr:[{text:"Employee",disabled:!0,href:"breadcrumbs_dashboard"},{text:"Field Facilitator",disabled:!0,href:"breadcrumbs_link_1"}],formTitle:"Tambah Data",value:"add",dialogdetail:!1,dialog:!1,dialogDelete:!1,loadtable:!1,load:!1,search:"",authtoken:"",BaseUrlGet:"",rules:[t=>!!t||"Required.",t=>t&&t.length>=1||"Min 1 characters"],headers:[{text:"FF No",value:"ff_no"},{text:"Nama FF",value:"namaFF"},{text:"Nama FC",value:"namaFC"},{text:"MU",value:"mu_name"},{text:"TA",value:"ta_name"},{text:"Desa",value:"village_name"},{text:"Email",value:"email"},{text:"Status",value:"active",align:"center"},{text:"Actions",value:"actions",sortable:!1,align:"right"}],dataobject:[],defaultItem:{id:"",address:"",bank_account:"",bank_branch:"",bank_name:"",birthday:"",city:"",fc_no:"",ff_no:"",ff_photo:"",ff_photo_path:"",gender:"",join_date:"",kecamatan:"",ktp_no:"",marrital:"",mu_no:"",namaMU:"",namaTA:"",namaWorkingArea:"",name:"",phone:"",post_code:"",province:"",religion:"",target_area:"",user_id:"",village:"",working_area:"",active:""},itemsgender:[{text:"Laki-Laki",value:"male"},{text:"Perempuan",value:"female"}],itemsagama:[{text:"Islam",value:"islam"},{text:"Kristen",value:"kristen"},{text:"Khatolik",value:"khatolik"},{text:"Hindu",value:"hindu"},{text:"Budha",value:"budha"}],itemsmarrital:[{text:"Kawin",value:"kawin"},{text:"Belum Kawin",value:"belum kawin"},{text:"Janda",value:"janda"},{text:"Duda",value:"duda"}],itemsMU:[],itemsTA:[],itemsVillage:[],itemsTAForm:[],itemsVillageForm:[],valueMUForm:"",valueTAForm:"",valueVillageForm:"",valueFFcode:"",selectMUForm:"",selectTAForm:"",selectVillageForm:"",snackbar:!1,textsnackbar:"Test",timeoutsnackbar:5e3,colorsnackbar:null,user_id:"",itemsfc:[],User:[],um_code:"",fc_no_selected:"",RoleAccesFilterShow:!0,RoleAccesCRUDShow:!0,RoleAccesCRUDDelete:!0,localConfig:{programYear:""}}),mounted(){this.firstAccessPage()},watch:{"localConfig.programYear":{handler(t){this.initialize()}}},methods:{dialogsAction(t){this.dialogs[t.name].show=t.status,"changeFF"==t.name&&0==t.status&&(this.dialogs[t.name].id="")},firstAccessPage(){this.authtoken=localStorage.getItem("token"),this.User=JSON.parse(localStorage.getItem("User")),this.user_id=this.User.employee_no,this.fc_no_selected=this.User.fc.fc,this.typegetdata=this.User.fc.value_data,this.BaseUrlGet=localStorage.getItem("BaseUrlGet"),this.localConfig.programYear=this.$store.state.programYear.model,this.checkRoleAccess(),this.initialize(),this.getMU()},checkRoleAccess(){"IT"==this.User.role_group?(this.RoleAccesCRUDShow=!0,this.RoleAccesFilterShow=!0,this.RoleAccesCRUDDelete=!0,this.getFCAll()):"20"==this.User.role?(this.um_code=this.User.um.um,this.RoleAccesCRUDShow=!0,this.RoleAccesFilterShow=!1,this.RoleAccesCRUDDelete=!1,this.getEmpFCbyManager()):(this.RoleAccesCRUDShow=!1,this.RoleAccesFilterShow=!0,this.RoleAccesCRUDDelete=!1)},async initialize(){this.loadtable=!0;try{const t=await l.a.get(this.BaseUrlGet+"GetFieldFacilitatorAllWeb?fc_no="+this.fc_no_selected+"&program_year="+this.localConfig.programYear,{headers:{Authorization:"Bearer "+this.authtoken}});0!=t.data.length?(this.dataobject=t.data.data.result.data,this.loadtable=!1):(console.log("Kosong"),this.loadtable=!1)}catch(t){console.error(t),401==t.response.status?(this.loadtable=!1,localStorage.removeItem("token"),this.$router.push("/")):(this.dataobject=[],this.loadtable=!1)}},async getDetail(t,e){this.load=!0;try{const a=await l.a.get(this.BaseUrlGet+"GetFieldFacilitatorDetail?id="+t.id,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(a.data.data.result),0!=a.data.length?("detail"==e?this.load=!1:(this.valueMUForm=a.data.data.result.mu_no,this.valueTAForm=a.data.data.result.target_area),this.defaultItem=Object.assign({},a.data.data.result),this.datepicker=a.data.data.result.birthday,this.load=!1):(console.log("Kosong"),this.load=!1)}catch(a){console.error(a),401==a.response.status?(localStorage.removeItem("token"),this.$router.push("/"),this.load=!1):this.load=!1}},async getEmpFCbyManager(){try{const t=await l.a.get(this.BaseUrlGet+"GetEmployeebyManager?manager_code="+this.um_code+"&position=19",{headers:{Authorization:"Bearer "+this.authtoken}});console.log(t.data.data.result),0!=t.data.length?this.itemsfc=t.data.data.result.data:console.log("Kosong")}catch(t){console.error(t.response),401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getFCAll(){try{const t=await l.a.get(this.BaseUrlGet+"GetEmployeebyPosition?position_code=19",{headers:{Authorization:"Bearer "+this.authtoken}});0!=t.data.length?this.itemsfc=t.data.data.result.data:console.log("Kosong")}catch(t){console.error(t.response),401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getMU(){try{const t=await l.a.get(this.BaseUrlGet+"GetManagementUnit",{headers:{Authorization:"Bearer "+this.authtoken}});0!=t.data.length?this.itemsMU=t.data.data.result:console.log("Kosong")}catch(t){console.error(t.response),401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getTA(t){var e="";e="table"==t?this.valueMU:this.valueMUForm;try{const a=await l.a.get(this.BaseUrlGet+"GetTargetArea?mu_no="+e,{headers:{Authorization:"Bearer "+this.authtoken}});0!=a.data.length?"table"==t?this.itemsTA=a.data.data.result:this.itemsTAForm=a.data.data.result:console.log("Kosong")}catch(a){console.error(a.response),401==a.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async getVillage(t){var e="";e="table"==t?this.valueTA:this.valueTAForm;try{const a=await l.a.get(this.BaseUrlGet+"GetDesa?kode_ta="+e,{headers:{Authorization:"Bearer "+this.authtoken}});0!=a.data.length?"table"==t?this.itemsVillage=a.data.data.result:this.itemsVillageForm=a.data.data.result:console.log("Kosong")}catch(a){console.error(a.response),401==a.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}},async addData(){const t={fc_no:this.defaultItem.fc_no,name:this.defaultItem.name,birthday:this.datepicker,religion:this.defaultItem.religion,gender:this.defaultItem.gender,ktp_no:this.defaultItem.ktp_no,address:this.defaultItem.address,village:this.defaultItem.village,kecamatan:this.defaultItem.kecamatan,city:this.defaultItem.city,province:this.defaultItem.province,working_area:this.defaultItem.working_area,mu_no:this.defaultItem.mu_no,target_area:this.defaultItem.target_area,active:1,marrital:this.defaultItem.marrital,join_date:"1999-01-01",phone:this.defaultItem.phone,post_code:this.defaultItem.post_code,bank_account:this.defaultItem.bank_account,bank_branch:this.defaultItem.bank_branch,bank_name:this.defaultItem.bank_name,user_id:this.user_id};try{const e=await l.a.post(this.BaseUrlGet+"AddFieldFacilitator",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.dialog=!1,this.snackbar=!0,this.colorsnackbar="green",this.textsnackbar="Sukses mengubah data",this.initialize()):(this.dialog=!0,this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal mengubah data")}catch(e){console.error(e.response),401==e.response.status?(this.dialog=!0,this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal mengubah data",localStorage.removeItem("token"),this.$router.push("/")):(this.dialog=!0,this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal mengubah data")}},async updateData(){const t={id:this.defaultItem.id,fc_no:this.defaultItem.fc_no,name:this.defaultItem.name,birthday:this.datepicker,religion:this.defaultItem.religion,gender:this.defaultItem.gender,ktp_no:this.defaultItem.ktp_no,address:this.defaultItem.address,village:this.defaultItem.village,kecamatan:this.defaultItem.kecamatan,city:this.defaultItem.city,province:this.defaultItem.province,working_area:this.defaultItem.working_area,mu_no:this.defaultItem.mu_no,target_area:this.defaultItem.target_area,active:1,marrital:this.defaultItem.marrital,join_date:"1999-01-01",phone:this.defaultItem.phone,post_code:this.defaultItem.post_code,bank_account:this.defaultItem.bank_account,bank_branch:this.defaultItem.bank_branch,bank_name:this.defaultItem.bank_name,user_id:this.user_id};console.log(t);try{const e=await l.a.post(this.BaseUrlGet+"UpdateFieldFacilitator",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.dialog=!1,this.snackbar=!0,this.colorsnackbar="green",this.textsnackbar="Sukses mengubah data",this.initialize()):(this.dialog=!0,this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal mengubah data")}catch(e){console.error(e.response),401==e.response.status?(this.dialog=!0,this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal mengubah data",localStorage.removeItem("token"),this.$router.push("/")):(this.dialog=!0,this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal mengubah data")}},async deleteData(){const t={id:this.defaultItem.id,user_id:this.user_id};console.log(t);try{const e=await l.a.post(this.BaseUrlGet+"DeleteFieldFacilitator",t,{headers:{Authorization:"Bearer "+this.authtoken}});console.log(e.data.data.result),"success"==e.data.data.result?(this.dialog=!1,this.snackbar=!0,this.colorsnackbar="green",this.textsnackbar="Sukses mengubah data",this.initialize()):(this.dialog=!0,this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal mengubah data")}catch(e){console.error(e.response),401==e.response.status?(this.dialog=!0,this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal mengubah data",localStorage.removeItem("token"),this.$router.push("/")):(this.dialog=!0,this.snackbar=!0,this.colorsnackbar="red",this.textsnackbar="Gagal mengubah data")}},selectedMUForm(t){console.log(t),this.valueMUForm=t,null!=t?(this.getTA("form"),this.valueTAForm="",this.selectTAForm="",this.selectVillageForm="",this.valueVillageForm=""):(this.valueMUForm="",this.valueTAForm="",this.itemsTAForm=[],this.valueVillageForm="",this.itemsVillageForm=[],this.defaultItem.mu_no=t)},selectedTAForm(t){console.log(t),this.valueTAForm=t,null!=t?(this.getVillage("form"),this.valueVillageForm="",this.selectVillageForm="",this.defaultItem.working_area=""):(this.valueTAForm="",this.valueVillageForm="",this.itemsVillageForm=[],this.defaultItem.working_area="",this.defaultItem.target_area=t)},selectedVillageForm(t){console.log(t),this.valueVillageForm=t,this.defaultItem.working_area=t,null==t&&(this.valueVillageForm="",this.defaultItem.working_area="")},showDetail(t){this.type="Detail",console.log(t),this.dialogdetail=!0,this.getDetail(t,"detail")},showAddModal(){this.dialogs.addEditFF.id="",this.dialogs.addEditFF.show=!0},async editItem(t){this.dialogs.addEditFF.id=t.id.toString(),this.dialogs.addEditFF.show=!0},deleteItem(t){console.log(t.id),this.defaultItem.id=t.id,this.dialogDelete=!0},deleteItemConfirm(){this.deleteData()},close(){this.dialog=!1},closeDelete(){this.dialogDelete=!1},nonactivateFF(t){this.dialogs.nonactivateConfirmation.show=!0,this.dialogs.nonactivateConfirmation.model=[t.ff_no,0]},activateFF(t){this.dialogs.nonactivateConfirmation.show=!0,this.dialogs.nonactivateConfirmation.model=[t.ff_no,1]},async confirmNonactivate(){this.dialogs.nonactivateConfirmation.show=!1,this.dialogdetail=!1,this.$store.state.loadingOverlayText="Nonactivate Field Facilitator...",this.$store.state.loadingOverlay=!0,await l.a.post(this.BaseUrlGet+"NonactivateFieldFacilitator",{ff_no:this.dialogs.nonactivateConfirmation.model[0],active:this.dialogs.nonactivateConfirmation.model[1]},{headers:{Authorization:"Bearer "+this.authtoken}}).then(()=>{this.colorsnackbar="green",this.textsnackbar=(this.dialogs.nonactivateConfirmation.model[1]?"Activate":"Nonactivate")+" FF success!",this.initialize()}).catch(t=>{this.colorsnackbar="red",this.textsnackbar=(this.dialogs.nonactivateConfirmation.model[1]?"Activate":"Nonactivate")+" FF failed!",401==t.response.status&&(localStorage.removeItem("token"),this.$router.push("/"))}).finally(()=>{this.snackbar=!0,this.timeoutsnackbar=5e3,this.$store.state.loadingOverlay=!1,this.$store.state.loadingOverlayText=null})},showSnackbar(t,e){this.textsnackbar=t,this.colorsnackbar=e,this.snackbar=!0},swalActions(t){this.initialize();const e=n.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,showCloseButton:!0,timer:1e4,timerProgressBar:!0,didOpen:t=>{t.addEventListener("mouseenter",n.a.stopTimer),t.addEventListener("mouseleave",n.a.resumeTimer)}});e.fire({icon:t.type,title:t.message})}}},u=m,g=a("2877"),v=a("6544"),f=a.n(v),b=a("2bc5"),p=a("8336"),_=a("b0af"),k=a("99d9"),C=a("cc20"),F=a("62ad"),w=a("a523"),x=a("8fea"),y=a("169a"),I=a("ce7e"),A=a("132d"),U=a("a722"),T=a("e449"),S=a("490a"),D=a("0fd9"),V=a("b974"),$=a("2db4"),B=a("2fa4"),M=a("8654"),G=a("71d9"),L=Object(g["a"])(u,s,i,!1,null,null,null);e["default"]=L.exports;f()(L,{VBreadcrumbs:b["a"],VBtn:p["a"],VCard:_["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VChip:C["a"],VCol:F["a"],VContainer:w["a"],VDataTable:x["a"],VDialog:y["a"],VDivider:I["a"],VIcon:A["a"],VLayout:U["a"],VMenu:T["a"],VProgressCircular:S["a"],VRow:D["a"],VSelect:V["a"],VSnackbar:$["a"],VSpacer:B["a"],VTextField:M["a"],VToolbar:G["a"]})}}]);
//# sourceMappingURL=chunk-b4c75782.afae7f88.js.map
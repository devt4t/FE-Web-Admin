(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c9dc17f","chunk-33f2478e","chunk-2d2248c4"],{1681:function(e,t,n){},"6ca7":function(e,t,n){},a844:function(e,t,n){"use strict";var i=n("5530"),a=(n("a9e3"),n("1681"),n("8654")),s=n("58df"),r=Object(s["a"])(a["a"]);t["a"]=r.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(e){return!isNaN(parseFloat(e))}},rows:{type:[Number,String],default:5,validator:function(e){return!isNaN(parseInt(e,10))}}},computed:{classes:function(){return Object(i["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},a["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var e=this;setTimeout((function(){e.autoGrow&&e.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var e=this.$refs.input;if(e){e.style.height="0";var t=e.scrollHeight,n=parseInt(this.rows,10)*parseFloat(this.rowHeight);e.style.height=Math.max(n,t)+"px"}},genInput:function(){var e=a["a"].options.methods.genInput.call(this);return e.tag="textarea",delete e.data.attrs.type,e.data.attrs.rows=this.rows,e},onInput:function(e){a["a"].options.methods.onInput.call(this,e),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(e){this.isFocused&&13===e.keyCode&&e.stopPropagation(),this.$emit("keydown",e)}}})},ac7c:function(e,t,n){"use strict";var i=n("5530"),a=(n("d3b7"),n("25f0"),n("6ca7"),n("ec29"),n("9d26")),s=n("c37a"),r=n("fe09");t["a"]=r["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(e){var t=this;this.$nextTick((function(){return t.inputIndeterminate=e}))},inputIndeterminate:function(e){this.$emit("update:indeterminate",e)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(a["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",Object(i["a"])(Object(i["a"])({},this.attrs$),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},caa4:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"content-class":"rounded-xl","max-width":"500"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("v-card",[n("v-card-title",{staticClass:"grey--text"},[n("v-spacer"),n("v-icon",{staticClass:"mr-1",attrs:{color:"grey"}},[e._v("mdi-information")]),e._v(" Confirmation "),n("v-spacer")],1),n("v-card-text",{staticClass:"text-center pt-2 grey--text text--darken-3"},["verification"==e.type?n("span",[e._v(" Apakah anda yakin untuk memverifikasi data penyesuaian bibit ini? ")]):"last_verification"==e.type?n("span",[e._v(" Ini adalah verifikasi "),n("b",[e._v("terakhir")]),e._v(", yang mana akan "),n("b",[e._v("memproses")]),e._v(" semua penyesuaian dan perubahan bibit sesuai dengan request, dan "),n("b",[e._v("tidak akan bisa dibatalkan")]),e._v(". Apakah anda yakin untuk memverifikasi request data ini? ")]):"reject"==e.type||"cancel"==e.type?n("span",[e._v(" Apakah anda yakin untuk membatalkan data penyesuaian bibit ini? ")]):n("span",[e._v(" Penyesuaian bibit ini baru akan diproses setelah "),n("b",[e._v("disetujui")]),e._v(" oleh "),n("b",[e._v("REGIONAL MANAGER / PROGRAM MANAGER")]),e._v(". "),n("br"),e._v(" Yakin ingin mengirim permintaan penyesuaian bibit ini? ")])]),n("v-card-actions",[n("v-btn",{attrs:{small:"",text:"",color:"blue",rounded:""},on:{click:function(){return e.$emit("close")}}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-undo")]),e._v(" Back")],1),n("v-divider",{staticClass:"mx-2"}),n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var i=t.hover;return[n("v-btn",{staticClass:"px-5 pr-1",attrs:{small:"",rounded:"",outlined:!i,color:e.getConfirmationBtnColor},on:{click:function(){return e.$emit("confirm")}}},[e._v(e._s(e.getConfirmationBtnText)+" "),n("v-icon",{staticClass:"ml-1"},[e._v(e._s(e.getConfirmationBtnIcon))])],1)]}}])})],1)],1)],1)},a=[],s=n("1da1"),r=(n("96cf"),{props:{show:{type:Boolean,default:!1},type:{type:String,default:null}},data:function(){return{}},computed:{showDialog:{get:function(){return this.show},set:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0==t&&this.$emit("close");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},getConfirmationBtnIcon:function(){var e="";return e="verification"==this.type||"last_verification"==this.type?"check-circle":"reject"==this.type?"file-document-remove":"cancel"==this.type?"close-circle":"send-circle","mdi-"+e},getConfirmationBtnColor:function(){var e="";return e="verification"==this.type||"last_verification"==this.type?"green":"reject"==this.type||"cancel"==this.type?"red":"orange",e+" white--text"},getConfirmationBtnText:function(){var e="Okay";return"verification"==this.type||"last_verification"==this.type?e+=", verif":"reject"==this.type?e+=", reject":"cancel"==this.type?e+=", cancel":e+=", send",e}}}),o=r,l=n("2877"),u=n("6544"),c=n.n(u),d=n("8336"),m=n("b0af"),p=n("99d9"),v=n("169a"),h=n("ce7e"),f=n("ce87"),g=n("132d"),b=n("2fa4"),_=Object(l["a"])(o,i,a,!1,null,null,null);t["default"]=_.exports;c()(_,{VBtn:d["a"],VCard:m["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VDialog:v["a"],VDivider:h["a"],VHover:f["a"],VIcon:g["a"],VSpacer:b["a"]})},ce87:function(e,t,n){"use strict";var i=n("16b7"),a=n("f2e7"),s=n("58df"),r=n("d9bd");t["a"]=Object(s["a"])(i["a"],a["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(r["c"])("v-hover should only contain a single element",this),e)):(Object(r["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}})},e135:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":"500","content-class":"rounded-xl"},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("v-card",[n("v-card-title",[e._v("Form Change Request Instruction")]),n("v-card-text",[e._v(" HELP!!! ")])],1)],1)},a=[],s=n("1da1"),r=(n("96cf"),{props:{show:{type:Boolean,default:!1}},data:function(){return{}},computed:{showDialog:{get:function(){return this.show},set:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0==t&&this.$emit("close");case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}}}),o=r,l=n("2877"),u=n("6544"),c=n.n(u),d=n("b0af"),m=n("99d9"),p=n("169a"),v=Object(l["a"])(o,i,a,!1,null,null,null);t["default"]=v.exports;c()(v,{VCard:d["a"],VCardText:m["c"],VCardTitle:m["d"],VDialog:p["a"]})},ec29:function(e,t,n){},fb04:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("formRequestHelp",{attrs:{show:e.dialogs.help.model},on:{close:function(){return e.dialogs.help.model=!1}}}),n("createConfirmation",{attrs:{show:e.dialogs.confirmation.model},on:{close:function(){return e.dialogs.confirmation.model=!1},confirm:function(){return e.sendRequest()}}}),n("v-dialog",{attrs:{"max-width":"1200","content-class":"rounded-xl",scrollable:"",persistent:""},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}},[n("v-card",{staticClass:"orange"},[n("v-card-title",{staticClass:"transparent white--text rounded-xl"},[n("p",{staticClass:"mb-0"},[n("v-icon",{attrs:{color:"white"}},[e._v("mdi-comment-text")]),e._v(" Form Request")],1),n("v-divider",{staticClass:"mx-2",attrs:{color:"white"}}),n("v-icon",{attrs:{color:"white"},on:{click:function(){return e.showDialog=!1}}},[e._v("mdi-close-circle")])],1),n("v-card-text",[e.loading.show?n("v-overlay",{attrs:{"justify-center":"","align-center":""}},[n("div",{staticClass:"d-flex flex-column align-center justify-center"},[n("v-progress-circular",{attrs:{size:80,width:7,indeterminate:"",color:"white"}}),n("p",{staticClass:"mb-0 text-center mt-4"},[e._v(e._s(e.loading.text||"Loading..."))])],1)]):e._e(),n("v-stepper",{staticClass:"rounded-xl elevation-0",attrs:{vertical:""},model:{value:e.stepper.model,callback:function(t){e.$set(e.stepper,"model",t)},expression:"stepper.model"}},[n("v-stepper-step",{attrs:{color:"orange",complete:e.stepper.model>1,step:"1"}},[e.stepper.model<2?n("span",[e._v("Select "+e._s("Petani"==e.landProgram?"Farmer":"MoU")+" & Land")]):n("span",[e._v(" "+e._s(e.stepper1TitleComplete)+" ")])]),n("v-stepper-content",{staticClass:"pt-0",attrs:{step:"1"}},[n("v-row",{staticClass:"mt-2"},[n("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"3"}},[n("v-autocomplete",{attrs:{color:"success",dense:"","hide-details":"","item-color":"success",items:e.$store.state.programYear.options,label:e.inputs.programYear.label,loading:e.inputs.programYear.loading,"menu-props":{rounded:"xl",transition:"slide-y-transition"},"no-data-text":e.inputs.programYear.loading?"Loading...":"No Data",outlined:"",rounded:"",rules:[function(e){return!!e||"Field is required"}],disabled:""},model:{value:e.inputs.programYear.model,callback:function(t){e.$set(e.inputs.programYear,"model",t)},expression:"inputs.programYear.model"}})],1),n("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"3"}},[n("v-autocomplete",{attrs:{color:"success",dense:"","hide-details":"","item-color":"success",items:e.inputs.landProgram.items,label:e.inputs.landProgram.label,"menu-props":{rounded:"xl",transition:"slide-y-transition"},outlined:"",rounded:"",rules:[function(e){return!!e||"Field is required"}],disabled:""},model:{value:e.inputs.landProgram.model,callback:function(t){e.$set(e.inputs.landProgram,"model",t)},expression:"inputs.landProgram.model"}})],1),n("v-col",{attrs:{cols:"12",lg:"4"}},[n("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Nursery",items:e.inputs.nursery.items,disabled:e.inputs.nursery.disabled},model:{value:e.inputs.nursery.model,callback:function(t){e.$set(e.inputs.nursery,"model",t)},expression:"inputs.nursery.model"}})],1),n("v-col",{attrs:{cols:"12",lg:"4"}},[n("v-menu",{attrs:{"offset-x":"",transition:"slide-x-transition",rounded:"xl"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,a=t.attrs;return[n("p",{staticClass:"mb-0"},[n("strong",[e._v(e._s(e.inputs.distributionDate.label))])]),n("v-btn",e._g(e._b({attrs:{rounded:"",color:"green white--text"}},"v-btn",a,!1),i),[e._v(" "+e._s(e.$store.getters.dateFormat(e.inputs.distributionDate.model,"ddd, DD MMMM Y"))+" ")])]}}]),model:{value:e.inputs.distributionDate.datepicker.show,callback:function(t){e.$set(e.inputs.distributionDate.datepicker,"show",t)},expression:"inputs.distributionDate.datepicker.show"}},[n("div",[n("v-overlay",{attrs:{value:e.inputs.distributionDate.loading}},[n("div",{staticClass:"d-flex flex-column align-center justify-center"},[n("v-progress-circular",{attrs:{indeterminate:"",color:"white",size:"64"}}),n("p",{staticClass:"mt-2 mb-0"},[e._v("Updating dates...")])],1)]),n("v-date-picker",{key:e.inputs.distributionDate.datepicker.key,staticClass:"rounded-xl",attrs:{min:"2022-11-24",color:"green"},on:{input:function(){e.inputs.distributionDate.datepicker.show=!1}},model:{value:e.inputs.distributionDate.model,callback:function(t){e.$set(e.inputs.distributionDate,"model",t)},expression:"inputs.distributionDate.model"}})],1)])],1)],1),n("v-row",{staticClass:"mt-2"},[n("v-col",{attrs:{cols:"12",lg:"4"}},[n("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Management Unit",loading:e.inputs.mu.loading,items:e.inputs.mu.items,"item-text":"name","item-value":"mu_no",disabled:e.disabledInputMU},on:{change:function(t){return e.getFForPICT4T(t)}},model:{value:e.inputs.mu.model,callback:function(t){e.$set(e.inputs.mu,"model",t)},expression:"inputs.mu.model"}})],1),"Petani"==e.inputs.landProgram.model?n("v-col",{attrs:{cols:"12",lg:"4"}},[n("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Field Facilitator",loading:e.inputs.ff.loading,items:e.inputs.ff.items,"item-text":"ff_name","item-value":"ff_no",disabled:e.disabledInputFF},on:{change:function(t){return e.getFarmerOrMOU(t)}},model:{value:e.inputs.ff.model,callback:function(t){e.$set(e.inputs.ff,"model",t)},expression:"inputs.ff.model"}})],1):"Umum"==e.inputs.landProgram.model?n("v-col",{attrs:{cols:"12",lg:"4"}},[n("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"PIC T4T",loading:e.inputs.pic_t4t.loading,items:e.inputs.pic_t4t.items,"item-text":"employee_name","item-value":"employee_no",disabled:e.disabledInputFF},on:{change:function(t){return e.getFarmerOrMOU(t)}},model:{value:e.inputs.pic_t4t.model,callback:function(t){e.$set(e.inputs.pic_t4t,"model",t)},expression:"inputs.pic_t4t.model"}})],1):e._e(),"Petani"==e.inputs.landProgram.model?n("v-col",{attrs:{cols:"12",lg:"4"}},[n("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Farmer",loading:e.inputs.farmer.loading,items:e.inputs.farmer.items,"item-text":"farmer_name","item-value":"farmer_no",disabled:e.disabledInputFarmer},on:{change:function(t){return e.getLand(t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:e._s(t.item.farmer_name)}}),n("v-list-item-subtitle",[n("v-avatar",{attrs:{color:"green white--text mr-1",size:"20"}},[e._v(e._s(t.item.lahan_no.length))]),e._v(e._s(t.item.lahan_no.toString()))],1)],1)]}}],null,!1,1498540660),model:{value:e.inputs.farmer.model,callback:function(t){e.$set(e.inputs.farmer,"model",t)},expression:"inputs.farmer.model"}})],1):"Umum"==e.inputs.landProgram.model?n("v-col",{attrs:{cols:"12",lg:"4"}},[n("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"MOU No",loading:e.inputs.mou.loading,items:e.inputs.mou.items,"item-text":"mou_no","item-value":"mou_no",disabled:e.disabledInputMOU},on:{change:function(t){return e.getLand(t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:e._s(t.item.mou_no)}}),n("v-list-item-subtitle",[e._v(e._s(t.item.pic_lahan))])],1)]}}]),model:{value:e.inputs.mou.model,callback:function(t){e.$set(e.inputs.mou,"model",t)},expression:"inputs.mou.model"}})],1):e._e()],1),e.inputs.land.items.length>0?n("v-card",{staticClass:"elevation-0 mt-3"},[n("v-card-title",{staticClass:"pb-0",attrs:{"data-aos":"zoom-in"}},[n("v-spacer",{staticClass:"mr-2"}),n("span",{staticClass:"grey--text text--darken-2"},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-timeline-check")]),e._v(" "+e._s("Petani"==e.landProgram?"Farmer":"MoU")+" Last Activities ")],1),n("v-spacer",{staticClass:"ml-2"})],1),n("v-card-text",{staticClass:"pb-0"},[n("v-stepper",{staticClass:"elevation-0",attrs:{"alt-labels":""},model:{value:e.inputs.activitiesStep.model,callback:function(t){e.$set(e.inputs.activitiesStep,"model",t)},expression:"inputs.activitiesStep.model"}},[n("v-stepper-header",{staticClass:"elevation-0"},[n("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"0",color:"green",step:"x",complete:e.inputs.activitiesStep.model>=1,rules:[function(){return!(e.inputs.activitiesStep.model<1)}],"error-icon":"mdi-close-circle"}},[n("small",[e._v("Pendataan Lahan")])]),n("v-divider",{}),"Petani"==e.landProgram?n("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"50",color:"green",step:"x",complete:e.inputs.activitiesStep.model>=2,rules:[function(){return!(e.inputs.activitiesStep.model<2)}],"error-icon":"mdi-close-circle"}},[n("small",[e._v("Sosialisasi Tanam")])]):e._e(),"Petani"==e.landProgram?n("v-divider",{}):e._e(),n("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"100",color:"green",step:"x",complete:e.inputs.activitiesStep.model>=3,rules:[function(){return!(e.inputs.activitiesStep.model<3)}],"error-icon":"mdi-close-circle"}},[n("small",[e._v("Penilikan Lubang")])]),n("v-divider",{}),n("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"150",color:"green",step:"x",complete:e.inputs.activitiesStep.model>=4,rules:[function(){return!(e.inputs.activitiesStep.model<4)}],"error-icon":"mdi-close-circle"}},[n("small",[e._v("Print Label")])]),n("v-divider",{}),n("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"200",color:"green",step:"x",complete:e.inputs.activitiesStep.model>=5,rules:[function(){return!(e.inputs.activitiesStep.model<5)}],"error-icon":"mdi-close-circle"}},[n("small",[e._v("Load Bag")])]),n("v-divider",{}),n("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"250",color:"green",step:"x",complete:e.inputs.activitiesStep.model>=6,rules:[function(){return!(e.inputs.activitiesStep.model<6)}],"error-icon":"mdi-close-circle"}},[n("small",[e._v("Distribute Bag")])]),n("v-divider",{}),n("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"300",color:"green",step:"x",complete:e.inputs.activitiesStep.model>=7,rules:[function(){return!(e.inputs.activitiesStep.model<7)}],"error-icon":"mdi-close-circle"}},[n("small",[e._v("Realisasi Tanam")])])],1)],1)],1)],1):e._e(),n("v-row",{staticClass:"my-1 mt-3 mx-0 align-center"},[n("v-chip",{attrs:{color:(e.inputs.land.items.length>0?"green":"red")+" white--text"}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-land-fields")]),e._v(" Land: "+e._s(e.inputs.land.items.length))],1),n("v-divider",{staticClass:"mx-2"}),n("v-btn",{attrs:{rounded:"",outlined:"",color:"orange",disabled:e.disabledNext1},on:{click:function(){e.stepper.model+=1,e.getSeedlingChangeData()}}},[e._v("Next "),n("v-icon",[e._v("mdi-chevron-right")])],1)],1)],1),n("v-stepper-step",{attrs:{color:"orange",complete:e.stepper.model>2,step:"2"}},[e.stepper.model<3?n("span",[e._v("Seedling Change")]):n("span",[e._v(" "+e._s(e.stepper2TitleComplete)+" ")])]),n("v-stepper-content",{staticClass:"pt-0",attrs:{step:"2"}},[e.inputs.seedling.length>0?n("div",e._l(e.inputs.seedling,(function(t,i){return n("v-card",{key:i,staticClass:"elevation-0"},[n("v-card-title",{staticStyle:{"font-size":"15px"}},[n("v-avatar",{staticClass:"mr-2",attrs:{size:"23",color:"grey darken-2 white--text"}},[e._v(" "+e._s(i+1))]),e._v(" "+e._s(t.lahan_no)+" "),n("v-divider",{staticClass:"ml-2"})],1),n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12",lg:"6"}},[n("v-card",{staticClass:"rounded-xl",attrs:{"data-aos-delay":"100"}},[n("v-card-text",{staticClass:"pb-0 d-flex align-center"},[n("v-chip",{attrs:{color:"green white--text"}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-pine-tree-box")]),e._v(" Original")],1),n("v-divider",{staticClass:"mx-2"}),n("v-chip",{attrs:{color:"green darken-2 white--text"}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-sprout")]),e._v(" "+e._s(e.$store.getters.numberFormat(e.getTotalTrees(t.old))))],1)],1),n("v-card-text",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("No")]),n("th",[e._v("Tree")]),n("th",[e._v("Amount")])])]),n("tbody",e._l(t.old,(function(t,i){return n("tr",{key:i},[n("td",[e._v(e._s(i+1))]),n("td",[e._v(e._s(t.tree_name))]),n("td",[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-sprout")]),e._v(e._s(e.$store.getters.numberFormat(t.amount)))],1)])})),0)])],1)],1)],1),n("v-col",{attrs:{cols:"12",lg:"6"}},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){a.hover;return[n("v-card",{staticClass:"rounded-xl",attrs:{"data-aos-delay":"200"}},[n("v-card-text",{staticClass:"pb-0 d-flex align-center"},[n("v-chip",{staticClass:"pl-1",attrs:{color:"orange white--text"}},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-pencil-circle")]),e._v(" Change")],1),n("v-divider",{staticClass:"mx-2"}),n("v-chip",{attrs:{color:"orange darken-2 white--text"}},[n("v-icon",{staticClass:"mr-1",attrs:{small:""}},[e._v("mdi-sprout")]),e._v(" "+e._s(e.$store.getters.numberFormat(e.getTotalTrees(t.new))))],1)],1),n("v-card-text",[n("v-simple-table",[n("thead",[n("tr",[n("th",[e._v("No")]),n("th",[e._v("Tree")]),n("th",{staticClass:"text-right"},[e._v("Amount")])])]),n("tbody",e._l(t.new,(function(a,s){return n("tr",{key:s},[n("td",[e._v(e._s(s+1))]),n("td",{class:e.getNewSeedlingColor(a,i)},[e._v(e._s(a.tree_name))]),n("td",{staticClass:"d-flex align-center justify-end",staticStyle:{gap:"5px"}},[n("v-text-field",{staticStyle:{"max-width":"150px"},attrs:{"hide-details":"",dense:"",outlined:"",rounded:"",color:"orange",type:"number",min:"0","prepend-inner-icon":"mdi-sprout"},model:{value:a.amount,callback:function(t){e.$set(a,"amount",t)},expression:"tree.amount"}}),n("v-icon",{attrs:{color:"red"},on:{click:function(){return e.deleteSeedling(a,t)}}},[e._v("mdi-delete-circle")])],1)])})),0)]),n("div",{staticClass:"d-flex align-center mt-2"},[n("v-divider",{staticClass:"mr-2"}),n("v-autocomplete",{staticStyle:{"max-width":"225px"},attrs:{"hide-details":"",rounded:"",outlined:"",dense:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},"return-object":"",color:"orange","item-color":"orange",label:"Add New Seedling","item-text":"tree_name","item-value":"tree_code",items:e.trees.items},model:{value:e.trees.model,callback:function(t){e.$set(e.trees,"model",t)},expression:"trees.model"}}),n("v-btn",{staticClass:"ml-2",attrs:{disabled:!e.trees.model,fab:"",rounded:"",color:"orange white--text","x-small":""},on:{click:function(){e.addNewSeedling(t)}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-plus")])],1)],1)],1)],1)]}}],null,!0)})],1)],1)],1)],1)})),1):n("div",{staticStyle:{height:"350px"}}),n("v-row",{staticClass:"my-1 mt-3 mx-0 align-center"},[n("v-btn",{attrs:{rounded:"",outlined:"",color:"orange"},on:{click:function(){return e.stepper.model-=1}}},[n("v-icon",[e._v("mdi-chevron-left")]),e._v(" Back")],1),n("v-divider",{staticClass:"mx-2"}),n("v-btn",{attrs:{rounded:"",outlined:"",color:"orange",disabled:e.disabledNext2},on:{click:function(){e.stepper.model+=1}}},[e._v("Next "),n("v-icon",[e._v("mdi-chevron-right")])],1)],1)],1),n("v-stepper-step",{attrs:{color:"orange",step:"3"}},[e._v(" Seedling Confirmation & Reason ")]),n("v-stepper-content",{attrs:{step:"3"}},[n("v-row",{staticClass:"my-0"},[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"d-flex align-center my-2"},[n("v-icon",{staticClass:"mr-1"},[e._v("mdi-order-bool-ascending-variant")]),n("p",{staticClass:"mb-0"},[e._v("Seedling Confirmation")]),n("v-divider",{staticClass:"ml-2"})],1),n("v-data-table",{attrs:{dense:"","hide-default-footer":"","items-per-page":-1,"multi-sort":"",headers:e.inputs.seedlingFinal.headers,items:e.inputs.seedlingFinal.items},scopedSlots:e._u([{key:"item.no",fn:function(t){var n=t.index;return[e._v(" "+e._s(n+1)+" ")]}},{key:"item.type",fn:function(t){var i=t.item;return[n("v-chip",{attrs:{small:"",color:e.getTypeColorAndLabel("color",i.type)}},[e._v(e._s(e.getTypeColorAndLabel("label",i.type)))])]}},{key:"header.new_amount",fn:function(){return[n("v-icon",{},[e._v("mdi-counter")]),e._v(" Amount ")]},proxy:!0},{key:"item.new_amount",fn:function(t){var i=t.item;return[n("v-icon",{attrs:{color:e.getTypeColorAndLabel("color",i.type)}},[e._v("mdi-sprout")]),e._v(" "+e._s(i.old_amount)+" "),"same"!=i.type?n("span",[n("v-icon",{attrs:{small:""}},[e._v("mdi-chevron-double-right")]),e._v(" "+e._s(i.new_amount)+" ")],1):e._e()]}},{key:"header.is_checked",fn:function(){return[n("v-icon",{attrs:{small:""}},[e._v("mdi-checkbox-marked-circle-outline")]),e._v(" Confirm ("+e._s(e.inputs.seedlingFinal.items.filter((function(e){return!0===e.is_checked})).length)+"/"+e._s(e.inputs.seedlingFinal.items.length)+") ")]},proxy:!0},{key:"item.is_checked",fn:function(t){var i=t.item;return[n("v-row",{staticClass:"justify-center"},[n("v-checkbox",{attrs:{"off-icon":"mdi-circle-outline","on-icon":"mdi-check-circle",color:"green",label:i.is_checked?"Confirmed":"Check"},model:{value:i.is_checked,callback:function(t){e.$set(i,"is_checked",t)},expression:"item.is_checked"}})],1)]}}])})],1),n("v-col",{attrs:{cols:"12"}},[n("v-textarea",{attrs:{rounded:"",outlined:"",dense:"","hide-details":"",color:"green",label:e.inputs.notes.label,rows:"3","prepend-icon":"mdi-note-edit"},model:{value:e.inputs.notes.model,callback:function(t){e.$set(e.inputs.notes,"model",t)},expression:"inputs.notes.model"}})],1)],1),n("v-row",{staticClass:"my-1 mt-2 mx-0 align-center"},[n("v-btn",{attrs:{rounded:"",outlined:"",color:"orange"},on:{click:function(){return e.stepper.model-=1}}},[n("v-icon",[e._v("mdi-chevron-left")]),e._v(" Back")],1),n("v-divider",{staticClass:"mx-2",attrs:{color:"white"}}),n("v-btn",{attrs:{rounded:"",color:"orange white--text",disabled:e.disabledSendRequest},on:{click:function(){return e.dialogs.confirmation.model=!0}}},[e._v(" Send Request "),n("v-icon",{staticClass:"ml-1"},[e._v("mdi-send")])],1)],1)],1)],1),n("v-snackbar",{staticClass:"d-flex",attrs:{color:e.snackbar.color,timeout:e.snackbar.timeout,"multi-line":e.snackbar.multiLine,rounded:"xl"},model:{value:e.snackbar.show,callback:function(t){e.$set(e.snackbar,"show",t)},expression:"snackbar.show"}},[n("div",{staticClass:"d-flex justify-between"},[n("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.snackbar.text)+" ")]),n("v-spacer"),n("v-icon",{staticClass:"pl-1",attrs:{small:""},on:{click:function(){return e.snackbar.show=!1}}},[e._v("mdi-close-circle")])],1)])],1)],1)],1)],1)},a=[],s=n("2909"),r=n("1da1"),o=(n("96cf"),n("a9e3"),n("7db0"),n("b0c0"),n("99af"),n("159b"),n("caad"),n("d81d"),n("d3b7"),n("3ca3"),n("ddb0"),n("2b3d"),n("2532"),n("25f0"),n("c740"),n("a434"),n("bc3a")),l=n.n(o),u=n("e135"),c=n("caa4"),d=(n("3e8f"),{components:{formRequestHelp:u["default"],createConfirmation:c["default"]},props:{show:{type:Boolean,default:!1},landProgram:{type:String,default:""},programYear:{type:String|Number,default:""}},data:function(){return{alert:{type:"info",message:"Select Nursery"},dialogs:{help:{model:!1},confirmation:{model:!1}},inputs:{programYear:{label:"Program Year",model:null,loading:!1},landProgram:{label:"Land Program",items:["Petani","Umum"],model:""},nursery:{disabled:!1,model:"",items:["Arjasari","Ciminyak","Kebumen","Pati"]},distributionDate:{datepicker:{show:!1,key:1315432},label:"Distribution Date",loading:!1,model:""},mu:{items:[],model:"",loading:!1},ff:{items:[],model:"",loading:!1},pic_t4t:{items:[],model:"",loading:!1},farmer:{items:[],model:"",loading:!1},mou:{items:[],model:"",loading:!1},land:{items:[],model:"",loading:!1},activitiesStep:{last:"",model:0},seedling:[],seedlingFinal:{headers:[{text:"No",value:"no",align:"center",width:"20px",sortable:!1},{text:"Lahan No",value:"lahan_no"},{text:"Jenis",value:"tree_name"},{text:"Status",value:"type",align:"center"},{text:"Amount",value:"new_amount"},{text:"CHECK",value:"is_checked",align:"center"}],items:[],lahan_no:""},notes:{label:"Reason Notes",model:""}},loading:{show:!1,text:""},trees:{items:[],model:""},settings:{prefixUrl:"SeedlingChangeRequest/"},snackbar:{color:"green",timeout:5e3,show:!1,text:"Alert!",multiLine:!1},stepper:{model:1}}},watch:{"inputs.nursery.model":{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e||!t.inputs.distributionDate.model){n.next=3;break}return n.next=3,t.getMU();case 3:case"end":return n.stop()}}),n)})))()}},"inputs.distributionDate.model":{handler:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e||!t.inputs.distributionDate.model){n.next=3;break}return n.next=3,t.getMU();case 3:case"end":return n.stop()}}),n)})))()}}},computed:{showDialog:{get:function(){return 1==this.show&&this.initialize(),this.show},set:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:0==t&&(this.$emit("close",{name:"create"}),this.resetData());case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},stepper1TitleComplete:function(){var e=this,t="",n=this.inputs.landProgram.model,i=this.inputs.mu.items.find((function(t){return t.mu_no==e.inputs.mu.model}));if(i&&(t+=i.name),"Petani"==n){var a=this.inputs.ff.items.find((function(t){return t.ff_no==e.inputs.ff.model}));a&&(t+=" > FF: ".concat(a.ff_name));var s=this.inputs.farmer.items.find((function(t){return t.farmer_no==e.inputs.farmer.model}));s&&(t+=" > Petani: ".concat(s.farmer_name))}else if("Umum"==n){var r=this.inputs.pic_t4t.items.find((function(t){return t.employee_no==e.inputs.pic_t4t.model}));r&&(t+=" > PIC T4T: ".concat(r.employee_name));var o=this.inputs.mou.items.find((function(t){return t.mou_no==e.inputs.mou.model}));o&&(t+=" > PIC Lahan: ".concat(o.pic_lahan," ~ ").concat(o.mou_no))}return t+=" > ".concat(this.inputs.land.items.length," Lahan"),t},stepper2TitleComplete:function(){var e=JSON.parse(JSON.stringify(this.inputs.seedling)),t=0,n=0,i=[];return e.forEach((function(e,a){e.old.forEach((function(e){t+=parseInt(e.amount)})),e.new.forEach((function(t,a){n+=parseInt(t.amount);var s=e.old.find((function(e){return e.tree_code===t.tree_code}));!s&&t.amount>0&&0==i.includes(t.tree_code)&&i.push(t.tree_code)}))})),this.setFinalSeedling(),"Total from ".concat(t," to ").concat(n," with ").concat(i.length," new seedling")},disabledInputMU:function(){var e=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(e=!0),e},disabledInputFF:function(){var e=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(e=!0),this.inputs.mu.model||(e=!0),e},disabledInputFarmer:function(){var e=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(e=!0),this.inputs.mu.model||(e=!0),this.inputs.ff.model||(e=!0),e},disabledInputMOU:function(){var e=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(e=!0),this.inputs.mu.model||(e=!0),this.inputs.pic_t4t.model||(e=!0),e},disabledInputLand:function(){var e=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(e=!0),this.inputs.mu.model||(e=!0),this.inputs.ff.model||(e=!0),this.inputs.farmer.model||(e=!0),e},disabledNext1:function(){var e=!1;return this.inputs.programYear.model||(e=!0),this.inputs.landProgram.model||(e=!0),this.inputs.nursery.model||(e=!0),this.inputs.distributionDate.model||(e=!0),this.inputs.mu.model||(e=!0),"Petani"==this.inputs.landProgram.model?(this.inputs.ff.model||(e=!0),this.inputs.farmer.model||(e=!0)):"Umum"==this.inputs.landProgram.model&&(this.inputs.pic_t4t.model||(e=!0),this.inputs.mou.model||(e=!0)),0==this.inputs.land.items.length&&(e=!0),this.inputs.activitiesStep.model<3&&(e=!0),e},disabledNext2:function(){return!1},disabledSendRequest:function(){var e=!1,t=this.inputs.seedlingFinal.items;if(t.length<1)e=!0;else{var n=0;t.map((function(e){1==e.is_checked&&(n+=1)})),t.length>n&&(e=!0)}return this.inputs.notes.model||(e=!0),e}},mounted:function(){return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{initialize:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.stepper.model=1,e.inputs.programYear.model=e.programYear||e.$store.state.programYear.model,e.inputs.landProgram.model=e.landProgram||"Petani",t.next=5,e.setNurserySite();case 5:case"end":return t.stop()}}),t)})))()},getMU:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.inputs.mu.loading=!0,e.inputs.mu.model="",e.inputs.mu.items=[],e.inputs.ff.model="",e.inputs.ff.items=[],e.inputs.pic_t4t.model="",e.inputs.pic_t4t.items=[],e.inputs.farmer.model="",e.inputs.farmer.items=[],e.inputs.mou.model="",e.inputs.mou.items=[],e.inputs.land.model="",e.inputs.land.items=[],n=new URLSearchParams({program_year:e.inputs.programYear.model,land_program:e.inputs.landProgram.model,nursery:e.inputs.nursery.model,distribution_date:e.inputs.distributionDate.model}),i=e.$store.getters.getApiUrl("".concat(e.settings.prefixUrl,"GetMU?").concat(n)),t.next=18,l.a.get(i,e.$store.state.apiConfig).then((function(e){return e.data}));case 18:a=t.sent,e.inputs.mu.items=a.list,t.next=26;break;case 22:t.prev=22,t.t0=t["catch"](0),e.sessionEnd(t.t0),console.log(t.t0);case 26:return t.prev=26,e.inputs.mu.loading=!1,t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[0,22,26,29]])})))()},getFForPICT4T:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,s,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=23;break}return i=t.inputs.programYear.model,a=t.inputs.landProgram.model,t.alert.message="Select FF",t.inputs.ff.loading=!0,t.inputs.ff.model="",t.inputs.ff.items=[],t.inputs.farmer.model="",t.inputs.farmer.items=[],t.inputs.pic_t4t.loading=!0,t.inputs.pic_t4t.model="",t.inputs.pic_t4t.items=[],t.inputs.mou.model="",t.inputs.mou.items=[],t.inputs.land.model="",t.inputs.land.items=[],s=new URLSearchParams({program_year:i,land_program:a,mu_no:e,distribution_date:t.inputs.distributionDate.model}),r=t.$store.getters.getApiUrl("".concat(t.settings.prefixUrl,"GetFF?").concat(s)),n.next=21,l.a.get(r,t.$store.state.apiConfig).then((function(e){return e.data}));case 21:o=n.sent,"Petani"==a?t.inputs.ff.items=o.list:"Umum"==a&&(t.inputs.pic_t4t.items=o.list);case 23:n.next=29;break;case 25:n.prev=25,n.t0=n["catch"](0),t.sessionEnd(n.t0),console.log(n.t0);case 29:return n.prev=29,t.inputs.ff.loading=!1,t.inputs.pic_t4t.loading=!1,n.finish(29);case 33:case"end":return n.stop()}}),n,null,[[0,25,29,33]])})))()},getFarmerOrMOU:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,s,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=23;break}if(i=t.inputs.programYear.model,a=t.inputs.landProgram.model,t.inputs.farmer.loading=!0,t.inputs.farmer.model="",t.inputs.farmer.items=[],t.inputs.mou.loading=!0,t.inputs.mou.model="",t.inputs.mou.items=[],t.inputs.land.model="",t.inputs.land.items=[],s=new URLSearchParams({program_year:i,land_program:a,ff_no:e,distribution_date:t.inputs.distributionDate.model}),"Umum"!=a){n.next=18;break}return n.next=16,s.delete("ff_no");case 16:return n.next=18,s.set("employee_no",t.inputs.pic_t4t.model);case 18:return r=t.$store.getters.getApiUrl("".concat(t.settings.prefixUrl,"GetFarmer?").concat(s)),n.next=21,l.a.get(r,t.$store.state.apiConfig).then((function(e){return e.data}));case 21:o=n.sent,"Petani"==a?t.inputs.farmer.items=o.list:"Umum"==a&&(t.inputs.mou.items=o.list);case 23:n.next=29;break;case 25:n.prev=25,n.t0=n["catch"](0),t.sessionEnd(n.t0),console.log(n.t0);case 29:return n.prev=29,t.inputs.farmer.loading=!1,t.inputs.mou.loading=!1,n.finish(29);case 33:case"end":return n.stop()}}),n,null,[[0,25,29,33]])})))()},getLand:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,s,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!e){n.next=28;break}if(i=t.inputs.programYear.model,a=t.inputs.landProgram.model,t.alert.message="Select Land",t.loading.show=!0,t.loading.text="Getting land data...",t.inputs.land.model="",t.inputs.land.items=[],s=new URLSearchParams({program_year:i,land_program:a,farmer_no:e,distribution_date:t.inputs.distributionDate.model}),"Umum"!=a){n.next=15;break}return n.next=13,s.delete("farmer_no");case 13:return n.next=15,s.set("mou_no",t.inputs.mou.model);case 15:return r=t.$store.getters.getApiUrl("".concat(t.settings.prefixUrl,"GetLand?").concat(s)),n.next=18,l.a.get(r,t.$store.state.apiConfig).then((function(e){return e.data}));case 18:o=n.sent,o.activities.includes("Pendataan Lahan")&&(t.inputs.activitiesStep.model=1),o.activities.includes("Sosialisasi Tanam")&&(t.inputs.activitiesStep.model=2),o.activities.includes("Penilikan Lubang")&&(t.inputs.activitiesStep.model=3),o.activities.includes("Print Label")&&(t.inputs.activitiesStep.model=4),o.activities.includes("Load Bag")&&(t.inputs.activitiesStep.model=5),o.activities.includes("Distribute Bag")&&(t.inputs.activitiesStep.model=6),o.activities.includes("Realisasi Tanam")&&(t.inputs.activitiesStep.model=7),t.inputs.activitiesStep.last=o.activities[o.activities.length-1],t.inputs.land.items=o.list;case 28:n.next=34;break;case 30:n.prev=30,n.t0=n["catch"](0),t.sessionEnd(n.t0),console.log(n.t0);case 34:return n.prev=34,t.loading.show=!1,n.finish(34);case 37:case"end":return n.stop()}}),n,null,[[0,30,34,37]])})))()},getLandDetail:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i=new URLSearchParams({lahan_no:e,land_program:t.inputs.landProgram.model,program_year:t.inputs.programYear.model}),a=t.$store.getters.getApiUrl("".concat(t.settings.prefixUrl,"GetLandDetail?").concat(i)),n.next=5,l.a.get(a,t.$store.state.apiConfig).then((function(e){return e.data}));case 5:return s=n.sent,n.abrupt("return",s.penlub_bibit);case 9:return n.prev=9,n.t0=n["catch"](0),t.sessionEnd(n.t0),console.log(n.t0),n.abrupt("return",!1);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getTreesLocations:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,i=new URLSearchParams({mu_no:e}),a=t.$store.getters.getApiUrl("".concat(t.settings.prefixUrl,"GetTreesPerMU?").concat(i)),n.next=5,l.a.get(a,t.$store.state.apiConfig).then((function(e){return e.data}));case 5:return s=n.sent,n.abrupt("return",s);case 9:return n.prev=9,n.t0=n["catch"](0),t.sessionEnd(n.t0),console.log(n.t0),n.abrupt("return",!1);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})))()},getSeedlingChangeData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.inputs.seedling=[],n=e.inputs.land.items,i=n.length,a=0,e.loading.show=!0,e.inputs.seedling=[],!(i>0)){t.next=19;break}s=0;case 9:if(!(s<i)){t.next=19;break}return e.loading.text="Getting land data (".concat(a,"/").concat(i,")..."),t.next=13,e.getLandDetail(n[s].lahan_no);case 13:r=t.sent,e.inputs.seedling.push(Object.assign({},{lahan_no:n[s].lahan_no,old:r,new:JSON.parse(JSON.stringify(r))})),a+=1;case 16:s++,t.next=9;break;case 19:return e.loading.text="Getting trees data...",t.next=22,e.getTreesLocations(e.inputs.mu.model);case 22:o=t.sent,e.trees.items=o,t.next=30;break;case 26:t.prev=26,t.t0=t["catch"](0),e.sessionEnd(t.t0),console.log(t.t0);case 30:return t.prev=30,e.loading.show=!1,e.loading.text="Loading...",t.finish(30);case 34:case"end":return t.stop()}}),t,null,[[0,26,30,34]])})))()},setFinalSeedling:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.delegateYield(regeneratorRuntime.mark((function t(){var n,i,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.inputs.seedlingFinal.lahan_no="",e.inputs.seedlingFinal.items=[],n=JSON.parse(JSON.stringify(e.inputs.seedling)),i=[],a=[],s=regeneratorRuntime.mark((function e(t){var s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=n[t],r=s.new,o=s.old,i.push(s.lahan_no),e.next=6,r.map((function(e){var t=o.find((function(t){return t.tree_code===e.tree_code})),n=0;t&&(n=t.amount);var i=e.amount,r="";r=n==i?"same":"change",0==n&&(r="new"),0==i&&(r="remove");var l={lahan_no:s.lahan_no,type:r,tree_code:e.tree_code,tree_name:e.tree_name,old_amount:n,new_amount:i,is_checked:0};r&&(n>0||i>0)&&a.push(l)}));case 6:case"end":return e.stop()}}),e)})),r=0;case 7:if(!(r<n.length)){t.next=12;break}return t.delegateYield(s(r),"t0",9);case 9:r++,t.next=7;break;case 12:i=i.toString(),e.inputs.seedlingFinal.lahan_no=i,e.inputs.seedlingFinal.items=a;case 15:case"end":return t.stop()}}),t)}))(),"t0",2);case 2:t.next=9;break;case 4:return t.prev=4,t.t1=t["catch"](0),e.sessionEnd(t.t1),console.log(t.t1),t.abrupt("return",!1);case 9:return t.prev=9,t.finish(9);case 11:case"end":return t.stop()}}),t,null,[[0,4,9,11]])})))()},sendRequest:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.dialogs.confirmation.model=!1,e.loading.show=!0,e.loading.text="Sending request...",n=e.inputs,i=e.$store.getters.getApiUrl("".concat(e.settings.prefixUrl,"AddRequest")),a=e.$store.state.apiConfig,s={program_year:n.programYear.model,land_program:n.landProgram.model,distribution_date:n.distributionDate.model,nursery:n.nursery.model,mu_no:n.mu.model,lahan_no:n.seedlingFinal.lahan_no,notes:n.notes.model,seedlings:JSON.parse(JSON.stringify(n.seedlingFinal.items)),last_activity:n.activitiesStep.last},"Petani"==s.land_program?s.farmer_no=n.farmer.model:"Umum"==s.land_program&&(s.mou_no=n.mou.model),t.next=11,l.a.post(i,s,a);case 11:r=t.sent,r&&(e.resetData(),e.$emit("close",{name:"create",snackbar:{text:"Send request success!",color:"green",show:!0}})),t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](0),e.sessionEnd(t.t0),console.log(t.t0);case 19:return t.prev=19,e.loading.show=!1,e.loading.text="Loading...",t.finish(19);case 23:case"end":return t.stop()}}),t,null,[[0,15,19,23]])})))()},addNewSeedling:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.new,a=t.trees.model,n.next=4,i.find((function(e){return e.tree_code===a.tree_code}));case 4:s=n.sent,s?(t.snackbar.text="Already exist!",t.snackbar.color="red"):(t.snackbar.text="Added new seedling!",t.snackbar.color="green",r={tree_code:a.tree_code,tree_name:a.tree_name,tree_category:a.tree_category,amount:0},i.push(r)),t.snackbar.timeout=1e3,t.snackbar.show=!0,t.trees.model="";case 9:case"end":return n.stop()}}),n)})))()},deleteSeedling:function(e,t){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){var a,s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:try{a=t.old.find((function(t){return t.tree_code===e.tree_code})),a?(e.amount=0,n.snackbar.text="Seedling Cleared!"):(s=t.new.findIndex((function(t){return t.tree_code===e.tree_code})),t.new.splice(s,1),n.snackbar.text="Seedling Deleted!"),n.snackbar.color="green"}catch(r){n.snackbar.text="Failed to delete!",n.snackbar.color="red"}finally{n.snackbar.show=!0}case 1:case"end":return i.stop()}}),i)})))()},getNewSeedlingColor:function(e,t){var n=this.inputs.seedling[t].old,i=n.find((function(t){return t.tree_code==e.tree_code})),a="";return a=i?i.amount!=e.amount?0==e.amount?"red--text":"orange--text":"":"blue--text",a+(a?" font-weight-bold":"")},getTotalTrees:function(e){try{if(e.length>0){var t=0;return e.forEach((function(e){t+=parseInt(e.amount)})),t}return 0}catch(n){return 0}},getTypeColorAndLabel:function(e,t){if("color"==e){var n="grey darken-1";return"remove"==t&&(n="red"),"change"==t&&(n="orange"),"new"==t&&(n="blue"),n+" white--text"}var i="TETAP";return"remove"==t&&(i="HAPUS"),"change"==t&&(i="BERUBAH"),"new"==t&&(i="BARU"),i},resetData:function(){this.inputs.programYear.model="",this.inputs.nursery.model="",this.inputs.nursery.disabled=!1,this.inputs.distributionDate.model="",this.inputs.mu.model="",this.inputs.ff.model="",this.inputs.pic_t4t.model="",this.inputs.farmer.model="",this.inputs.mou.model="",this.inputs.land.model="",this.inputs.notes.model="",this.inputs.activitiesStep.last="",this.inputs.activitiesStep.model=0},sessionEnd:function(e){e.response&&"undefined"!=typeof e.response.status&&(401==e.response.status?(localStorage.removeItem("token"),this.$router.push("/")):400==e.response.status&&(this.snackbar.text=e.response.data,this.snackbar.color="red",this.snackbar.show=!0))},setNurserySite:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,i,a,r,o,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=e.$store.state.nurseryTeam.emails.Arjasari,i=e.$store.state.nurseryTeam.emails.Ciminyak,a=[].concat(Object(s["a"])(e.$store.state.nurseryTeam.emails.Kebumen),["rizki.pradhitya@trees4trees.org"]),r=[].concat(Object(s["a"])(e.$store.state.nurseryTeam.emails.Pati),["um_pati@t4t.org"]),o=e.$store.state.User,l=o.email,u=e.inputs.nursery.model,n.includes(l)?u="Arjasari":i.includes(l)?u="Ciminyak":a.includes(l)?u="Kebumen":r.includes(l)&&(u="Pati"),u&&"IT"!=o.role_group&&(e.inputs.nursery.disabled=!0),e.inputs.nursery.model=u;case 10:case"end":return t.stop()}}),t)})))()},setTesterData:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("Umum"!=e.landProgram){t.next=20;break}return t.next=3,"Arjasari";case 3:return e.inputs.nursery.model=t.sent,t.next=6,"2023-02-07";case 6:return e.inputs.distributionDate.model=t.sent,t.next=9,e.getMU();case 9:return e.inputs.mu.model="022",t.next=12,e.getFForPICT4T("022");case 12:return e.inputs.pic_t4t.model="04-0006",t.next=15,e.getFarmerOrMOU("04-0006");case 15:return e.inputs.mou.model="112/T4T-U/CRS-I/XI/2022",t.next=18,e.getLand("112/T4T-U/CRS-I/XI/2022");case 18:t.next=38;break;case 20:if("Petani"!=e.landProgram){t.next=38;break}return t.next=23,"Kebumen";case 23:return e.inputs.nursery.model=t.sent,t.next=26,"2022-12-05";case 26:return e.inputs.distributionDate.model=t.sent,t.next=29,e.getMU();case 29:return e.inputs.mu.model="019",t.next=32,e.getFForPICT4T("019");case 32:return e.inputs.ff.model="FF00000992",t.next=35,e.getFarmerOrMOU("FF00000992");case 35:return e.inputs.farmer.model="F00019831",t.next=38,e.getLand("F00019831");case 38:return e.stepper.model=2,t.next=41,e.getSeedlingChangeData();case 41:return e.inputs.seedling[0].new[0].amount=0,e.inputs.seedling[0].new[1].amount=3,e.inputs.seedling[0].new[3].amount=23,e.inputs.seedling[0].new.push({tree_code:e.trees.items[2].tree_code,tree_name:e.trees.items[2].tree_name,amount:9}),t.next=47,e.setFinalSeedling();case 47:e.stepper.model=3,setTimeout((function(){e.inputs.notes.model="Tester change request...",e.dialogs.confirmation.model=!0,setTimeout((function(){e.sendRequest()}),1e3)}),1e3);case 49:case"end":return t.stop()}}),t)})))()}}}),m=d,p=n("2877"),v=n("6544"),h=n.n(v),f=n("c6a6"),g=n("8212"),b=n("8336"),_=n("b0af"),x=n("99d9"),w=n("ac7c"),k=n("cc20"),y=n("62ad"),C=n("8fea"),S=n("2e4b"),R=n("169a"),P=n("ce7e"),D=n("ce87"),T=n("132d"),F=n("5d23"),I=n("e449"),$=n("a797"),V=n("490a"),O=n("0fd9"),A=n("1f4f"),U=n("2db4"),L=n("2fa4"),j=n("7e85"),N=n("e516"),M=n("9c54"),Y=n("56a4"),B=n("8654"),E=n("a844"),z=Object(p["a"])(m,i,a,!1,null,null,null);t["default"]=z.exports;h()(z,{VAutocomplete:f["a"],VAvatar:g["a"],VBtn:b["a"],VCard:_["a"],VCardText:x["c"],VCardTitle:x["d"],VCheckbox:w["a"],VChip:k["a"],VCol:y["a"],VDataTable:C["a"],VDatePicker:S["a"],VDialog:R["a"],VDivider:P["a"],VHover:D["a"],VIcon:T["a"],VListItemContent:F["a"],VListItemSubtitle:F["b"],VListItemTitle:F["c"],VMenu:I["a"],VOverlay:$["a"],VProgressCircular:V["a"],VRow:O["a"],VSimpleTable:A["a"],VSnackbar:U["a"],VSpacer:L["a"],VStepper:j["a"],VStepperContent:N["a"],VStepperHeader:M["a"],VStepperStep:Y["a"],VTextField:B["a"],VTextarea:E["a"]})},fe09:function(e,t,n){"use strict";n("d3b7"),n("25f0"),n("4de4");var i=n("c37a"),a=n("5607"),s=n("2b0e"),r=s["default"].extend({name:"rippleable",directives:{ripple:a["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(e.staticClass="v-input--selection-controls__ripple",e.directives=e.directives||[],e.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",e)):null}}}),o=n("8547"),l=n("58df");function u(e){e.preventDefault()}t["a"]=Object(l["a"])(i["a"],r,o["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var e=this,t=this.value,n=this.internalValue;return this.isMultiple?!!Array.isArray(n)&&n.some((function(n){return e.valueComparator(n,t)})):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,n):Boolean(n):this.valueComparator(n,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(e){this.lazyValue=e,this.hasColor=e}},methods:{genLabel:function(){var e=i["a"].options.methods.genLabel.call(this);return e?(e.data.on={click:u},e):e},genInput:function(e,t){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:e,type:e},t),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:u},ref:"input"})},onBlur:function(){this.isFocused=!1},onClick:function(e){this.onChange(),this.$emit("click",e)},onChange:function(){var e=this;if(this.isInteractive){var t=this.value,n=this.internalValue;if(this.isMultiple){Array.isArray(n)||(n=[]);var i=n.length;n=n.filter((function(n){return!e.valueComparator(n,t)})),n.length===i&&n.push(t)}else n=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(n,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(n,t)?null:t:!n;this.validate(!0,n),this.internalValue=n,this.hasColor=n}},onFocus:function(){this.isFocused=!0},onKeydown:function(e){}}})}}]);
//# sourceMappingURL=chunk-4c9dc17f.309d3765.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b8b2d"],{3093:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{scrollable:"","max-width":"2500px",transition:"dialog-transition","content-class":"rounded-xl"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[a("v-card",[e.data?a("v-card-title",{staticClass:"rounded-xl green darken-3 ma-1 pa-2 white--text"},[a("v-icon",{staticClass:"mx-2",attrs:{color:"white"}},[e._v("mdi-account-details")]),e._v(" List Petani & Lahan FF "),a("v-icon",{staticClass:"ml-auto",attrs:{color:"white"},on:{click:function(t){e.showModal=!1}}},[e._v("mdi-close-circle")])],1):e._e(),a("v-card-text",[a("v-row",{staticClass:"align-center ma-0 my-2"},[e._v(" FF: "+e._s(e.data&&e.data.ffName||"-")+" "),a("v-divider",{staticClass:"mx-2"}),a("v-select",{staticClass:"mt-2 mr-1",staticStyle:{"max-width":"175px"},attrs:{dense:"",color:"success","item-color":"success","menu-props":{rounded:"xl",offsetY:!0,transition:"slide-y-transition"},"hide-details":"",rounded:"",disabled:e.table.loading.show,items:e.$store.state.programYear.options,label:"Program Year",rules:[function(e){return!!e||"Field is required"}],outlined:""},model:{value:e.options.programYear,callback:function(t){e.$set(e.options,"programYear",t)},expression:"options.programYear"}})],1),a("table",{staticStyle:{border:"2px solid black","border-collapse":"collapse",display:"none"},attrs:{id:"tableForExportLahanPetaniDashboard",border:"1"}},[a("tr",[a("th",{staticStyle:{"text-align":"center","font-size":"15px"},attrs:{colspan:e.table.headers.length,align:"center"}},[e._v("Tahun Program: "+e._s(e.options.programYear))])]),a("tr",[a("th",{staticStyle:{"text-align":"center","font-size":"20px"},attrs:{colspan:e.table.headers.length,align:"center"}},[a("h2",[e._v(" Data Petani & Lahan FF "+e._s(e.data&&e.data.ffName||"-")+" ")])])]),a("tr",[a("td",{staticStyle:{"text-align":"center"},attrs:{colspan:e.table.headers.length}},[a("small",[e._v(" Export Time: "+e._s(Date())+" ")])])]),a("tr",[a("td",{attrs:{colspan:e.table.headers.length}})]),a("tr",e._l(e.table.headers,(function(t){return a("th",{key:"tableForExportLahanPetaniDashboard"+t.value,staticClass:"green darken-2 white--text"},[e._v(" "+e._s(t.text)+" "),"land_area"==t.value?a("div",[e._v("(m"),a("sup",[e._v("2")]),e._v(")")]):e._e(),"tutupan_lahan"==t.value?a("div",[e._v("(%)")]):e._e()])})),0),e._l(e.tableItemsData,(function(t,n){return a("tr",{key:"itemtableForExportLahanPetaniDashboard"+n,class:(n%2==0?"white":"grey")+" lighten-4"},e._l(e.table.headers,(function(r,s){return a("td",{key:"tableItemForExportLahanPetaniDashboard"+r.value,class:("farmer_status"==r.value?0==t[r.value]||1==t[r.value]?1==t[r.value]?"green":"orange":"red":"lahan_approve"==r.value?0==t.lahan_complete||t.jenis_bibit&&0==t.jenis_bibit.length?"red":0==t[r.value]||1==t[r.value]?1==t[r.value]?"green":"orange":"red":"")+" lighten-3"},["index"==r.value?a("span",[e._v(" "+e._s(n+1)+" ")]):"farmer_status"==r.value?a("span",[e._v(" "+e._s(0==t[r.value]||1==t[r.value]?1==t[r.value]?"Terverifikasi":"Belum Verifikasi":"Belum Ada Data")+" ")]):"lahan_approve"==r.value?a("span",[0==t.lahan_complete||t.jenis_bibit&&0==t.jenis_bibit.length?a("span",[e._v(" Belum Lengkap ")]):a("span",[e._v(" "+e._s(0==t[r.value]||1==t[r.value]?1==t[r.value]?"Terverifikasi":"Belum Verifikasi":"Belum Ada Data")+" ")])]):"jenis_bibit"==r.value?a("span",[e._v(" "+e._s(t[r.value]?t[r.value].toString():"")+" ")]):a("span",[e._v(" "+e._s(t[r.value])+" ")])])})),0)}))],2),e.tableItems?a("v-data-table",{staticClass:"elevation-1 rounded-xl",staticStyle:{position:"relative"},attrs:{headers:e.table.headers,items:e.tableItemsData,loading:e.table.loading.show,search:e.table.loading.search,"hide-default-footer":"","items-per-page":-1},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-overlay",{attrs:{absolute:"",color:"white",value:e.table.loading.show}},[a("div",{staticClass:"d-flex flex-column justify-center align-center"},[a("v-progress-circular",{attrs:{size:80,width:10,indeterminate:"",color:"green"}}),a("p",{staticClass:"mt-2 mb-0 green--text text--darken-2"},[e._v(e._s(e.table.loading.text))])],1)])]},proxy:!0},{key:"header.farmer_status",fn:function(){return[e._v(" Status Petani "),a("v-menu",{attrs:{rounded:"xl",bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1,"content-class":"rounded-xl"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ml-1",attrs:{disabled:e.table.loading.show,fab:"",color:"orange white--text","x-small":""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-filter")])],1)]}}],null,!1,4262258230)},[a("v-card",{staticClass:"pa-2"},[a("v-card-text",{staticClass:"pa-0"},[a("v-select",{attrs:{color:"success","item-color":"success",items:["Semua","Belum Verifikasi","Terverifikasi"],disabled:e.table.loading.show,outlined:"",dense:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Filter Status"},model:{value:e.table.filters.farmer_status,callback:function(t){e.$set(e.table.filters,"farmer_status",t)},expression:"table.filters.farmer_status"}})],1)],1)],1)]},proxy:!0},{key:"header.lahan_approve",fn:function(){return[e._v(" Status Lahan "),a("v-menu",{attrs:{rounded:"xl",bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1,"content-class":"rounded-xl"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ml-1",attrs:{disabled:e.table.loading.show,fab:"",color:"orange white--text","x-small":""}},"v-btn",r,!1),n),[a("v-icon",[e._v("mdi-filter")])],1)]}}],null,!1,4262258230)},[a("v-card",{staticClass:"pa-2"},[a("v-card-text",{staticClass:"pa-0"},[a("v-select",{attrs:{color:"success","item-color":"success",items:["Semua","Belum Ada Data","Belum Lengkap","Belum Verifikasi","Terverifikasi"],disabled:e.table.loading.show,outlined:"",dense:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Filter Status"},model:{value:e.table.filters.lahan_approve,callback:function(t){e.$set(e.table.filters,"lahan_approve",t)},expression:"table.filters.lahan_approve"}})],1)],1)],1)]},proxy:!0},{key:"item.index",fn:function(t){var n=t.index;return[a("div",[e._v(" "+e._s(n+1)+" ")])]}},{key:"item.farmer_status",fn:function(t){var n=t.item;return[a("v-chip",{staticClass:"pl-0",attrs:{color:(n.farmer_status?"green":"orange")+" white--text"}},[a("v-icon",{staticClass:"mx-1"},[e._v("mdi-"+e._s(n.farmer_status?"check":"close")+"-circle")]),e._v(e._s(n.farmer_status?"Terverifikasi":"Belum Verifikasi")+" ")],1)]}},{key:"item.lahan_approve",fn:function(t){var n=t.item;return[n.lahan_no?0==n.lahan_complete||0==n.jenis_bibit.length?a("v-chip",{staticClass:"pl-0",attrs:{color:"red white--text"}},[a("v-icon",{staticClass:"mx-1"},[e._v("mdi-close-circle")]),e._v("Belum Lengkap ")],1):a("v-chip",{staticClass:"pl-0",attrs:{color:(n.lahan_approve&&n.jenis_bibit.length>0?"green":"orange")+" white--text"}},[a("v-icon",{staticClass:"mx-1"},[e._v("mdi-"+e._s(n.lahan_approve&&n.jenis_bibit.length>0?"check":"close")+"-circle")]),e._v(e._s(n.lahan_approve&&n.jenis_bibit.length>0?"Terverifikasi":"Belum Verifikasi")+" ")],1):a("v-chip",{staticClass:"pl-0",attrs:{color:"red white--text"}},[a("v-icon",{staticClass:"mx-1"},[e._v("mdi-close-circle")]),e._v("Belum Ada Data ")],1)]}},{key:"item.land_area",fn:function(t){var n=t.item;return[a("div",[e._v(" "+e._s(e._utils.numberFormat(n.land_area))+" m"),a("sup",[e._v("2")])])]}},{key:"item.tutupan_lahan",fn:function(t){var n=t.item;return[a("div",[e._v(" "+e._s(n.tutupan_lahan)+"% ")])]}},{key:"item.action",fn:function(t){t.index;var n=t.item;return[a("v-btn",{staticClass:"pl-1",attrs:{small:"",rounded:"",color:"green white--text"},on:{click:function(t){return e.modalActions(!0,n.ff_no)}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-information")]),e._v(" Detail ")],1)]}}],null,!1,2313088380)}):e._e()],1),a("v-card-actions",{staticClass:"justify-center align-center"},[a("v-btn",{attrs:{disabled:e.table.loading.show,color:"green white--text",rounded:""},on:{click:function(t){return e.downloadExcel()}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-microsoft-excel")]),e._v(" Unduh Excel")],1),a("v-btn",{attrs:{disabled:e.table.loading.show,color:"orange darken-2 white--text",rounded:""},on:{click:function(t){return e.downloadPDF()}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-file-pdf-box")]),e._v(" Unduh PDF")],1)],1)],1)],1)},r=[],s=a("5530"),i=a("1da1"),o=(a("96cf"),a("4de4"),a("99af"),a("caad"),a("2532"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("d81d"),a("ac1f"),a("466d"),a("a15b"),a("bc3a")),l=a.n(o),c=(a("c1df"),a("3d20")),u=a.n(c),d={name:"OldGEKOFarmerLahanDetail",props:{show:{type:Boolean,default:!1},data:{type:Object,default:null}},data:function(){return{options:{programYear:""},table:{filters:{farmer_status:"Semua",lahan_approve:"Semua"},headers:[{text:"No",value:"index",width:75},{text:"Desa",value:"desa_name"},{text:"Kode FF",value:"ff_no"},{text:"Nama FF",value:"ff_name"},{text:"Status Petani",value:"farmer_status",sortable:!1},{text:"Kode Petani",value:"farmer_no"},{text:"Nama Petani",value:"farmer_name"},{text:"NIK Petani",value:"farmer_nik"},{text:"Status Lahan",value:"lahan_approve",sortable:!1},{text:"Kode Lahan",value:"lahan_no"},{text:"Dokumen Lahan",value:"document_no"},{text:"Luas Lahan",value:"land_area"},{text:"Pola Tanam",value:"opsi_pola_tanam"},{text:"Tutupan Lahan",value:"tutupan_lahan"},{text:"Jenis Bibit",value:"jenis_bibit"},{text:"Total KAYU",value:"pohon_kayu"},{text:"Total MPTS",value:"pohon_mpts"}],items:[],items_raw:[],loading:{show:!1,text:"Loading..."},search:""}}},computed:{showModal:{get:function(){return this.show&&this.data.ff_no&&this.data.programYear&&(this.options.programYear=this.data.programYear),this.show},set:function(e){var t=this;e||(setTimeout((function(){t.table.items=[],t.table.items_raw=[]}),200),this.$emit("dialogActions",!1))}},tableItems:function(){return this.show&&this.data.ff_no&&this.options.programYear&&this.getTableData({program_year:this.options.programYear,ff_no:this.data.ff_no}),!0},tableItemsData:function(){var e=this.table.items_raw,t=this.table.filters.farmer_status;t&&"Semua"!=t&&(e=e.filter((function(e){return"Terverifikasi"==t?1==e.farmer_status:0==e.farmer_status})));var a=this.table.filters.lahan_approve;return a&&"Semua"!=a&&("Belum Ada Data"==a&&(e=e.filter((function(e){return!e.lahan_no}))),"Belum Lengkap"==a&&(e=e.filter((function(e){return e.jenis_bibit&&0==e.jenis_bibit.length||0==e.lahan_approve&&0==e.lahan_complete}))),"Belum Verifikasi"==a&&(e=e.filter((function(e){return 0==e.lahan_approve&&1==e.lahan_complete}))),"Terverifikasi"==a&&(e=e.filter((function(e){return 1==e.lahan_approve&&1==e.lahan_complete&&e.jenis_bibit.length>0})))),e}},mounted:function(){},methods:{downloadExcel:function(){var e=document.getElementById("tableForExportLahanPetaniDashboard"),t=XLSX.utils.table_to_book(e);XLSX.writeFile(t,"LahanPetani".concat(this.options.programYear,"-").concat(this.data.ff_no,"_").concat(this.data.ffName,".xlsx"))},downloadPDF:function(){window.jsPDF=window.jspdf.jsPDF;var e=new jsPDF({orientation:"landscape",unit:"px",format:[1400,700]});e.autoTable({html:"#tableForExportLahanPetaniDashboard",useCss:!0,tableLineWidth:0,theme:"striped"}),e.save("LahanPetani".concat(this.options.programYear,"-").concat(this.data.ff_no,"_").concat(this.data.ffName,".pdf"))},errorResponse:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(e),!e.response){a.next=9;break}if(!e.response.status){a.next=9;break}if(401!=e.response.status){a.next=8;break}return a.next=6,u.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});case 6:n=a.sent,n&&(localStorage.removeItem("token"),t.$router.push("/"));case 8:500!==e.response.status&&400!==e.response.status||(r=e.response.data.message,r&&r.includes("Duplicate entry")&&(r="Data sudah ada!"),u.a.fire({title:"Error!",text:"".concat(r||e.message),icon:"error",confirmButtonColor:"#f44336"}));case 9:case"end":return a.stop()}}),a)})))()},getTableData:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.table.loading.show=!0,n=new URLSearchParams(e),r="Dashboard/DetailPetaniLahan?".concat(n),a.next=6,l.a.get(t.$store.getters.getApiUrl(r),t.$store.state.apiConfig);case 6:i=a.sent,o=i.data.map((function(e){var t=e.document_no;if(t){var a=t.match(/\d+/g);t=a?a.join(""):t}return Object(s["a"])(Object(s["a"])({},e),{},{document_no:t})})),t.table.items=o,t.table.items_raw=o,a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](0),t.errorResponse(a.t0);case 15:return a.prev=15,t.table.loading.show=!1,a.finish(15);case 18:case"end":return a.stop()}}),a,null,[[0,12,15,18]])})))()}}},m=d,v=a("2877"),f=a("6544"),h=a.n(f),p=a("8336"),_=a("b0af"),b=a("99d9"),g=a("cc20"),x=a("8fea"),w=a("169a"),k=a("ce7e"),y=a("132d"),C=a("e449"),D=a("a797"),L=a("490a"),P=a("0fd9"),S=a("b974"),F=Object(v["a"])(m,n,r,!1,null,null,null);t["default"]=F.exports;h()(F,{VBtn:p["a"],VCard:_["a"],VCardActions:b["a"],VCardText:b["c"],VCardTitle:b["d"],VChip:g["a"],VDataTable:x["a"],VDialog:w["a"],VDivider:k["a"],VIcon:y["a"],VMenu:C["a"],VOverlay:D["a"],VProgressCircular:L["a"],VRow:P["a"],VSelect:S["a"]})}}]);
//# sourceMappingURL=chunk-2d0b8b2d.1fe773c5.js.map
{"version":3,"sources":["webpack:///./src/views/Activity/components/sostam/DetailLahanSostamMap.vue","webpack:///src/views/Activity/components/sostam/DetailLahanSostamMap.vue","webpack:///./src/views/Activity/components/sostam/DetailLahanSostamMap.vue?2f0f","webpack:///./src/views/Activity/components/sostam/DetailLahanSostamMap.vue?fe7e"],"names":["render","_vm","this","_c","_self","staticClass","_v","staticStyle","maps","loading","show","attrs","_s","text","_e","key","section","ref","staticRenderFns","props","type","String","long","default","lat","ff_no","data","accessToken","mapStyle","model","attribution","center","url","legends","listMarker","zoom","geojson","layerId","hoveredStateId","layerStyle","outline","color","fill","popup","content","title","description","$store","state","initializeMap","methods","errorResponse","error","console","log","response","status","localStorage","removeItem","$router","push","Swal","fire","message","icon","confirmButtonColor","layIndex","mapOptions","markerCoordinates","mapboxgl","supported","_utils","getRandomColor","map","Map","container","style","projection","on","setFog","addControl","FullscreenControl","NavigationControl","Marker","setLngLat","addTo","flyTo","duration","err","component","VCard","VCardText","VDivider","VIcon","VOverlay","VProgressCircular"],"mappings":"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","file":"js/chunk-2d22fcc3.96964d8a.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"d-flex align-center mb-2\"},[_c('p',{staticClass:\"mb-0\"},[_c('v-icon',[_vm._v(\"mdi-map-marker\")]),_vm._v(\" Lokasi Distribusi\")],1),_c('v-divider',{staticClass:\"ml-2\"})],1),_c('v-card',{staticClass:\"rounded-xl elevation-0 overflow-hidden mb-4\",staticStyle:{\"width\":\"100%\"}},[_c('v-card-text',{staticClass:\"pa-0\",staticStyle:{\"position\":\"relative\",\"width\":\"100%\"}},[(_vm.maps.loading.show)?_c('v-overlay',{attrs:{\"absolute\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('div',{staticClass:\"d-flex flex-column align-center justify-center\"},[_c('v-progress-circular',{attrs:{\"size\":80,\"width\":7,\"indeterminate\":\"\",\"color\":\"white\"}}),_c('p',{staticClass:\"mb-0 text-center mt-4\"},[_vm._v(_vm._s(_vm.maps.loading.text || 'Loading...'))])],1)]):_vm._e(),_c('div',{staticClass:\"overflow-hidden rounded-xl\",staticStyle:{\"position\":\"relative\",\"width\":\"100%\"},attrs:{\"id\":\"mapboxWrapper\",\"data-aos\":\"fade-down\"}},[_c('div',{key:this.section + _vm.maps.key,ref:this.section + 'mapbox',staticClass:\"rounded-xl overflow-hidden\",staticStyle:{\"height\":\"300px\",\"width\":\"100%!important\"},attrs:{\"id\":`LahanDetailMapboxContainer${this.section}`}})])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n      <div class=\"d-flex align-center mb-2\">\r\n          <p class=\"mb-0\"><v-icon>mdi-map-marker</v-icon> Lokasi Distribusi</p>\r\n          <v-divider class=\"ml-2\"></v-divider>\r\n      </div>\r\n      <v-card class=\"rounded-xl elevation-0 overflow-hidden mb-4\" style=\"width: 100%\">\r\n        <v-card-text class=\"pa-0\" style=\"position: relative;width: 100%\">\r\n            <!-- loading overlay -->\r\n            <v-overlay v-if=\"maps.loading.show\" absolute justify-center align-center>\r\n                <div class=\"d-flex flex-column align-center justify-center\">\r\n                    <v-progress-circular\r\n                        :size=\"80\"\r\n                        :width=\"7\"\r\n                        indeterminate\r\n                        color=\"white\"\r\n                    >\r\n                    </v-progress-circular>\r\n                    <p class=\"mb-0 text-center mt-4\">{{ maps.loading.text || 'Loading...' }}</p>\r\n                </div>\r\n            </v-overlay>\r\n            <!-- Mapbox -->\r\n            <div id=\"mapboxWrapper\"\r\n                data-aos=\"fade-down\"\r\n                class=\"overflow-hidden rounded-xl\" style=\"position: relative;width: 100%\"\r\n            >\r\n                <!-- map -->\r\n                <div :id=\"`LahanDetailMapboxContainer${this.section}`\" :ref=\"this.section + 'mapbox'\" :key=\"this.section + maps.key\" \r\n                    style=\"height: 300px;width: 100%!important\" class=\"rounded-xl overflow-hidden\"></div>\r\n            </div>\r\n        </v-card-text>\r\n      </v-card>\r\n    </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\"\r\nimport Swal from 'sweetalert2'\r\n\r\nexport default {\r\n    props: {\r\n        section: {\r\n          type: String\r\n        },\r\n        long: {\r\n            type: String,\r\n            default: null\r\n        },\r\n        lat: {\r\n          type: String,\r\n          default: null\r\n        },\r\n        ff_no: {\r\n            type: String,\r\n            default: null\r\n        }\r\n    },\r\n    data: () => ({\r\n        maps:{\r\n            accessToken: '',\r\n            mapStyle: '',\r\n            model: null,\r\n            attribution: '&copy; <a target=\"_blank\" href=\"http://osm.org/copyright\">OpenStreetMap</a>',\r\n            center: [107.61027079290722, -6.920020837413247],\r\n            // center: [39.826204, 21.422484],\r\n            // center: [107.52657620636666, -7.0917231719],\r\n            url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\r\n            legends: {\r\n                model: ''\r\n            },\r\n            listMarker: [],\r\n            loading: {\r\n                show: false,\r\n                text: 'Loading...'\r\n            },\r\n            zoom: 3,\r\n            geojson: {},\r\n            key: 9292183,\r\n            layerId: 0,\r\n            hoveredStateId: 0,\r\n            layerStyle: {\r\n                outline: {\r\n                    color: '#000000'\r\n                },\r\n                fill: {\r\n                    color: '#f06800'\r\n                },\r\n            },\r\n            popup: {\r\n                model: false,\r\n                content: {\r\n                title: '',\r\n                description: ''\r\n                }\r\n            }\r\n        },\r\n    }),\r\n    async mounted() {\r\n        this.maps.loading.show = true\r\n        this.maps.accessToken = this.$store.state.maps.accessToken\r\n        this.maps.mapStyle = this.$store.state.maps.mapStyle\r\n        await this.initializeMap()\r\n    },\r\n    methods: {\r\n        errorResponse(error) {\r\n            console.log(error)\r\n            if (error.response) {\r\n                if (error.response.status) {\r\n                    if (error.response.status == 401) {\r\n                        localStorage.removeItem(\"token\");\r\n                        this.$router.push(\"/\");\r\n                    } else Swal.fire({\r\n                        title: 'Error!',\r\n                        text: `${error.response.message}`,\r\n                        icon: 'error',\r\n                        confirmButtonColor: '#f44336',\r\n                    }) \r\n                } else Swal.fire({\r\n                    title: 'Error!',\r\n                    text: `${error.message}`,\r\n                    icon: 'error',\r\n                    confirmButtonColor: '#f44336',\r\n                }) \r\n            }\r\n        },\r\n        // maps\r\n        async initializeMap(layIndex) {\r\n            try {\r\n                const mapOptions = this.maps\r\n                const markerCoordinates = [this.long, this.lat]\r\n                console.log(markerCoordinates)\r\n                mapboxgl.accessToken = mapOptions.accessToken\r\n                if (!mapboxgl.supported()) {\r\n                    Swal.fire({\r\n                        title: 'Warning!',\r\n                        text: `Your browser does not support Mapbox GL.`,\r\n                        icon: 'error',\r\n                        confirmButtonColor: '#f44336',\r\n                    }) \r\n                } else if (markerCoordinates) {\r\n                    mapOptions.loading.show = true\r\n                    let layerId = mapOptions.layerId\r\n                    const layerStyle = mapOptions.layerStyle\r\n                    layerStyle.fill.color = this._utils.getRandomColor()\r\n                    mapOptions.loading.text = 'Initialize map...'\r\n                    let map = await new mapboxgl.Map({\r\n                        container: `LahanDetailMapboxContainer${this.section}`, // container ID\r\n                        style: mapOptions.mapStyle, // style URL\r\n                        center: mapOptions.center,\r\n                        zoom: mapOptions.zoom,\r\n                        projection: 'globe'\r\n                    });\r\n                    await map.on(\"load\", async function() {\r\n                        // add fog\r\n                        await map.setFog({\r\n                            color: 'rgb(186, 210, 235)', // Lower atmosphere\r\n                            'high-color': 'rgb(36, 92, 223)', // Upper atmosphere\r\n                            'horizon-blend': 0.02, // Atmosphere thickness (default 0.2 at low zooms)\r\n                            'space-color': 'rgb(11, 11, 25)', // Background color\r\n                            'star-intensity': 0.6 // Background star brightness (default 0.35 at low zoooms )\r\n                        });\r\n                        // add fullscreen function\r\n                        await map.addControl(new mapboxgl.FullscreenControl());\r\n                        // Add zoom and rotation controls to the map.\r\n                        await map.addControl(new mapboxgl.NavigationControl());\r\n                        const marker1 = new mapboxgl.Marker()\r\n                        .setLngLat(markerCoordinates)\r\n                        .addTo(map);\r\n                        await map.flyTo({\r\n                            center: markerCoordinates,\r\n                            zoom: 9,\r\n                            duration: 7 * 1000\r\n                        });\r\n                        mapOptions.loading.show = false\r\n                    })\r\n                }\r\n            } catch (err) {\r\n                this.errorResponse(err)\r\n                this.maps.loading.show = false\r\n            }\r\n        },\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailLahanSostamMap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailLahanSostamMap.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailLahanSostamMap.vue?vue&type=template&id=1eed732b&\"\nimport script from \"./DetailLahanSostamMap.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailLahanSostamMap.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VCard,VCardText,VDivider,VIcon,VOverlay,VProgressCircular})\n"],"sourceRoot":""}
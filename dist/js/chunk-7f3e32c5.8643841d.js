(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f3e32c5","chunk-7f8a06d4","chunk-33f2478e","chunk-2d2248c4"],{1681:function(t,e,i){},"2db4":function(t,e,i){"use strict";i("ca71");var s=i("8dd9"),a=i("a9ad"),n=i("7560"),o=i("f2e7"),r=i("fe6c"),l=i("58df"),d=i("80d2"),c=i("d9bd");e["a"]=Object(l["a"])(s["a"],a["a"],o["a"],Object(r["b"])(["absolute","bottom","left","right","top"])).extend({name:"v-snackbar",props:{app:Boolean,centered:Boolean,contentClass:{type:String,default:""},multiLine:Boolean,text:Boolean,timeout:{type:[Number,String],default:5e3},transition:{type:[Boolean,String],default:"v-snack-transition",validator:t=>"string"===typeof t||!1===t},vertical:Boolean},data:()=>({activeTimeout:-1}),computed:{classes(){return{"v-snack--absolute":this.absolute,"v-snack--active":this.isActive,"v-snack--bottom":this.bottom||!this.top,"v-snack--centered":this.centered,"v-snack--has-background":this.hasBackground,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--text":this.text,"v-snack--top":this.top,"v-snack--vertical":this.vertical}},hasBackground(){return!this.text&&!this.outlined},isDark(){return this.hasBackground?!this.light:n["a"].options.computed.isDark.call(this)},styles(){if(this.absolute)return{};const{bar:t,bottom:e,footer:i,insetFooter:s,left:a,right:n,top:o}=this.$vuetify.application;return{paddingBottom:Object(d["g"])(e+i+s),paddingLeft:this.app?Object(d["g"])(a):void 0,paddingRight:this.app?Object(d["g"])(n):void 0,paddingTop:Object(d["g"])(t+o)}}},watch:{isActive:"setTimeout",timeout:"setTimeout"},mounted(){this.isActive&&this.setTimeout()},created(){this.$attrs.hasOwnProperty("auto-height")&&Object(c["e"])("auto-height",this),0==this.timeout&&Object(c["d"])('timeout="0"',"-1",this)},methods:{genActions(){return this.$createElement("div",{staticClass:"v-snack__action "},[Object(d["s"])(this,"action",{attrs:{class:"v-snack__btn"}})])},genContent(){return this.$createElement("div",{staticClass:"v-snack__content",class:{[this.contentClass]:!0},attrs:{role:"status","aria-live":"polite"}},[Object(d["s"])(this)])},genWrapper(){const t=this.hasBackground?this.setBackgroundColor:this.setTextColor,e=t(this.color,{staticClass:"v-snack__wrapper",class:s["a"].options.computed.classes.call(this),style:s["a"].options.computed.styles.call(this),directives:[{name:"show",value:this.isActive}],on:{mouseenter:()=>window.clearTimeout(this.activeTimeout),mouseleave:this.setTimeout}});return this.$createElement("div",e,[this.genContent(),this.genActions()])},genTransition(){return this.$createElement("transition",{props:{name:this.transition}},[this.genWrapper()])},setTimeout(){window.clearTimeout(this.activeTimeout);const t=Number(this.timeout);this.isActive&&![0,-1].includes(t)&&(this.activeTimeout=window.setTimeout(()=>{this.isActive=!1},t))}},render(t){return t("div",{staticClass:"v-snack",class:this.classes,style:this.styles},[!1!==this.transition?this.genTransition():this.genWrapper()])}})},"3e8f":function(t,e){},"56a4":function(t,e,i){"use strict";var s=i("9d26"),a=i("a9ad"),n=i("3206"),o=i("5607"),r=i("58df");const l=Object(r["a"])(a["a"],Object(n["a"])("stepper","v-stepper-step","v-stepper"));e["a"]=l.extend().extend({name:"v-stepper-step",directives:{ripple:o["a"]},inject:["stepClick"],props:{color:{type:String,default:"primary"},complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},errorIcon:{type:String,default:"$error"},rules:{type:Array,default:()=>[]},step:[Number,String]},data(){return{isActive:!1,isInactive:!0}},computed:{classes(){return{"v-stepper__step--active":this.isActive,"v-stepper__step--editable":this.editable,"v-stepper__step--inactive":this.isInactive,"v-stepper__step--error error--text":this.hasError,"v-stepper__step--complete":this.complete}},hasError(){return this.rules.some(t=>!0!==t())}},mounted(){this.stepper&&this.stepper.register(this)},beforeDestroy(){this.stepper&&this.stepper.unregister(this)},methods:{click(t){t.stopPropagation(),this.$emit("click",t),this.editable&&this.stepClick(this.step)},genIcon(t){return this.$createElement(s["a"],t)},genLabel(){return this.$createElement("div",{staticClass:"v-stepper__label"},this.$slots.default)},genStep(){const t=!(this.hasError||!this.complete&&!this.isActive)&&this.color;return this.$createElement("span",this.setBackgroundColor(t,{staticClass:"v-stepper__step__step"}),this.genStepContent())},genStepContent(){const t=[];return this.hasError?t.push(this.genIcon(this.errorIcon)):this.complete?this.editable?t.push(this.genIcon(this.editIcon)):t.push(this.genIcon(this.completeIcon)):t.push(String(this.step)),t},toggle(t){this.isActive=t.toString()===this.step.toString(),this.isInactive=Number(t)<Number(this.step)}},render(t){return t("div",{staticClass:"v-stepper__step",class:this.classes,directives:[{name:"ripple",value:this.editable}],on:{click:this.click}},[this.genStep(),this.genLabel()])}})},"6ca7":function(t,e,i){},"7e85":function(t,e,i){"use strict";i("8836");var s=i("3206"),a=i("a452"),n=i("7560"),o=i("58df"),r=i("d9bd");const l=Object(o["a"])(Object(s["b"])("stepper"),a["a"],n["a"]);e["a"]=l.extend({name:"v-stepper",provide(){return{stepClick:this.stepClick,isVertical:this.vertical}},props:{altLabels:Boolean,nonLinear:Boolean,vertical:Boolean},data(){const t={isBooted:!1,steps:[],content:[],isReverse:!1};return t.internalLazyValue=null!=this.value?this.value:(t[0]||{}).step||1,t},computed:{classes(){return{"v-stepper--is-booted":this.isBooted,"v-stepper--vertical":this.vertical,"v-stepper--alt-labels":this.altLabels,"v-stepper--non-linear":this.nonLinear,...this.themeClasses}}},watch:{internalValue(t,e){this.isReverse=Number(t)<Number(e),e&&(this.isBooted=!0),this.updateView()}},created(){this.$listeners.input&&Object(r["a"])("@input","@change",this)},mounted(){this.updateView()},methods:{register(t){"v-stepper-step"===t.$options.name?this.steps.push(t):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content.push(t))},unregister(t){"v-stepper-step"===t.$options.name?this.steps=this.steps.filter(e=>e!==t):"v-stepper-content"===t.$options.name&&(t.isVertical=this.vertical,this.content=this.content.filter(e=>e!==t))},stepClick(t){this.$nextTick(()=>this.internalValue=t)},updateView(){for(let t=this.steps.length;--t>=0;)this.steps[t].toggle(this.internalValue);for(let t=this.content.length;--t>=0;)this.content[t].toggle(this.internalValue,this.isReverse)}},render(t){return t("div",{staticClass:"v-stepper",class:this.classes},this.$slots.default)}})},8836:function(t,e,i){},"9c54":function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return l}));var s=i("80d2"),a=i("7e85"),n=i("56a4"),o=i("e516");const r=Object(s["i"])("v-stepper__header"),l=Object(s["i"])("v-stepper__items");a["a"],o["a"],n["a"]},a844:function(t,e,i){"use strict";i("1681");var s=i("8654"),a=i("58df");const n=Object(a["a"])(s["a"]);e["a"]=n.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:t=>!isNaN(parseFloat(t))},rows:{type:[Number,String],default:5,validator:t=>!isNaN(parseInt(t,10))}},computed:{classes(){return{"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle,...s["a"].options.computed.classes.call(this)}},noResizeHandle(){return this.noResize||this.autoGrow}},watch:{lazyValue(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted(){setTimeout(()=>{this.autoGrow&&this.calculateInputHeight()},0)},methods:{calculateInputHeight(){const t=this.$refs.input;if(!t)return;t.style.height="0";const e=t.scrollHeight,i=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(i,e)+"px"},genInput(){const t=s["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput(t){s["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},ac7c:function(t,e,i){"use strict";i("6ca7"),i("ec29");var s=i("9d26"),a=i("c37a"),n=i("fe09");e["a"]=n["a"].extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data(){return{inputIndeterminate:this.indeterminate}},computed:{classes(){return{...a["a"].options.computed.classes.call(this),"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate}},computedIcon(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate(t){this.$nextTick(()=>this.inputIndeterminate=t)},inputIndeterminate(t){this.$emit("update:indeterminate",t)},isActive(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(s["a"],this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",{...this.attrs$,"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()}),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot(){return[this.genCheckbox(),this.genLabel()]}}})},ca71:function(t,e,i){},caa4:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{"content-class":"rounded-xl","max-width":"500"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e("v-card",[e("v-card-title",{staticClass:"grey--text"},[e("v-spacer"),e("v-icon",{staticClass:"mr-1",attrs:{color:"grey"}},[t._v("mdi-information")]),t._v(" Confirmation "),e("v-spacer")],1),e("v-card-text",{staticClass:"text-center pt-2 grey--text text--darken-3"},["verification"==t.type?e("span",[t._v(" Apakah anda yakin untuk memverifikasi data penyesuaian bibit ini? ")]):"last_verification"==t.type?e("span",[t._v(" Ini adalah verifikasi "),e("b",[t._v("terakhir")]),t._v(", yang mana akan "),e("b",[t._v("memproses")]),t._v(" semua penyesuaian dan perubahan bibit sesuai dengan request, dan "),e("b",[t._v("tidak akan bisa dibatalkan")]),t._v(". Apakah anda yakin untuk memverifikasi request data ini? ")]):"reject"==t.type||"cancel"==t.type?e("span",[t._v(" Apakah anda yakin untuk membatalkan data penyesuaian bibit ini? ")]):e("span",[t._v(" Penyesuaian bibit ini baru akan diproses setelah "),e("b",[t._v("disetujui")]),t._v(" oleh "),e("b",[t._v("REGIONAL MANAGER / PROGRAM MANAGER")]),t._v(". "),e("br"),t._v(" Yakin ingin mengirim permintaan penyesuaian bibit ini? ")])]),e("v-card-actions",[e("v-btn",{attrs:{small:"",text:"",color:"blue",rounded:""},on:{click:()=>t.$emit("close")}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-undo")]),t._v(" Back")],1),e("v-divider",{staticClass:"mx-2"}),e("v-hover",{scopedSlots:t._u([{key:"default",fn:function({hover:i}){return[e("v-btn",{staticClass:"px-5 pr-1",attrs:{small:"",rounded:"",outlined:!i,color:t.getConfirmationBtnColor},on:{click:()=>t.$emit("confirm")}},[t._v(t._s(t.getConfirmationBtnText)+" "),e("v-icon",{staticClass:"ml-1"},[t._v(t._s(t.getConfirmationBtnIcon))])],1)]}}])})],1)],1)],1)},a=[],n={props:{show:{type:Boolean,default:!1},type:{type:String,default:null}},data:()=>({}),computed:{showDialog:{get:function(){return this.show},set:async function(t){0==t&&this.$emit("close")}},getConfirmationBtnIcon(){let t="";return t="verification"==this.type||"last_verification"==this.type?"check-circle":"reject"==this.type?"file-document-remove":"cancel"==this.type?"close-circle":"send-circle","mdi-"+t},getConfirmationBtnColor(){let t="";return t="verification"==this.type||"last_verification"==this.type?"green":"reject"==this.type||"cancel"==this.type?"red":"orange",t+" white--text"},getConfirmationBtnText(){let t="Okay";return"verification"==this.type||"last_verification"==this.type?t+=", verif":"reject"==this.type?t+=", reject":"cancel"==this.type?t+=", cancel":t+=", send",t}}},o=n,r=i("2877"),l=i("6544"),d=i.n(l),c=i("8336"),u=i("b0af"),p=i("99d9"),m=i("169a"),h=i("ce7e"),v=i("ce87"),g=i("132d"),f=i("2fa4"),b=Object(r["a"])(o,s,a,!1,null,null,null);e["default"]=b.exports;d()(b,{VBtn:c["a"],VCard:u["a"],VCardActions:p["a"],VCardText:p["c"],VCardTitle:p["d"],VDialog:m["a"],VDivider:h["a"],VHover:v["a"],VIcon:g["a"],VSpacer:f["a"]})},ce87:function(t,e,i){"use strict";var s=i("16b7"),a=i("f2e7"),n=i("58df"),o=i("d9bd");e["a"]=Object(n["a"])(s["a"],a["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter(){this.runDelay("open")},onMouseLeave(){this.runDelay("close")}},render(){if(!this.$scopedSlots.default&&void 0===this.value)return Object(o["c"])("v-hover is missing a default scopedSlot or bound value",this),null;let t;return this.$scopedSlots.default&&(t=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(t)&&1===t.length&&(t=t[0]),t&&!Array.isArray(t)&&t.tag?(this.disabled||(t.data=t.data||{},this._g(t.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),t):(Object(o["c"])("v-hover should only contain a single element",this),t)}})},e135:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("v-dialog",{attrs:{"max-width":"500","content-class":"rounded-xl"},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e("v-card",[e("v-card-title",[t._v("Form Change Request Instruction")]),e("v-card-text",[t._v(" HELP!!! ")])],1)],1)},a=[],n={props:{show:{type:Boolean,default:!1}},data:()=>({}),computed:{showDialog:{get:function(){return this.show},set:async function(t){0==t&&this.$emit("close")}}}},o=n,r=i("2877"),l=i("6544"),d=i.n(l),c=i("b0af"),u=i("99d9"),p=i("169a"),m=Object(r["a"])(o,s,a,!1,null,null,null);e["default"]=m.exports;d()(m,{VCard:c["a"],VCardText:u["c"],VCardTitle:u["d"],VDialog:p["a"]})},e516:function(t,e,i){"use strict";var s=i("0789"),a=i("3206"),n=i("80d2"),o=i("58df");const r=Object(o["a"])(Object(a["a"])("stepper","v-stepper-content","v-stepper"));e["a"]=r.extend().extend({name:"v-stepper-content",inject:{isVerticalProvided:{from:"isVertical"}},props:{step:{type:[Number,String],required:!0}},data(){return{height:0,isActive:null,isReverse:!1,isVertical:this.isVerticalProvided}},computed:{computedTransition(){const t=this.$vuetify.rtl?!this.isReverse:this.isReverse;return t?s["f"]:s["g"]},styles(){return this.isVertical?{height:Object(n["g"])(this.height)}:{}}},watch:{isActive(t,e){t&&null==e?this.height="auto":this.isVertical&&(this.isActive?this.enter():this.leave())}},mounted(){this.$refs.wrapper.addEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.register(this)},beforeDestroy(){this.$refs.wrapper.removeEventListener("transitionend",this.onTransition,!1),this.stepper&&this.stepper.unregister(this)},methods:{onTransition(t){this.isActive&&"height"===t.propertyName&&(this.height="auto")},enter(){let t=0;requestAnimationFrame(()=>{t=this.$refs.wrapper.scrollHeight}),this.height=0,setTimeout(()=>this.isActive&&(this.height=t||"auto"),450)},leave(){this.height=this.$refs.wrapper.clientHeight,setTimeout(()=>this.height=0,10)},toggle(t,e){this.isActive=t.toString()===this.step.toString(),this.isReverse=e}},render(t){const e={staticClass:"v-stepper__content"},i={staticClass:"v-stepper__wrapper",style:this.styles,ref:"wrapper"};this.isVertical||(e.directives=[{name:"show",value:this.isActive}]);const s=t("div",i,[this.$slots.default]),a=t("div",e,[s]);return t(this.computedTransition,{on:this.$listeners},[a])}})},ec29:function(t,e,i){},fb04:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",[e("formRequestHelp",{attrs:{show:t.dialogs.help.model},on:{close:()=>t.dialogs.help.model=!1}}),e("createConfirmation",{attrs:{show:t.dialogs.confirmation.model},on:{close:()=>t.dialogs.confirmation.model=!1,confirm:()=>t.sendRequest()}}),e("v-dialog",{attrs:{"max-width":"1200","content-class":"rounded-xl",scrollable:"",persistent:""},model:{value:t.showDialog,callback:function(e){t.showDialog=e},expression:"showDialog"}},[e("v-card",{staticClass:"orange"},[e("v-card-title",{staticClass:"transparent white--text rounded-xl"},[e("p",{staticClass:"mb-0"},[e("v-icon",{attrs:{color:"white"}},[t._v("mdi-comment-text")]),t._v(" Form Request")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:"white"}}),e("v-icon",{attrs:{color:"white"},on:{click:()=>t.showDialog=!1}},[t._v("mdi-close-circle")])],1),e("v-card-text",[t.loading.show?e("v-overlay",{attrs:{"justify-center":"","align-center":""}},[e("div",{staticClass:"d-flex flex-column align-center justify-center"},[e("v-progress-circular",{attrs:{size:80,width:7,indeterminate:"",color:"white"}}),e("p",{staticClass:"mb-0 text-center mt-4"},[t._v(t._s(t.loading.text||"Loading..."))])],1)]):t._e(),e("v-stepper",{staticClass:"rounded-xl elevation-0",attrs:{vertical:""},model:{value:t.stepper.model,callback:function(e){t.$set(t.stepper,"model",e)},expression:"stepper.model"}},[e("v-stepper-step",{attrs:{color:"orange",complete:t.stepper.model>1,step:"1"}},[t.stepper.model<2?e("span",[t._v("Select "+t._s("Petani"==t.landProgram?"Farmer":"MoU")+" & Land")]):e("span",[t._v(" "+t._s(t.stepper1TitleComplete)+" ")])]),e("v-stepper-content",{staticClass:"pt-0",attrs:{step:"1"}},[e("v-row",{staticClass:"mt-2"},[e("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"3"}},[e("v-autocomplete",{attrs:{color:"success",dense:"","hide-details":"","item-color":"success",items:t.$store.state.programYear.options,label:t.inputs.programYear.label,loading:t.inputs.programYear.loading,"menu-props":{rounded:"xl",transition:"slide-y-transition"},"no-data-text":t.inputs.programYear.loading?"Loading...":"No Data",outlined:"",rounded:"",rules:[t=>!!t||"Field is required"],disabled:""},model:{value:t.inputs.programYear.model,callback:function(e){t.$set(t.inputs.programYear,"model",e)},expression:"inputs.programYear.model"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"3"}},[e("v-autocomplete",{attrs:{color:"success",dense:"","hide-details":"","item-color":"success",items:t.inputs.landProgram.items,label:t.inputs.landProgram.label,"menu-props":{rounded:"xl",transition:"slide-y-transition"},outlined:"",rounded:"",rules:[t=>!!t||"Field is required"],disabled:""},model:{value:t.inputs.landProgram.model,callback:function(e){t.$set(t.inputs.landProgram,"model",e)},expression:"inputs.landProgram.model"}})],1),e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Nursery",items:t.inputs.nursery.items,disabled:t.inputs.nursery.disabled},model:{value:t.inputs.nursery.model,callback:function(e){t.$set(t.inputs.nursery,"model",e)},expression:"inputs.nursery.model"}})],1),e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-menu",{attrs:{"offset-x":"",transition:"slide-x-transition",rounded:"xl"},scopedSlots:t._u([{key:"activator",fn:function({on:i,attrs:s}){return[e("p",{staticClass:"mb-0"},[e("strong",[t._v(t._s(t.inputs.distributionDate.label))])]),e("v-btn",t._g(t._b({attrs:{rounded:"",color:"green white--text"}},"v-btn",s,!1),i),[t._v(" "+t._s(t.$store.getters.dateFormat(t.inputs.distributionDate.model,"ddd, DD MMMM Y"))+" ")])]}}]),model:{value:t.inputs.distributionDate.datepicker.show,callback:function(e){t.$set(t.inputs.distributionDate.datepicker,"show",e)},expression:"inputs.distributionDate.datepicker.show"}},[e("div",[e("v-overlay",{attrs:{value:t.inputs.distributionDate.loading}},[e("div",{staticClass:"d-flex flex-column align-center justify-center"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"white",size:"64"}}),e("p",{staticClass:"mt-2 mb-0"},[t._v("Updating dates...")])],1)]),e("v-date-picker",{key:t.inputs.distributionDate.datepicker.key,staticClass:"rounded-xl",attrs:{min:"2022-11-24",color:"green"},on:{input:()=>{t.inputs.distributionDate.datepicker.show=!1}},model:{value:t.inputs.distributionDate.model,callback:function(e){t.$set(t.inputs.distributionDate,"model",e)},expression:"inputs.distributionDate.model"}})],1)])],1)],1),e("v-row",{staticClass:"mt-2"},[e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Management Unit",loading:t.inputs.mu.loading,items:t.inputs.mu.items,"item-text":"name","item-value":"mu_no",disabled:t.disabledInputMU},on:{change:e=>t.getFForPICT4T(e)},model:{value:t.inputs.mu.model,callback:function(e){t.$set(t.inputs.mu,"model",e)},expression:"inputs.mu.model"}})],1),"Petani"==t.inputs.landProgram.model?e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Field Facilitator",loading:t.inputs.ff.loading,items:t.inputs.ff.items,"item-text":"ff_name","item-value":"ff_no",disabled:t.disabledInputFF},on:{change:e=>t.getFarmerOrMOU(e)},model:{value:t.inputs.ff.model,callback:function(e){t.$set(t.inputs.ff,"model",e)},expression:"inputs.ff.model"}})],1):"Umum"==t.inputs.landProgram.model?e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"PIC T4T",loading:t.inputs.pic_t4t.loading,items:t.inputs.pic_t4t.items,"item-text":"employee_name","item-value":"employee_no",disabled:t.disabledInputFF},on:{change:e=>t.getFarmerOrMOU(e)},model:{value:t.inputs.pic_t4t.model,callback:function(e){t.$set(t.inputs.pic_t4t,"model",e)},expression:"inputs.pic_t4t.model"}})],1):t._e(),"Petani"==t.inputs.landProgram.model?e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"Farmer",loading:t.inputs.farmer.loading,items:t.inputs.farmer.items,"item-text":"farmer_name","item-value":"farmer_no",disabled:t.disabledInputFarmer},on:{change:e=>t.getLand(e)},scopedSlots:t._u([{key:"item",fn:function(i){return[e("v-list-item-content",[e("v-list-item-title",{domProps:{innerHTML:t._s(i.item.farmer_name)}}),e("v-list-item-subtitle",[e("v-avatar",{attrs:{color:"green white--text mr-1",size:"20"}},[t._v(t._s(i.item.lahan_no.length))]),t._v(t._s(i.item.lahan_no.toString()))],1)],1)]}}],null,!1,1498540660),model:{value:t.inputs.farmer.model,callback:function(e){t.$set(t.inputs.farmer,"model",e)},expression:"inputs.farmer.model"}})],1):"Umum"==t.inputs.landProgram.model?e("v-col",{attrs:{cols:"12",lg:"4"}},[e("v-autocomplete",{attrs:{dense:"",color:"success","item-color":"success",outlined:"","hide-details":"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},rounded:"",label:"MOU No",loading:t.inputs.mou.loading,items:t.inputs.mou.items,"item-text":"mou_no","item-value":"mou_no",disabled:t.disabledInputMOU},on:{change:e=>t.getLand(e)},scopedSlots:t._u([{key:"item",fn:function(i){return[e("v-list-item-content",[e("v-list-item-title",{domProps:{innerHTML:t._s(i.item.mou_no)}}),e("v-list-item-subtitle",[t._v(t._s(i.item.pic_lahan))])],1)]}}]),model:{value:t.inputs.mou.model,callback:function(e){t.$set(t.inputs.mou,"model",e)},expression:"inputs.mou.model"}})],1):t._e()],1),t.inputs.land.items.length>0?e("v-card",{staticClass:"elevation-0 mt-3"},[e("v-card-title",{staticClass:"pb-0",attrs:{"data-aos":"zoom-in"}},[e("v-spacer",{staticClass:"mr-2"}),e("span",{staticClass:"grey--text text--darken-2"},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-timeline-check")]),t._v(" "+t._s("Petani"==t.landProgram?"Farmer":"MoU")+" Last Activities ")],1),e("v-spacer",{staticClass:"ml-2"})],1),e("v-card-text",{staticClass:"pb-0"},[e("v-stepper",{staticClass:"elevation-0",attrs:{"alt-labels":""},model:{value:t.inputs.activitiesStep.model,callback:function(e){t.$set(t.inputs.activitiesStep,"model",e)},expression:"inputs.activitiesStep.model"}},[e("v-stepper-header",{staticClass:"elevation-0"},[e("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"0",color:"green",step:"x",complete:t.inputs.activitiesStep.model>=1,rules:[()=>!(t.inputs.activitiesStep.model<1)],"error-icon":"mdi-close-circle"}},[e("small",[t._v("Pendataan Lahan")])]),e("v-divider",{}),"Petani"==t.landProgram?e("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"50",color:"green",step:"x",complete:t.inputs.activitiesStep.model>=2,rules:[()=>!(t.inputs.activitiesStep.model<2)],"error-icon":"mdi-close-circle"}},[e("small",[t._v("Sosialisasi Tanam")])]):t._e(),"Petani"==t.landProgram?e("v-divider",{}):t._e(),e("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"100",color:"green",step:"x",complete:t.inputs.activitiesStep.model>=3,rules:[()=>!(t.inputs.activitiesStep.model<3)],"error-icon":"mdi-close-circle"}},[e("small",[t._v("Penilikan Lubang")])]),e("v-divider",{}),e("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"150",color:"green",step:"x",complete:t.inputs.activitiesStep.model>=4,rules:[()=>!(t.inputs.activitiesStep.model<4)],"error-icon":"mdi-close-circle"}},[e("small",[t._v("Print Label")])]),e("v-divider",{}),e("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"200",color:"green",step:"x",complete:t.inputs.activitiesStep.model>=5,rules:[()=>!(t.inputs.activitiesStep.model<5)],"error-icon":"mdi-close-circle"}},[e("small",[t._v("Load Bag")])]),e("v-divider",{}),e("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"250",color:"green",step:"x",complete:t.inputs.activitiesStep.model>=6,rules:[()=>!(t.inputs.activitiesStep.model<6)],"error-icon":"mdi-close-circle"}},[e("small",[t._v("Distribute Bag")])]),e("v-divider",{}),e("v-stepper-step",{attrs:{"data-aos":"zoom-in","data-aos-delay":"300",color:"green",step:"x",complete:t.inputs.activitiesStep.model>=7,rules:[()=>!(t.inputs.activitiesStep.model<7)],"error-icon":"mdi-close-circle"}},[e("small",[t._v("Realisasi Tanam")])])],1)],1)],1)],1):t._e(),e("v-row",{staticClass:"my-1 mt-3 mx-0 align-center"},[e("v-chip",{attrs:{color:(t.inputs.land.items.length>0?"green":"red")+" white--text"}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-land-fields")]),t._v(" Land: "+t._s(t.inputs.land.items.length))],1),e("v-divider",{staticClass:"mx-2"}),e("v-btn",{attrs:{rounded:"",outlined:"",color:"orange",disabled:t.disabledNext1},on:{click:()=>{t.stepper.model+=1,t.getSeedlingChangeData()}}},[t._v("Next "),e("v-icon",[t._v("mdi-chevron-right")])],1)],1)],1),e("v-stepper-step",{attrs:{color:"orange",complete:t.stepper.model>2,step:"2"}},[t.stepper.model<3?e("span",[t._v("Seedling Change")]):e("span",[t._v(" "+t._s(t.stepper2TitleComplete)+" ")])]),e("v-stepper-content",{staticClass:"pt-0",attrs:{step:"2"}},[t.inputs.seedling.length>0?e("div",t._l(t.inputs.seedling,(function(i,s){return e("v-card",{key:s,staticClass:"elevation-0"},[e("v-card-title",{staticStyle:{"font-size":"15px"}},[e("v-avatar",{staticClass:"mr-2",attrs:{size:"23",color:"grey darken-2 white--text"}},[t._v(" "+t._s(s+1))]),t._v(" "+t._s(i.lahan_no)+" "),e("v-divider",{staticClass:"ml-2"})],1),e("v-card-text",[e("v-row",[e("v-col",{attrs:{cols:"12",lg:"6"}},[e("v-card",{staticClass:"rounded-xl",attrs:{"data-aos-delay":"100"}},[e("v-card-text",{staticClass:"pb-0 d-flex align-center"},[e("v-chip",{attrs:{color:"green white--text"}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-pine-tree-box")]),t._v(" Original")],1),e("v-divider",{staticClass:"mx-2"}),e("v-chip",{attrs:{color:"green darken-2 white--text"}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-sprout")]),t._v(" "+t._s(t.$store.getters.numberFormat(t.getTotalTrees(i.old))))],1)],1),e("v-card-text",[e("v-simple-table",[e("thead",[e("tr",[e("th",[t._v("No")]),e("th",[t._v("Tree")]),e("th",[t._v("Amount")])])]),e("tbody",t._l(i.old,(function(i,s){return e("tr",{key:s},[e("td",[t._v(t._s(s+1))]),e("td",[t._v(t._s(i.tree_name))]),e("td",[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-sprout")]),t._v(t._s(t.$store.getters.numberFormat(i.amount)))],1)])})),0)])],1)],1)],1),e("v-col",{attrs:{cols:"12",lg:"6"}},[e("v-hover",{scopedSlots:t._u([{key:"default",fn:function({hover:a}){return[e("v-card",{staticClass:"rounded-xl",attrs:{"data-aos-delay":"200"}},[e("v-card-text",{staticClass:"pb-0 d-flex align-center"},[e("v-chip",{staticClass:"pl-1",attrs:{color:"orange white--text"}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-pencil-circle")]),t._v(" Change")],1),e("v-divider",{staticClass:"mx-2"}),e("v-chip",{attrs:{color:"orange darken-2 white--text"}},[e("v-icon",{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-sprout")]),t._v(" "+t._s(t.$store.getters.numberFormat(t.getTotalTrees(i.new))))],1)],1),e("v-card-text",[e("v-simple-table",[e("thead",[e("tr",[e("th",[t._v("No")]),e("th",[t._v("Tree")]),e("th",{staticClass:"text-right"},[t._v("Amount")])])]),e("tbody",t._l(i.new,(function(a,n){return e("tr",{key:n},[e("td",[t._v(t._s(n+1))]),e("td",{class:t.getNewSeedlingColor(a,s)},[t._v(t._s(a.tree_name))]),e("td",{staticClass:"d-flex align-center justify-end",staticStyle:{gap:"5px"}},[e("v-text-field",{staticStyle:{"max-width":"150px"},attrs:{"hide-details":"",dense:"",outlined:"",rounded:"",color:"orange",type:"number",min:"0","prepend-inner-icon":"mdi-sprout"},model:{value:a.amount,callback:function(e){t.$set(a,"amount",e)},expression:"tree.amount"}}),e("v-icon",{attrs:{color:"red"},on:{click:()=>t.deleteSeedling(a,i)}},[t._v("mdi-delete-circle")])],1)])})),0)]),e("div",{staticClass:"d-flex align-center mt-2"},[e("v-divider",{staticClass:"mr-2"}),e("v-autocomplete",{staticStyle:{"max-width":"225px"},attrs:{"hide-details":"",rounded:"",outlined:"",dense:"","menu-props":{bottom:!0,offsetY:!0,rounded:"xl",transition:"slide-y-transition"},"return-object":"",color:"orange","item-color":"orange",label:"Add New Seedling","item-text":"tree_name","item-value":"tree_code",items:t.trees.items},model:{value:t.trees.model,callback:function(e){t.$set(t.trees,"model",e)},expression:"trees.model"}}),e("v-btn",{staticClass:"ml-2",attrs:{disabled:!t.trees.model,fab:"",rounded:"",color:"orange white--text","x-small":""},on:{click:()=>{t.addNewSeedling(i)}}},[e("v-icon",{attrs:{small:""}},[t._v("mdi-plus")])],1)],1)],1)],1)]}}],null,!0)})],1)],1)],1)],1)})),1):e("div",{staticStyle:{height:"350px"}}),e("v-row",{staticClass:"my-1 mt-3 mx-0 align-center"},[e("v-btn",{attrs:{rounded:"",outlined:"",color:"orange"},on:{click:()=>t.stepper.model-=1}},[e("v-icon",[t._v("mdi-chevron-left")]),t._v(" Back")],1),e("v-divider",{staticClass:"mx-2"}),e("v-btn",{attrs:{rounded:"",outlined:"",color:"orange",disabled:t.disabledNext2},on:{click:()=>{t.stepper.model+=1}}},[t._v("Next "),e("v-icon",[t._v("mdi-chevron-right")])],1)],1)],1),e("v-stepper-step",{attrs:{color:"orange",step:"3"}},[t._v(" Seedling Confirmation & Reason ")]),e("v-stepper-content",{attrs:{step:"3"}},[e("v-row",{staticClass:"my-0"},[e("v-col",{attrs:{cols:"12"}},[e("div",{staticClass:"d-flex align-center my-2"},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-order-bool-ascending-variant")]),e("p",{staticClass:"mb-0"},[t._v("Seedling Confirmation")]),e("v-divider",{staticClass:"ml-2"})],1),e("v-data-table",{attrs:{dense:"","hide-default-footer":"","items-per-page":-1,"multi-sort":"",headers:t.inputs.seedlingFinal.headers,items:t.inputs.seedlingFinal.items},scopedSlots:t._u([{key:"item.no",fn:function({index:e}){return[t._v(" "+t._s(e+1)+" ")]}},{key:"item.type",fn:function({item:i}){return[e("v-chip",{attrs:{small:"",color:t.getTypeColorAndLabel("color",i.type)}},[t._v(t._s(t.getTypeColorAndLabel("label",i.type)))])]}},{key:"header.new_amount",fn:function(){return[e("v-icon",{},[t._v("mdi-counter")]),t._v(" Amount ")]},proxy:!0},{key:"item.new_amount",fn:function({item:i}){return[e("v-icon",{attrs:{color:t.getTypeColorAndLabel("color",i.type)}},[t._v("mdi-sprout")]),t._v(" "+t._s(i.old_amount)+" "),"same"!=i.type?e("span",[e("v-icon",{attrs:{small:""}},[t._v("mdi-chevron-double-right")]),t._v(" "+t._s(i.new_amount)+" ")],1):t._e()]}},{key:"header.is_checked",fn:function(){return[e("v-icon",{attrs:{small:""}},[t._v("mdi-checkbox-marked-circle-outline")]),t._v(" Confirm ("+t._s(t.inputs.seedlingFinal.items.filter(t=>!0===t.is_checked).length)+"/"+t._s(t.inputs.seedlingFinal.items.length)+") ")]},proxy:!0},{key:"item.is_checked",fn:function({item:i}){return[e("v-row",{staticClass:"justify-center"},[e("v-checkbox",{attrs:{"off-icon":"mdi-circle-outline","on-icon":"mdi-check-circle",color:"green",label:i.is_checked?"Confirmed":"Check"},model:{value:i.is_checked,callback:function(e){t.$set(i,"is_checked",e)},expression:"item.is_checked"}})],1)]}}])})],1),e("v-col",{attrs:{cols:"12"}},[e("v-textarea",{attrs:{rounded:"",outlined:"",dense:"","hide-details":"",color:"green",label:t.inputs.notes.label,rows:"3","prepend-icon":"mdi-note-edit"},model:{value:t.inputs.notes.model,callback:function(e){t.$set(t.inputs.notes,"model",e)},expression:"inputs.notes.model"}})],1)],1),e("v-row",{staticClass:"my-1 mt-2 mx-0 align-center"},[e("v-btn",{attrs:{rounded:"",outlined:"",color:"orange"},on:{click:()=>t.stepper.model-=1}},[e("v-icon",[t._v("mdi-chevron-left")]),t._v(" Back")],1),e("v-divider",{staticClass:"mx-2",attrs:{color:"white"}}),e("v-btn",{attrs:{rounded:"",color:"orange white--text",disabled:t.disabledSendRequest},on:{click:()=>t.dialogs.confirmation.model=!0}},[t._v(" Send Request "),e("v-icon",{staticClass:"ml-1"},[t._v("mdi-send")])],1)],1)],1)],1),e("v-snackbar",{staticClass:"d-flex",attrs:{color:t.snackbar.color,timeout:t.snackbar.timeout,"multi-line":t.snackbar.multiLine,rounded:"xl"},model:{value:t.snackbar.show,callback:function(e){t.$set(t.snackbar,"show",e)},expression:"snackbar.show"}},[e("div",{staticClass:"d-flex justify-between"},[e("p",{staticClass:"mb-0"},[t._v(" "+t._s(t.snackbar.text)+" ")]),e("v-spacer"),e("v-icon",{staticClass:"pl-1",attrs:{small:""},on:{click:()=>t.snackbar.show=!1}},[t._v("mdi-close-circle")])],1)])],1)],1)],1)],1)},a=[],n=i("bc3a"),o=i.n(n),r=i("e135"),l=i("caa4"),d=(i("3e8f"),{components:{formRequestHelp:r["default"],createConfirmation:l["default"]},props:{show:{type:Boolean,default:!1},landProgram:{type:String,default:""},programYear:{type:String|Number,default:""}},data:()=>({alert:{type:"info",message:"Select Nursery"},dialogs:{help:{model:!1},confirmation:{model:!1}},inputs:{programYear:{label:"Program Year",model:null,loading:!1},landProgram:{label:"Land Program",items:["Petani","Umum"],model:""},nursery:{disabled:!1,model:"",items:["Arjasari","Ciminyak","Kebumen","Pati"]},distributionDate:{datepicker:{show:!1,key:1315432},label:"Distribution Date",loading:!1,model:""},mu:{items:[],model:"",loading:!1},ff:{items:[],model:"",loading:!1},pic_t4t:{items:[],model:"",loading:!1},farmer:{items:[],model:"",loading:!1},mou:{items:[],model:"",loading:!1},land:{items:[],model:"",loading:!1},activitiesStep:{last:"",model:0},seedling:[],seedlingFinal:{headers:[{text:"No",value:"no",align:"center",width:"20px",sortable:!1},{text:"Lahan No",value:"lahan_no"},{text:"Jenis",value:"tree_name"},{text:"Status",value:"type",align:"center"},{text:"Amount",value:"new_amount"},{text:"CHECK",value:"is_checked",align:"center"}],items:[],lahan_no:""},notes:{label:"Reason Notes",model:""}},loading:{show:!1,text:""},trees:{items:[],model:""},settings:{prefixUrl:"SeedlingChangeRequest/"},snackbar:{color:"green",timeout:5e3,show:!1,text:"Alert!",multiLine:!1},stepper:{model:1}}),watch:{"inputs.nursery.model":{async handler(t){t&&this.inputs.distributionDate.model&&await this.getMU()}},"inputs.distributionDate.model":{async handler(t){t&&this.inputs.distributionDate.model&&await this.getMU()}}},computed:{showDialog:{get:function(){return 1==this.show&&this.initialize(),this.show},set:async function(t){0==t&&(this.$emit("close",{name:"create"}),this.resetData())}},stepper1TitleComplete(){let t="";const e=this.inputs.landProgram.model,i=this.inputs.mu.items.find(t=>t.mu_no==this.inputs.mu.model);if(i&&(t+=i.name),"Petani"==e){const e=this.inputs.ff.items.find(t=>t.ff_no==this.inputs.ff.model);e&&(t+=" > FF: "+e.ff_name);const i=this.inputs.farmer.items.find(t=>t.farmer_no==this.inputs.farmer.model);i&&(t+=" > Petani: "+i.farmer_name)}else if("Umum"==e){const e=this.inputs.pic_t4t.items.find(t=>t.employee_no==this.inputs.pic_t4t.model);e&&(t+=" > PIC T4T: "+e.employee_name);const i=this.inputs.mou.items.find(t=>t.mou_no==this.inputs.mou.model);i&&(t+=` > PIC Lahan: ${i.pic_lahan} ~ ${i.mou_no}`)}return t+=` > ${this.inputs.land.items.length} Lahan`,t},stepper2TitleComplete(){const t=JSON.parse(JSON.stringify(this.inputs.seedling));let e=0,i=0,s=[];return t.forEach((t,a)=>{t.old.forEach(t=>{e+=parseInt(t.amount)}),t.new.forEach((e,a)=>{i+=parseInt(e.amount);const n=t.old.find(t=>t.tree_code===e.tree_code);!n&&e.amount>0&&0==s.includes(e.tree_code)&&s.push(e.tree_code)})}),this.setFinalSeedling(),`Total from ${e} to ${i} with ${s.length} new seedling`},disabledInputMU(){let t=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(t=!0),t},disabledInputFF(){let t=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(t=!0),this.inputs.mu.model||(t=!0),t},disabledInputFarmer(){let t=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(t=!0),this.inputs.mu.model||(t=!0),this.inputs.ff.model||(t=!0),t},disabledInputMOU(){let t=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(t=!0),this.inputs.mu.model||(t=!0),this.inputs.pic_t4t.model||(t=!0),t},disabledInputLand(){let t=!1;return this.inputs.nursery.model&&this.inputs.distributionDate.model||(t=!0),this.inputs.mu.model||(t=!0),this.inputs.ff.model||(t=!0),this.inputs.farmer.model||(t=!0),t},disabledNext1(){let t=!1;return this.inputs.programYear.model||(t=!0),this.inputs.landProgram.model||(t=!0),this.inputs.nursery.model||(t=!0),this.inputs.distributionDate.model||(t=!0),this.inputs.mu.model||(t=!0),"Petani"==this.inputs.landProgram.model?(this.inputs.ff.model||(t=!0),this.inputs.farmer.model||(t=!0)):"Umum"==this.inputs.landProgram.model&&(this.inputs.pic_t4t.model||(t=!0),this.inputs.mou.model||(t=!0)),0==this.inputs.land.items.length&&(t=!0),this.inputs.activitiesStep.model<3&&(t=!0),t},disabledNext2(){return!1},disabledSendRequest(){let t=!1,e=this.inputs.seedlingFinal.items;if(e.length<1)t=!0;else{let i=0;e.map(t=>{1==t.is_checked&&(i+=1)}),e.length>i&&(t=!0)}return this.inputs.notes.model||(t=!0),t}},async mounted(){},methods:{async initialize(){this.stepper.model=1,this.inputs.programYear.model=this.programYear||this.$store.state.programYear.model,this.inputs.landProgram.model=this.landProgram||"Petani",await this.setNurserySite()},async getMU(){try{this.inputs.mu.loading=!0,this.inputs.mu.model="",this.inputs.mu.items=[],this.inputs.ff.model="",this.inputs.ff.items=[],this.inputs.pic_t4t.model="",this.inputs.pic_t4t.items=[],this.inputs.farmer.model="",this.inputs.farmer.items=[],this.inputs.mou.model="",this.inputs.mou.items=[],this.inputs.land.model="",this.inputs.land.items=[];const t=new URLSearchParams({program_year:this.inputs.programYear.model,land_program:this.inputs.landProgram.model,nursery:this.inputs.nursery.model,distribution_date:this.inputs.distributionDate.model}),e=this.$store.getters.getApiUrl(`${this.settings.prefixUrl}GetMU?${t}`),i=await o.a.get(e,this.$store.state.apiConfig).then(t=>t.data);this.inputs.mu.items=i.list}catch(t){this.sessionEnd(t),console.log(t)}finally{this.inputs.mu.loading=!1}},async getFForPICT4T(t){try{if(t){const e=this.inputs.programYear.model,i=this.inputs.landProgram.model;this.alert.message="Select FF",this.inputs.ff.loading=!0,this.inputs.ff.model="",this.inputs.ff.items=[],this.inputs.farmer.model="",this.inputs.farmer.items=[],this.inputs.pic_t4t.loading=!0,this.inputs.pic_t4t.model="",this.inputs.pic_t4t.items=[],this.inputs.mou.model="",this.inputs.mou.items=[],this.inputs.land.model="",this.inputs.land.items=[];const s=new URLSearchParams({program_year:e,land_program:i,mu_no:t,distribution_date:this.inputs.distributionDate.model}),a=this.$store.getters.getApiUrl(`${this.settings.prefixUrl}GetFF?${s}`),n=await o.a.get(a,this.$store.state.apiConfig).then(t=>t.data);"Petani"==i?this.inputs.ff.items=n.list:"Umum"==i&&(this.inputs.pic_t4t.items=n.list)}}catch(e){this.sessionEnd(e),console.log(e)}finally{this.inputs.ff.loading=!1,this.inputs.pic_t4t.loading=!1}},async getFarmerOrMOU(t){try{if(t){const e=this.inputs.programYear.model,i=this.inputs.landProgram.model;this.inputs.farmer.loading=!0,this.inputs.farmer.model="",this.inputs.farmer.items=[],this.inputs.mou.loading=!0,this.inputs.mou.model="",this.inputs.mou.items=[],this.inputs.land.model="",this.inputs.land.items=[];const s=new URLSearchParams({program_year:e,land_program:i,ff_no:t,distribution_date:this.inputs.distributionDate.model});"Umum"==i&&(await s.delete("ff_no"),await s.set("employee_no",this.inputs.pic_t4t.model));const a=this.$store.getters.getApiUrl(`${this.settings.prefixUrl}GetFarmer?${s}`),n=await o.a.get(a,this.$store.state.apiConfig).then(t=>t.data);"Petani"==i?this.inputs.farmer.items=n.list:"Umum"==i&&(this.inputs.mou.items=n.list)}}catch(e){this.sessionEnd(e),console.log(e)}finally{this.inputs.farmer.loading=!1,this.inputs.mou.loading=!1}},async getLand(t){try{if(t){const e=this.inputs.programYear.model,i=this.inputs.landProgram.model;this.alert.message="Select Land",this.loading.show=!0,this.loading.text="Getting land data...",this.inputs.land.model="",this.inputs.land.items=[];const s=new URLSearchParams({program_year:e,land_program:i,farmer_no:t,distribution_date:this.inputs.distributionDate.model});"Umum"==i&&(await s.delete("farmer_no"),await s.set("mou_no",this.inputs.mou.model));const a=this.$store.getters.getApiUrl(`${this.settings.prefixUrl}GetLand?${s}`),n=await o.a.get(a,this.$store.state.apiConfig).then(t=>t.data);n.activities.includes("Pendataan Lahan")&&(this.inputs.activitiesStep.model=1),n.activities.includes("Sosialisasi Tanam")&&(this.inputs.activitiesStep.model=2),n.activities.includes("Penilikan Lubang")&&(this.inputs.activitiesStep.model=3),n.activities.includes("Print Label")&&(this.inputs.activitiesStep.model=4),n.activities.includes("Load Bag")&&(this.inputs.activitiesStep.model=5),n.activities.includes("Distribute Bag")&&(this.inputs.activitiesStep.model=6),n.activities.includes("Realisasi Tanam")&&(this.inputs.activitiesStep.model=7),this.inputs.activitiesStep.last=n.activities[n.activities.length-1],this.inputs.land.items=n.list}}catch(e){this.sessionEnd(e),console.log(e)}finally{this.loading.show=!1}},async getLandDetail(t){try{const e=new URLSearchParams({lahan_no:t,land_program:this.inputs.landProgram.model,program_year:this.inputs.programYear.model}),i=this.$store.getters.getApiUrl(`${this.settings.prefixUrl}GetLandDetail?${e}`),s=await o.a.get(i,this.$store.state.apiConfig).then(t=>t.data);return s.penlub_bibit}catch(e){return this.sessionEnd(e),console.log(e),!1}},async getTreesLocations(t){try{const e=new URLSearchParams({mu_no:t}),i=this.$store.getters.getApiUrl(`${this.settings.prefixUrl}GetTreesPerMU?${e}`),s=await o.a.get(i,this.$store.state.apiConfig).then(t=>t.data);return s}catch(e){return this.sessionEnd(e),console.log(e),!1}},async getSeedlingChangeData(){try{this.inputs.seedling=[];const t=this.inputs.land.items,e=t.length;let i=0;if(this.loading.show=!0,this.inputs.seedling=[],e>0)for(let a=0;a<e;a++){this.loading.text=`Getting land data (${i}/${e})...`;let s=await this.getLandDetail(t[a].lahan_no);this.inputs.seedling.push(Object.assign({},{lahan_no:t[a].lahan_no,old:s,new:JSON.parse(JSON.stringify(s))})),i+=1}this.loading.text="Getting trees data...";const s=await this.getTreesLocations(this.inputs.mu.model);this.trees.items=s}catch(t){this.sessionEnd(t),console.log(t)}finally{this.loading.show=!1,this.loading.text="Loading..."}},async setFinalSeedling(){try{this.inputs.seedlingFinal.lahan_no="",this.inputs.seedlingFinal.items=[];const t=JSON.parse(JSON.stringify(this.inputs.seedling));let e=[],i=[];for(let s=0;s<t.length;s++){const a=t[s],n=a.new,o=a.old;e.push(a.lahan_no),await n.map(t=>{let e=o.find(e=>e.tree_code===t.tree_code),s=0;e&&(s=e.amount);const n=t.amount;let r="";r=s==n?"same":"change",0==s&&(r="new"),0==n&&(r="remove");const l={lahan_no:a.lahan_no,type:r,tree_code:t.tree_code,tree_name:t.tree_name,old_amount:s,new_amount:n,is_checked:0};r&&(s>0||n>0)&&i.push(l)})}e=e.toString(),this.inputs.seedlingFinal.lahan_no=e,this.inputs.seedlingFinal.items=i}catch(t){return this.sessionEnd(t),console.log(t),!1}},async sendRequest(){try{this.dialogs.confirmation.model=!1,this.loading.show=!0,this.loading.text="Sending request...";const t=this.inputs;let e=this.$store.getters.getApiUrl(this.settings.prefixUrl+"AddRequest"),i=this.$store.state.apiConfig,s={program_year:t.programYear.model,land_program:t.landProgram.model,distribution_date:t.distributionDate.model,nursery:t.nursery.model,mu_no:t.mu.model,lahan_no:t.seedlingFinal.lahan_no,notes:t.notes.model,seedlings:JSON.parse(JSON.stringify(t.seedlingFinal.items)),last_activity:t.activitiesStep.last};"Petani"==s.land_program?s.farmer_no=t.farmer.model:"Umum"==s.land_program&&(s.mou_no=t.mou.model);const a=await o.a.post(e,s,i);a&&(this.resetData(),this.$emit("close",{name:"create",snackbar:{text:"Send request success!",color:"green",show:!0}}))}catch(t){this.sessionEnd(t),console.log(t)}finally{this.loading.show=!1,this.loading.text="Loading..."}},async addNewSeedling(t){let e=t.new,i=this.trees.model;const s=await e.find(t=>t.tree_code===i.tree_code);if(s)this.snackbar.text="Already exist!",this.snackbar.color="red";else{this.snackbar.text="Added new seedling!",this.snackbar.color="green";let t={tree_code:i.tree_code,tree_name:i.tree_name,tree_category:i.tree_category,amount:0};e.push(t)}this.snackbar.timeout=1e3,this.snackbar.show=!0,this.trees.model=""},async deleteSeedling(t,e){try{const i=e.old.find(e=>e.tree_code===t.tree_code);if(i)t.amount=0,this.snackbar.text="Seedling Cleared!";else{const i=e.new.findIndex(e=>e.tree_code===t.tree_code);e.new.splice(i,1),this.snackbar.text="Seedling Deleted!"}this.snackbar.color="green"}catch{this.snackbar.text="Failed to delete!",this.snackbar.color="red"}finally{this.snackbar.show=!0}},getNewSeedlingColor(t,e){let i=this.inputs.seedling[e].old;const s=i.find(e=>e.tree_code==t.tree_code);let a="";return a=s?s.amount!=t.amount?0==t.amount?"red--text":"orange--text":"":"blue--text",a+(a?" font-weight-bold":"")},getTotalTrees(t){try{if(t.length>0){let e=0;return t.forEach(t=>{e+=parseInt(t.amount)}),e}return 0}catch{return 0}},getTypeColorAndLabel(t,e){if("color"==t){let t="grey darken-1";return"remove"==e&&(t="red"),"change"==e&&(t="orange"),"new"==e&&(t="blue"),t+" white--text"}{let t="TETAP";return"remove"==e&&(t="HAPUS"),"change"==e&&(t="BERUBAH"),"new"==e&&(t="BARU"),t}},resetData(){this.inputs.programYear.model="",this.inputs.nursery.model="",this.inputs.nursery.disabled=!1,this.inputs.distributionDate.model="",this.inputs.mu.model="",this.inputs.ff.model="",this.inputs.pic_t4t.model="",this.inputs.farmer.model="",this.inputs.mou.model="",this.inputs.land.model="",this.inputs.notes.model="",this.inputs.activitiesStep.last="",this.inputs.activitiesStep.model=0},sessionEnd(t){t.response&&"undefined"!=typeof t.response.status&&(401==t.response.status?(localStorage.removeItem("token"),this.$router.push("/")):400==t.response.status&&(this.snackbar.text=t.response.data,this.snackbar.color="red",this.snackbar.show=!0))},async setNurserySite(){const t=this.$store.state.nurseryTeam.emails.Arjasari,e=this.$store.state.nurseryTeam.emails.Ciminyak,i=[...this.$store.state.nurseryTeam.emails.Kebumen,"rizki.pradhitya@trees4trees.org"],s=[...this.$store.state.nurseryTeam.emails.Pati,"um_pati@t4t.org"],a=this.$store.state.User,n=a.email;let o=this.inputs.nursery.model;t.includes(n)?o="Arjasari":e.includes(n)?o="Ciminyak":i.includes(n)?o="Kebumen":s.includes(n)&&(o="Pati"),o&&"IT"!=a.role_group&&(this.inputs.nursery.disabled=!0),this.inputs.nursery.model=o},async setTesterData(){"Umum"==this.landProgram?(this.inputs.nursery.model=await"Arjasari",this.inputs.distributionDate.model=await"2023-02-07",await this.getMU(),this.inputs.mu.model="022",await this.getFForPICT4T("022"),this.inputs.pic_t4t.model="04-0006",await this.getFarmerOrMOU("04-0006"),this.inputs.mou.model="112/T4T-U/CRS-I/XI/2022",await this.getLand("112/T4T-U/CRS-I/XI/2022")):"Petani"==this.landProgram&&(this.inputs.nursery.model=await"Kebumen",this.inputs.distributionDate.model=await"2022-12-05",await this.getMU(),this.inputs.mu.model="019",await this.getFForPICT4T("019"),this.inputs.ff.model="FF00000992",await this.getFarmerOrMOU("FF00000992"),this.inputs.farmer.model="F00019831",await this.getLand("F00019831")),this.stepper.model=2,await this.getSeedlingChangeData(),this.inputs.seedling[0].new[0].amount=0,this.inputs.seedling[0].new[1].amount=3,this.inputs.seedling[0].new[3].amount=23,this.inputs.seedling[0].new.push({tree_code:this.trees.items[2].tree_code,tree_name:this.trees.items[2].tree_name,amount:9}),await this.setFinalSeedling(),this.stepper.model=3,setTimeout(()=>{this.inputs.notes.model="Tester change request...",this.dialogs.confirmation.model=!0,setTimeout(()=>{this.sendRequest()},1e3)},1e3)}}}),c=d,u=i("2877"),p=i("6544"),m=i.n(p),h=i("c6a6"),v=i("8212"),g=i("8336"),f=i("b0af"),b=i("99d9"),_=i("ac7c"),y=i("cc20"),x=i("62ad"),k=i("8fea"),w=i("2e4b"),C=i("169a"),S=i("ce7e"),$=i("ce87"),T=i("132d"),V=i("5d23"),P=i("e449"),I=i("a797"),D=i("490a"),A=i("0fd9"),F=i("1f4f"),L=i("2db4"),O=i("2fa4"),U=i("7e85"),B=i("e516"),j=i("9c54"),N=i("56a4"),R=i("8654"),E=i("a844"),M=Object(u["a"])(c,s,a,!1,null,null,null);e["default"]=M.exports;m()(M,{VAutocomplete:h["a"],VAvatar:v["a"],VBtn:g["a"],VCard:f["a"],VCardText:b["c"],VCardTitle:b["d"],VCheckbox:_["a"],VChip:y["a"],VCol:x["a"],VDataTable:k["a"],VDatePicker:w["a"],VDialog:C["a"],VDivider:S["a"],VHover:$["a"],VIcon:T["a"],VListItemContent:V["a"],VListItemSubtitle:V["b"],VListItemTitle:V["c"],VMenu:P["a"],VOverlay:I["a"],VProgressCircular:D["a"],VRow:A["a"],VSimpleTable:F["a"],VSnackbar:L["a"],VSpacer:O["a"],VStepper:U["a"],VStepperContent:B["a"],VStepperHeader:j["a"],VStepperStep:N["a"],VTextField:R["a"],VTextarea:E["a"]})},fe09:function(t,e,i){"use strict";var s=i("c37a"),a=i("5607"),n=i("2b0e"),o=n["default"].extend({name:"rippleable",directives:{ripple:a["a"]},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple(t={}){return this.ripple?(t.staticClass="v-input--selection-controls__ripple",t.directives=t.directives||[],t.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",t)):null}}}),r=i("8547"),l=i("58df");function d(t){t.preventDefault()}e["a"]=Object(l["a"])(s["a"],o,r["a"]).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive(){const t=this.value,e=this.internalValue;return this.isMultiple?!!Array.isArray(e)&&e.some(e=>this.valueComparator(e,t)):void 0===this.trueValue||void 0===this.falseValue?t?this.valueComparator(t,e):Boolean(e):this.valueComparator(e,this.trueValue)},isDirty(){return this.isActive},rippleState(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel(){const t=s["a"].options.methods.genLabel.call(this);return t?(t.data.on={click:d},t):t},genInput(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:d},ref:"input"})},onBlur(){this.isFocused=!1},onClick(t){this.onChange(),this.$emit("click",t)},onChange(){if(!this.isInteractive)return;const t=this.value;let e=this.internalValue;if(this.isMultiple){Array.isArray(e)||(e=[]);const i=e.length;e=e.filter(e=>!this.valueComparator(e,t)),e.length===i&&e.push(t)}else e=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(e,this.trueValue)?this.falseValue:this.trueValue:t?this.valueComparator(e,t)?null:t:!e;this.validate(!0,e),this.internalValue=e,this.hasColor=e},onFocus(){this.isFocused=!0},onKeydown(t){}}})}}]);
//# sourceMappingURL=chunk-7f3e32c5.8643841d.js.map
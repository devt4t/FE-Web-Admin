(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24a1dce0"],{"23a7":function(e,t,a){"use strict";var n=a("2909"),i=a("5530"),r=a("53ca"),s=(a("a9e3"),a("caad"),a("d81d"),a("b0c0"),a("99af"),a("a434"),a("159b"),a("fb6a"),a("5803"),a("2677")),o=a("cc20"),l=a("80d2"),u=a("d9bd"),c=a("d9f7");t["a"]=s["a"].extend({name:"v-file-input",model:{prop:"value",event:"change"},props:{chips:Boolean,clearable:{type:Boolean,default:!0},counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},hideInput:Boolean,placeholder:String,prependIcon:{type:String,default:"$file"},readonly:{type:Boolean,default:!1},showSize:{type:[Boolean,Number],default:!1,validator:function(e){return"boolean"===typeof e||[1e3,1024].includes(e)}},smallChips:Boolean,truncateLength:{type:[Number,String],default:22},type:{type:String,default:"file"},value:{default:void 0,validator:function(e){return Object(l["H"])(e).every((function(e){return null!=e&&"object"===Object(r["a"])(e)}))}}},computed:{classes:function(){return Object(i["a"])(Object(i["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-file-input":!0})},computedCounterValue:function(){var e=this.isMultiple&&this.lazyValue?this.lazyValue.length:this.lazyValue instanceof File?1:0;if(!this.showSize)return this.$vuetify.lang.t(this.counterString,e);var t=this.internalArrayValue.reduce((function(e,t){var a=t.size,n=void 0===a?0:a;return e+n}),0);return this.$vuetify.lang.t(this.counterSizeString,e,Object(l["w"])(t,1024===this.base))},internalArrayValue:function(){return Object(l["H"])(this.internalValue)},internalValue:{get:function(){return this.lazyValue},set:function(e){this.lazyValue=e,this.$emit("change",this.lazyValue)}},isDirty:function(){return this.internalArrayValue.length>0},isLabelActive:function(){return this.isDirty},isMultiple:function(){return this.$attrs.hasOwnProperty("multiple")},text:function(){var e=this;return this.isDirty||!this.isFocused&&this.hasLabel?this.internalArrayValue.map((function(t){var a=t.name,n=void 0===a?"":a,i=t.size,r=void 0===i?0:i,s=e.truncateText(n);return e.showSize?"".concat(s," (").concat(Object(l["w"])(r,1024===e.base),")"):s})):[this.placeholder]},base:function(){return"boolean"!==typeof this.showSize?this.showSize:void 0},hasChips:function(){return this.chips||this.smallChips}},watch:{readonly:{handler:function(e){!0===e&&Object(u["b"])("readonly is not supported on <v-file-input>",this)},immediate:!0},value:function(e){var t=this.isMultiple?e:e?[e]:[];Object(l["j"])(t,this.$refs.input.files)||(this.$refs.input.value="")}},methods:{clearableCallback:function(){this.internalValue=this.isMultiple?[]:null,this.$refs.input.value=""},genChips:function(){var e=this;return this.isDirty?this.text.map((function(t,a){return e.$createElement(o["a"],{props:{small:e.smallChips},on:{"click:close":function(){var t=e.internalValue;t.splice(a,1),e.internalValue=t}}},[t])})):[]},genControl:function(){var e=s["a"].options.methods.genControl.call(this);return this.hideInput&&(e.data.style=Object(c["d"])(e.data.style,{display:"none"})),e},genInput:function(){var e=s["a"].options.methods.genInput.call(this);return delete e.data.domProps.value,delete e.data.on.input,e.data.on.change=this.onInput,[this.genSelections(),e]},genPrependSlot:function(){var e=this;if(!this.prependIcon)return null;var t=this.genIcon("prepend",(function(){e.$refs.input.click()}));return this.genSlot("prepend","outer",[t])},genSelectionText:function(){var e=this.text.length;return e<2?this.text:this.showSize&&!this.counter?[this.computedCounterValue]:[this.$vuetify.lang.t(this.counterString,e)]},genSelections:function(){var e=this,t=[];return this.isDirty&&this.$scopedSlots.selection?this.internalArrayValue.forEach((function(a,n){e.$scopedSlots.selection&&t.push(e.$scopedSlots.selection({text:e.text[n],file:a,index:n}))})):t.push(this.hasChips&&this.isDirty?this.genChips():this.genSelectionText()),this.$createElement("div",{staticClass:"v-file-input__text",class:{"v-file-input__text--placeholder":this.placeholder&&!this.isDirty,"v-file-input__text--chips":this.hasChips&&!this.$scopedSlots.selection}},t)},genTextFieldSlot:function(){var e=this,t=s["a"].options.methods.genTextFieldSlot.call(this);return t.data.on=Object(i["a"])(Object(i["a"])({},t.data.on||{}),{},{click:function(){return e.$refs.input.click()}}),t},onInput:function(e){var t=Object(n["a"])(e.target.files||[]);this.internalValue=this.isMultiple?t:t[0],this.initialValue=this.internalValue},onKeyDown:function(e){this.$emit("keydown",e)},truncateText:function(e){if(e.length<Number(this.truncateLength))return e;var t=Math.floor((Number(this.truncateLength)-1)/2);return"".concat(e.slice(0,t),"â€¦").concat(e.slice(e.length-t))}}})},2677:function(e,t,a){"use strict";var n=a("8654");t["a"]=n["a"]},5803:function(e,t,a){},"7aac5":function(e){e.exports=JSON.parse("{}")},e868:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{"content-class":"rounded-xl mx-1","max-width":"999",scrollable:"",persistent:""},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[a("v-card",[a("v-card-title",{staticClass:"rounded-xl green darken-3 ma-1 pa-2"},[a("span",{staticClass:"white--text"},[a("v-btn",{staticClass:"white dark--text mr-1",attrs:{fab:"","x-small":""}},[a("v-icon",{attrs:{color:"grey darken-3"}},[e._v("mdi-account-heart")])],1),e._v(" Form Minat Petani")],1),a("v-icon",{staticClass:"ml-auto",attrs:{color:"white"},on:{click:function(t){e.showModal=!1}}},[e._v("mdi-close-circle")])],1),a("v-card-text",{staticClass:"pa-0"},[a("v-overlay",{attrs:{absolute:"",value:e.loading.show}},[a("div",{staticClass:"d-flex flex-column justify-center align-center"},[a("v-progress-circular",{attrs:{size:80,width:10,indeterminate:"",color:"white"}}),a("p",{staticClass:"mt-2 mb-0"},[e._v(e._s(e.loading.text))])],1)]),a("v-row",{staticClass:"ma-0 mx-2 mx-lg-5"},[a("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"12"}},[a("p",{staticClass:"mb-0 red--text"},[e._v(' Tanda "'),a("v-icon",{attrs:{color:"red"}},[e._v(e._s(e.localConfig.requiredInputIcon))]),e._v('" menandakan WAJIB DIISI. ')],1)]),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex align-center"},[a("p",{staticClass:"mb-0",staticStyle:{"font-size":"17px"}},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-city")]),e._v("Lokasi Desa ")],1),a("v-divider",{staticClass:"mx-2"})],1)]),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("v-autocomplete",{attrs:{dense:"",color:"success","hide-details":"","item-color":"success","item-text":"name","item-value":"mu_no",items:e.inputs.mu_no.items,label:e.inputs.mu_no.label,loading:e.inputs.mu_no.loading,"menu-props":{rounded:"xl",transition:"slide-y-transition"},"no-data-text":e.inputs.mu_no.loading?"Loading...":"No Data",outlined:"",rounded:"",rules:[function(e){return!!e||"Field is required"}]},on:{change:function(t){return e.getOptionsData({type:"target_area"})}},scopedSlots:e._u([{key:"label",fn:function(){return[e.inputs.mu_no.labelIcon?a("v-icon",{staticClass:"mr-1"},[e._v(e._s(e.inputs.mu_no.labelIcon))]):e._e(),e._v(" "+e._s(e.inputs.mu_no.label)+" "),a("sup",[e.inputs.mu_no.required?a("v-icon",{staticStyle:{"vertical-align":"middle"},attrs:{small:""}},[e._v(e._s(e.localConfig.requiredInputIcon))]):e._e()],1)]},proxy:!0}]),model:{value:e.inputs.mu_no.model,callback:function(t){e.$set(e.inputs.mu_no,"model",t)},expression:"inputs.mu_no.model"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("v-autocomplete",{attrs:{dense:"",color:"success","hide-details":"","item-color":"success","item-text":"name","item-value":"area_code",items:e.inputs.target_area.items,label:e.inputs.target_area.label,loading:e.inputs.target_area.loading,"menu-props":{rounded:"xl",transition:"slide-y-transition"},"no-data-text":e.inputs.target_area.loading?"Loading...":"No Data",disabled:!1,outlined:"",rounded:"",rules:[function(e){return!!e||"Field is required"}]},on:{change:function(t){return e.getOptionsData({type:"village"})}},scopedSlots:e._u([{key:"label",fn:function(){return[e.inputs.target_area.labelIcon?a("v-icon",{staticClass:"mr-1"},[e._v(e._s(e.inputs.target_area.labelIcon))]):e._e(),e._v(" "+e._s(e.inputs.target_area.label)+" "),a("sup",[e.inputs.target_area.required?a("v-icon",{staticStyle:{"vertical-align":"middle"},attrs:{small:""}},[e._v(e._s(e.localConfig.requiredInputIcon))]):e._e()],1)]},proxy:!0}]),model:{value:e.inputs.target_area.model,callback:function(t){e.$set(e.inputs.target_area,"model",t)},expression:"inputs.target_area.model"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("v-autocomplete",{attrs:{dense:"",color:"success","hide-details":"","item-color":"success","item-text":"name","item-value":"kode_desa",items:e.inputs.village.items,label:e.inputs.village.label,loading:e.inputs.village.loading,"menu-props":{rounded:"xl",transition:"slide-y-transition"},"no-data-text":e.inputs.village.loading?"Loading...":"No Data",disabled:!1,outlined:"",rounded:"",rules:[function(e){return!!e||"Field is required"}]},scopedSlots:e._u([{key:"label",fn:function(){return[e.inputs.village.labelIcon?a("v-icon",{staticClass:"mr-1"},[e._v(e._s(e.inputs.village.labelIcon))]):e._e(),e._v(" "+e._s(e.inputs.village.label)+" "),a("sup",[e.inputs.village.required?a("v-icon",{staticStyle:{"vertical-align":"middle"},attrs:{small:""}},[e._v(e._s(e.localConfig.requiredInputIcon))]):e._e()],1)]},proxy:!0}]),model:{value:e.inputs.village.model,callback:function(t){e.$set(e.inputs.village,"model",t)},expression:"inputs.village.model"}})],1)],1),a("v-row",{staticClass:"ma-0 mx-2 mx-lg-5"},[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex align-center"},[a("p",{staticClass:"mb-0",staticStyle:{"font-size":"17px"}},[a("v-icon",{staticClass:"mr-2"},[e._v("mdi-calendar")]),e._v("Tanggal ")],1),a("v-divider",{staticClass:"mx-2"})],1)]),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("v-menu",{attrs:{rounded:"xl",transition:"slide-x-transition",bottom:"","min-width":"100","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,i=t.attrs;return[a("v-tooltip",{attrs:{top:"","content-class":"rounded-xl"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g(e._b({staticClass:"mb-2 mb-lg-0 mr-0 mr-lg-2",attrs:{dense:"",color:"green","hide-details":"",outlined:"",rounded:"",readonly:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" "+e._s(e.inputs.form_date.label)+" "),a("sup",[e.inputs.form_date.required?a("v-icon",{staticStyle:{"vertical-align":"middle"},attrs:{small:""}},[e._v(e._s(e.localConfig.requiredInputIcon))]):e._e()],1)]},proxy:!0}],null,!0),model:{value:e.inputs.form_date.modelShow,callback:function(t){e.$set(e.inputs.form_date,"modelShow",t)},expression:"inputs.form_date.modelShow"}},"v-text-field",i,!1),Object.assign({},n,r)))]}}],null,!0)},[a("span",[e._v("Klik untuk memunculkan datepicker")])])]}}]),model:{value:e.inputs.form_date.show,callback:function(t){e.$set(e.inputs.form_date,"show",t)},expression:"inputs.form_date.show"}},[a("div",{staticClass:"rounded-xl pb-2 white"},[a("div",{staticClass:"d-flex flex-column align-center rounded-xl"},[a("v-date-picker",{attrs:{range:"range"===e.inputs.form_date.dateType,color:"green lighten-1 rounded-xl",min:"2022-11-24"},model:{value:e.inputs.form_date.model,callback:function(t){e.$set(e.inputs.form_date,"model",t)},expression:"inputs.form_date.model"}})],1)])])],1)],1),a("v-row",{staticClass:"ma-0 mx-2 mx-lg-5"},[a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"d-flex align-center"},[a("p",{staticClass:"mb-0",staticStyle:{"font-size":"17px"}},[a("v-icon",{staticClass:"mr-2"},[e._v(e._s(e.inputs.list_farmer.labelIcon))]),e._v(e._s(e.inputs.list_farmer.label)+" ")],1),a("v-divider",{staticClass:"mx-2"})],1)]),a("v-col",{attrs:{cols:"12"}},[e._l(e.inputs.list_farmer.model,(function(t,n){return a("v-row",{key:"farmer-"+n,staticClass:"mx-0"},[a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{staticClass:"elevation-0 mt-1",attrs:{fab:"","x-small":"",color:"green white--text"}},[e._v(e._s(n+1))])],1),a("v-col",{attrs:{cols:"12",md:"10",lg:"10"}},[a("v-row",e._l(Object.entries(e.inputs.list_farmer.form),(function(i,r){return e.inputsListFarmerRoles(i,n)?a("v-col",{key:"input-farmer-"+n+"-"+r,attrs:{cols:i[1].cols[0],sm:i[1].cols[1],md:i[1].cols[2],lg:i[1].cols[3]}},["text-field"==i[1].inputType?a("div",[a("v-text-field",{attrs:{dense:"",color:"success","hide-details":"",label:i[1].label,outlined:"",rounded:"",placeholder:i[1].placeholder,type:i[1].type},scopedSlots:e._u([{key:"label",fn:function(){return[i[1].labelIcon?a("v-icon",{staticClass:"mr-1"},[e._v(e._s(i[1].labelIcon))]):e._e(),e._v(" "+e._s(i[1].label)+" "),a("sup",[e.inputsListFarmerRequired(i,n)?a("v-icon",{staticStyle:{"vertical-align":"middle"},attrs:{small:""}},[e._v(e._s(e.localConfig.requiredInputIcon))]):e._e()],1)]},proxy:!0},{key:"append",fn:function(){return[a("div",{staticClass:"mt-1 ml-1",domProps:{innerHTML:e._s(i[1].append)}})]},proxy:!0}],null,!0),model:{value:t[i[0]],callback:function(a){e.$set(t,i[0],a)},expression:"item[input[0]]"}})],1):"autocomplete"==i[1].inputType?a("div",[a("v-autocomplete",{attrs:{"small-chips":i[1].chips,clearable:i[1].clearable,color:"success",dense:i[1].dense,"hide-details":"","item-color":"success","item-text":i[1].itemText,"item-value":i[1].itemValue,items:i[1].items,multiple:i[1].multiple,label:i[1].label,"menu-props":{rounded:"xl",transition:"slide-y-transition"},outlined:"",rounded:"",readonly:i[1].readonly},on:{change:function(t){return e.inputsListFarmerChange(i,n)}},scopedSlots:e._u([{key:"label",fn:function(){return[i[1].labelIcon?a("v-icon",{staticClass:"mr-1"},[e._v(e._s(i[1].labelIcon))]):e._e(),e._v(" "+e._s(i[1].label)+" "),a("sup",[e.inputsListFarmerRequired(i,n)?a("v-icon",{staticStyle:{"vertical-align":"middle"},attrs:{small:""}},[e._v(e._s(e.localConfig.requiredInputIcon))]):e._e()],1)]},proxy:!0},{key:"item",fn:function(t){return[a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:e._s(t.item[i[1].itemText]||t.item)}}),t.item[i[1].itemSub]?a("v-list-item-subtitle",[e._v(e._s(t.item[i[1].itemSub]))]):e._e()],1)]}},{key:"selection",fn:function(t){var n=t.attrs,r=t.item,s=t.parent,o=t.selected;return[i[1].chips?a("v-chip",e._b({staticClass:"rounded-pill",attrs:{"input-value":o,label:"",small:""}},"v-chip",n,!1),[a("span",{staticClass:"pr-2"},[e._v(" "+e._s(r[i[1].itemText]||r)+" ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return s.selectItem(r)}}},[e._v(" mdi-close-circle ")])],1):a("span",[e._v(" "+e._s(r[i[1].itemText]||r)+" ")])]}}],null,!0),model:{value:t[i[0]],callback:function(a){e.$set(t,i[0],a)},expression:"item[input[0]]"}})],1):"file-input"==i[1].inputType?a("div",[a("v-file-input",{ref:"filePhotoMinat",refInFor:!0,attrs:{accept:i[1].accept,clearable:i[1].clearable,color:"success",dense:i[1].dense,"hide-details":"",label:i[1].label,outlined:"",rounded:"",placeholder:i[1].placeholder,"prepend-icon":i[1].prependIcon,readonly:i[1].readonly,"show-size":i[1].showSize,"small-chips":i[1].chips,solo:i[1].solo,"solo-inverted":i[1].soloInverted,success:i[1].success,"validate-on-blur":i[1].validateOnBlur},on:{change:function(a){return e.previewFile(t,n)}},scopedSlots:e._u([{key:"label",fn:function(){return[i[1].labelIcon?a("v-icon",{staticClass:"mr-1"},[e._v(e._s(i[1].labelIcon))]):e._e(),e._v(" "+e._s(i[1].label)+" ")]},proxy:!0},{key:"selection",fn:function(t){var n=t.text;return[a("span",[e._v(e._s(n))])]}}],null,!0),model:{value:t[i[0]],callback:function(a){e.$set(t,i[0],a)},expression:"item[input[0]]"}}),a("div",{staticClass:"h-25 w-25"},[e.previewPhotoMinat[n]?a("v-img",{staticClass:"rounded mt-2 ",attrs:{width:300,height:300,src:e.previewPhotoMinat[n]}},[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.removePreviewPhotoMinat(n)}}},[e._v("mdi-close-circle")])],1):e._e()],1)],1):e._e()]):e._e()})),1)],1),n>0?a("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"auto",lg:"1"}},[a("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"elevation-0 mt-1",attrs:{fab:"","x-small":"",color:"red white--text",disabled:0===n},on:{click:function(){return e.modifyTotalSubData("-","list_farmer",n)}}},"v-btn",r,!1),i),[a("v-icon",[e._v("mdi-close")])],1)]}}],null,!0)},[e._v(" Remove data ")])],1):e._e()],1)})),a("v-row",{staticClass:"justify-center ma-0 mt-4"},[a("v-btn",{staticClass:"pl-2",attrs:{rounded:"",color:"green white--text",outlined:""},on:{click:function(){return e.modifyTotalSubData("+","list_farmer")}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-plus-circle")]),e._v(" Tambah Data ")],1)],1)],2)],1)],1),a("v-card-actions",[a("v-btn",{staticClass:"pl-2",attrs:{"data-aos":"zoom-in","data-aos-duration":"300","data-aos-offset":"-100000",text:"",rounded:"",color:"red"}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-close-circle")]),e._v(" Close ")],1),a("v-divider",{staticClass:"mx-2"}),a("v-btn",{key:"saveButton"+e.disableSave,attrs:{"data-aos":"zoom-in","data-aos-duration":"700","data-aos-offset":"-100000",color:"primary white--text",rounded:"",disabled:e.isDisabled},on:{click:function(){return e.save()}}},[a("v-icon",{staticClass:"mr-1"},[e._v("mdi-content-save")]),e._v(" Save ")],1)],1)],1)],1)},i=[],r=a("5530"),s=a("2909"),o=a("3835"),l=a("1da1"),u=(a("4fad"),a("159b"),a("b0c0"),a("caad"),a("2532"),a("4de4"),a("a434"),a("3ca3"),a("ddb0"),a("d3b7"),a("d81d"),a("99af"),a("2b3d"),a("96cf"),a("bc3a")),c=a.n(u),p=a("c1df"),d=a.n(p),m=a("3d20"),f=a.n(m),h=(a("7aac5"),{props:{show:{type:Boolean,default:!1},id:{type:String,default:null},form_no:{type:String,default:null},programYear:{type:String,default:d()().format("YYYY")},status:{type:String,default:null}},data:function(){return{previewPhotoMinat:[],tempDataPhoto:[],isDisabled:!1,inputs:{program_year:{model:"",required:!0},mu_no:{type:"text",label:"Management Unit",model:"",required:!0,items:[],loading:!1},target_area:{type:"text",label:"Target Area",model:"",required:!0,items:[],loading:!1},village:{type:"text",items:[],label:"Desa",required:!0,model:"",loading:!1},form_date:{loading:!1,label:"Tanggal Sosialisasi",model:null,modelShow:"",inputType:"datepicker",dateType:"date",lgView:4,required:!0,type:"Date"},list_farmer:{default:[{name:null,respond_to_programs:null,pattern:null,training:null,kayu:[],mpts:[],photo_form_minat:[]}],form:{name:{cols:[12,12,12,12],inputType:"text-field",label:"Nama Petani",labelIcon:"mdi-account-tag",type:"text"},respond_to_programs:{chips:!1,clearable:!1,cols:[12,6,6,5],dense:!0,inputType:"autocomplete",items:["Ya","Ragu - Ragu","Tidak"],itemSub:null,itemText:"value",itemValue:"value",label:"Berminat?",labelIcon:null,multiple:!1,type:"bool"},pattern:{chips:!1,clearable:!0,cols:[12,6,6,7],dense:!0,inputType:"autocomplete",items:[],itemSub:null,itemText:"value",itemValue:"value",label:"Pola Tanam Sebelumnya",labelIcon:null,multiple:!1,type:"text"},training:{chips:!1,clearable:!0,cols:[12,12,12,12],dense:!0,inputType:"autocomplete",items:[],itemSub:"material_no",itemText:"material_name",itemValue:"material_no",label:"Materi Pelatihan",labelIcon:null,multiple:!1,type:"text"},kayu:{chips:!0,clearable:!0,cols:[12,12,12,12],dense:!1,inputType:"autocomplete",items:[],itemSub:null,itemText:"tree_name",itemValue:"tree_code",label:"Pohon Kayu yang diminati",labelIcon:null,multiple:!0,type:"text"},mpts:{chips:!0,clearable:!0,cols:[12,12,12,12],dense:!1,inputType:"autocomplete",itemText:"tree_name",itemValue:"tree_code",items:[],label:"Pohon Mpts yang diminati",labelIcon:null,multiple:!0,type:"text"},photo_form_minat:{cols:[12,12,12,12],inputType:"file-input",accept:".jpg,.JPG,.jpeg,.JPEG,.png,.PNG",model:[],preview:!0,label:"Foto Minat",labelIcon:"mdi-camera",items:[],type:"file"}},label:"List Petani",labelIcon:"mdi-list-box",model:[]}},loading:{show:!1,text:"Loading..."},localConfig:{windowWidth:window.innerWidth,breakLayoutFrom:1140,requiredInputIcon:"mdi-star",maxTreesType:3}}},watch:{"inputs.form_date.model":{handler:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.inputs.form_date.modelShow=t._utils.dateFormat(e,"DD MMMM Y");case 1:case"end":return a.stop()}}),a)})))()}},"inputs.kayu.model":{handler:function(e,t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.length,r=a.inputs.mpts.model.length,!(i+r>3)){n.next=7;break}return n.next=5,f.a.fire({title:"Melebihi Batas!",text:"Batas maksimal jumlah jenis adalah 3.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});case 5:n.sent,a.inputs.kayu.model=t;case 7:case"end":return n.stop()}}),n)})))()}},"inputs.mpts.model":{handler:function(e,t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i=e.length,r=a.inputs.kayu.model.length,!(0===r&&i>2)){n.next=7;break}return n.next=5,f.a.fire({title:"Belum Pilih KAYU!",text:"Minimal pilh 1 jenis kayu.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});case 5:n.sent,a.inputs.mpts.model=t;case 7:if(!(r+i>3)){n.next=12;break}return n.next=10,f.a.fire({title:"Melebihi Batas!",text:"Batas maksimal jumlah jenis adalah 3.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});case 10:n.sent,a.inputs.mpts.model=t;case 12:case"end":return n.stop()}}),n)})))()}}},computed:{showModal:{get:function(){return this.show&&(this.inputs.program_year.model=this.programYear,"edit"===this.status&&this.getDetailData(this.form_no)),this.show},set:function(e){e||this.$emit("action",{type:"close",name:"form"})}},disableSave:function(){for(var e=this,t=[],a=0,n=Object.entries(this.inputs);a<n.length;a++){var i=Object(o["a"])(n[a],2),r=i[0],s=i[1];!0===s.required&&("bool"!==s.type&&"array"!==s.type&&(s.model||t.push(r)),"array"===s.type&&0===s.model.length&&requriedEmpty.push(r))}return this.inputs.list_farmer.model.forEach((function(a){if(a.name&&a.respond_to_programs||t.push("list_farmer, name or respond_to_programs"),"Tidak"!=a.respond_to_programs){"Ya"!=a.respond_to_programs||a.training||t.push("list_farmer, training");var n=a.kayu.length,i=a.mpts.length;0===n&&t.push("list_farmer, kayu"),i>e.localConfig.maxTreesType-1&&(f.a.fire({title:"Melebihi Batas!",text:"Jumlah total jenis KAYU + MPTS maksimal adalah ".concat(e.localConfig.maxTreesType,"! Harap KURANGI pilihan jenis MPTS dan MINIMAL memilih 1 jenis KAYU."),icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"}),t.push("list_farmer, mpts")),n+i>e.localConfig.maxTreesType&&(f.a.fire({title:"Melebihi Batas!",text:"Jumlah total jenis KAYU + MPTS maksimal adalah ".concat(e.localConfig.maxTreesType,"! Harap KURANGI jenis pohon untuk bisa MENYIMPAN data."),icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"}),t.push("list_farmer, max_trees"))}})),t.length>0?this.isDisabled=!0:this.isDisabled=!1,this.isDisabled}},mounted:function(){var e=this;this.$nextTick((function(){window.addEventListener("resize",e.onResize)})),this.getDefaultData()},methods:{callApiGet:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,c.a.get(t.$store.getters.getApiUrl(e),t.$store.state.apiConfig);case 3:if(n=a.sent,!n){a.next=9;break}return i=n.data.data.result,a.abrupt("return",i);case 9:return a.abrupt("return",null);case 10:a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](0),t.errorResponse(a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})))()},errorResponse:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(console.log(e),!e.response){a.next=9;break}if(!e.response.status){a.next=9;break}if(401!=e.response.status){a.next=8;break}return a.next=6,f.a.fire({title:"Session Ended!",text:"Please login again.",icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"});case 6:n=a.sent,n&&(localStorage.removeItem("token"),t.$router.push("/"));case 8:500!==e.response.status&&400!==e.response.status||(i=e.response.data.message,i&&i.includes("Duplicate entry")&&(i="Data sudah ada!"),f.a.fire({title:"Error!",text:"".concat(i||e.message),icon:"error",confirmButtonColor:"#f44336"}));case 9:case"end":return a.stop()}}),a)})))()},getDefaultData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("getDefaultData"),e.loading.show=!0,e.loading.text='Preparing "sosialisasi program" form...',e.inputs.form_date.model=d()().format("YYYY-MM-DD"),e.inputs.list_farmer.model=JSON.parse(JSON.stringify(e.inputs.list_farmer.default)),e.loading.text="Getting list management units...",t.next=9,e.getOptionsData({type:"mu_no"});case 9:return e.loading.text="Getting list opsi pola tanam...",t.next=12,e.callApiGet("GetOpsiPolaTanamOptions");case 12:return e.inputs.list_farmer.form.pattern.items=t.sent,e.loading.text="Getting list materi pelatihan...",t.next=16,e.callApiGet("GetTrainingMaterials");case 16:return e.inputs.list_farmer.form.training.items=t.sent,e.loading.text="Getting trees data...",t.next=20,e.callApiGet("GetTreesAll");case 20:return a=t.sent,t.next=23,a.data.filter((function(e){return"Pohon_Kayu"===e.tree_category}));case 23:return n=t.sent,t.next=26,a.data.filter((function(e){return"Pohon_Buah"===e.tree_category}));case 26:i=t.sent,e.inputs.list_farmer.form.kayu.items=n,e.inputs.list_farmer.form.mpts.items=i,t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](0),e.errorResponse(t.t0);case 34:return t.prev=34,e.loading.show=!1,t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[0,31,34,37]])})))()},getOptionsData:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,n="","mu_no"==e.type?n="GetManagementUnit":"target_area"==e.type?n="GetTargetArea?mu_no="+t.inputs.mu_no.model:"village"==e.type&&(n="GetDesa?&kode_ta="+t.inputs.target_area.model),t.$store.state.loadingOverlayText="Getting ".concat(e.type," datas..."),"mu_no"==e.type&&(t.inputs.target_area.model="",t.inputs.target_area.items=[]),["mu_no","target_area"].includes(e.type)&&(t.inputs.village.model="",t.inputs.village.items=[]),""==n){a.next=14;break}return n=t.$store.getters.getApiUrl(n),t.inputs[e.type].model="",t.inputs[e.type].loading=!0,a.next=12,c.a.get(n,t.$store.state.apiConfig);case 12:i=a.sent,t.inputs[e.type].items=i.data.data.result.sort((function(e,t){return e.name.localeCompare(t.name)}));case 14:a.next=20;break;case 16:a.prev=16,a.t0=a["catch"](0),t.errorResponse(a.t0),t.inputs[e.type].items=[];case 20:return a.prev=20,t.$store.state.loadingOverlayText=null,t.inputs[e.type].loading=!1,a.finish(20);case 24:case"end":return a.stop()}}),a,null,[[0,16,20,24]])})))()},inputsListFarmerRequired:function(e,t){return!!["name","respond_to_programs"].includes(e[0])||("Ya"==this.inputs.list_farmer.model[t].respond_to_programs&&!["mpts","pattern"].includes(e[0])||!("Ragu - Ragu"!=this.inputs.list_farmer.model[t].respond_to_programs||!["kayu"].includes(e[0])))},inputsListFarmerRoles:function(e,t){return!!["name","respond_to_programs"].includes(e[0])||!!this.inputs.list_farmer.model[t].respond_to_programs},modifyTotalSubData:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("+"==e){var n=JSON.parse(JSON.stringify(this.inputs[t].default[0]));this.inputs[t].model.push(n)}else"-"==e&&(a?this.inputs[t].model.splice(a,1):this.inputs[t].model.pop())},onResize:function(){this.localConfig.windowWidth=window.innerWidth},save:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#2e7d32",cancelButtonColor:"#d33",cancelButtonText:"Tidak Jadi",confirmButtonText:"Ya, Lanjutkan!"});case 3:if(a=t.sent,!a){t.next=6;break}return t.delegateYield(regeneratorRuntime.mark((function t(){var a,n,i,r,u,p,d,m,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading.show=!0,a={},n="",i="",r=0,u=Object.entries(e.inputs);case 5:if(!(r<u.length)){t.next=17;break}if(p=Object(o["a"])(u[r],2),d=p[0],m=p[1],"list_farmer"!==d){t.next=13;break}return t.next=10,Promise.all(m.model.map(function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(a){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0==a.photo_form_minat){t.next=6;break}return t.next=3,e.uploadFiles("photo","Photo Form Minat",a.photo_form_minat,"sosialisasi_program","photos",Math.round(+new Date/1e3));case 3:i=t.sent,t.next=7;break;case 6:i=a.photo;case 7:return n=[].concat(Object(s["a"])(a.kayu),Object(s["a"])(a.mpts)),t.abrupt("return",{name:a.name,status_program:a.respond_to_programs,photo:i,pattern:a.pattern,training:a.training,tree1:n[0]||null,tree2:n[1]||null,tree3:n[2]||null,tree4:n[3]||null,tree5:n[4]||null});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 10:a[d]=t.sent,t.next=14;break;case 13:a[d]=m.model;case 14:r++,t.next=5;break;case 17:return"edit"==e.status?(a.form_no=e.form_no,console.log("data",a),n="UpdateFormMinat"):n="AddFormMinat",t.next=20,c.a.post(e.$store.getters.getApiUrl("".concat(n)),a,e.$store.state.apiConfig);case 20:f=t.sent,f&&(e.showModal=!1,e.$emit("swal",{type:"success",message:"Yey! Data SosPro saved!"}));case 22:case"end":return t.stop()}}),t)}))(),"t0",6);case 6:t.next=11;break;case 8:t.prev=8,t.t1=t["catch"](0),e.errorResponse(t.t1);case 11:return t.prev=11,e.loading.show=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},setDummyData:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading.text="Set Dummies data.. :)",e.inputs.mu_no.model="021",t.next=4,e.getOptionsData({type:"target_area",id:e.inputs.mu_no.model});case 4:return e.inputs.target_area.model="021003",t.next=7,e.getOptionsData({type:"village",id:e.inputs.target_area.model});case 7:e.inputs.village.model="32.04.39.06",e.inputs.list_farmer.model=[{name:"Kang Asep",respond_to_programs:"Ya",pattern:"Pola Konservasi Pohon Kayu",training:"TR001",kayu:["T0009"],mpts:[]}];case 9:case"end":return t.stop()}}),t)})))()},previewFile:function(e,t){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=e.photo_form_minat,r=URL.createObjectURL(i),n.next=4,a.$set(a.previewPhotoMinat,t,r);case 4:case"end":return n.stop()}}),n)})))()},removePreviewPhotoMinat:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$set(t.previewPhotoMinat,e,null);case 2:case"end":return a.stop()}}),a)})))()},uploadFiles:function(e,t,a,n,i,r){var s=this;return Object(l["a"])(regeneratorRuntime.mark((function o(){var l,u,p,d,m;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.prev=0,s.$store.state.loadingOverlayText='Saving file "'.concat(t,'"...'),l="".concat(s.$store.state.apiUrlImage).concat(n,"/upload.php"),u=a,p=s.generateFormData({dir:i,nama:r,fileToUpload:u,type:e}),d=null,o.next=8,c.a.post(l,p);case 8:if(m=o.sent,!m){o.next=12;break}return d=m.data.data.new_name,o.abrupt("return","".concat(n,"/").concat(d));case 12:o.next=17;break;case 14:o.prev=14,o.t0=o["catch"](0),s.errorResponse(o.t0);case 17:case"end":return o.stop()}}),o,null,[[0,14]])})))()},generateFormData:function(e){var t=new FormData,a=Object.entries(e);return a.forEach((function(e){var a=Object(o["a"])(e,2),n=a[0],i=a[1];Array.isArray(i)?i.map((function(e){t.append(n+"[]",e)})):t.append(n,i)})),t},getDetailData:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function a(){var n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.loading.show=!0,n={form_no:e},a.next=5,c.a.get(t.$store.getters.getApiUrl("GetFormMinatDetail"),Object(r["a"])({params:n},t.$store.state.apiConfig));case 5:if(i=a.sent,!i){a.next=17;break}return s=i.data.data.result,t.inputs.mu_no.model=s.mu_no,a.next=11,t.getOptionsData({type:"target_area",id:t.inputs.mu_no.model});case 11:return t.inputs.target_area.model=s.target_area,a.next=14,t.getOptionsData({type:"village",id:t.inputs.target_area.model});case 14:t.inputs.village.model=s.village,t.inputs.list_farmer.model=s.ListFarmer,t.inputs.list_farmer.model.forEach((function(e,a){t.previewPhotoMinat[a]=t.$store.state.apiUrlImage+e.photo,t.inputs.list_farmer.model[a].photo=e.photo,t.tempDataPhoto[a]=e.photo,t.inputs.list_farmer.model[a].name=e.name,t.inputs.list_farmer.model[a].respond_to_programs=e.status_program,t.inputs.list_farmer.model[a].pattern=e.pattern,t.inputs.list_farmer.model[a].training=e.training,t.inputs.list_farmer.model[a].kayu=[],t.inputs.list_farmer.model[a].mpts=[],null!=e.tree1&&("Pohon_Kayu"==e.tree1.tree_category?t.inputs.list_farmer.model[a].kayu.push(e.tree1.tree_code):t.inputs.list_farmer.model[a].mpts.push(e.tree1.tree_code)),null!=e.tree2&&("Pohon_Kayu"==e.tree2.tree_category?t.inputs.list_farmer.model[a].kayu.push(e.tree2.tree_code):t.inputs.list_farmer.model[a].mpts.push(e.tree2.tree_code)),null!=e.tree3&&("Pohon_Kayu"==e.tree3.tree_category?t.inputs.list_farmer.model[a].kayu.push(e.tree3.tree_code):t.inputs.list_farmer.model[a].mpts.push(e.tree3.tree_code))}));case 17:a.next=22;break;case 19:a.prev=19,a.t0=a["catch"](0),t.errorResponse(a.t0);case 22:return a.prev=22,t.loading.show=!1,a.finish(22);case 25:case"end":return a.stop()}}),a,null,[[0,19,22,25]])})))()},inputsListFarmerChange:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.inputs.list_farmer.model.forEach((function(t,a){t.kayu.length>0?e.isDisabled=!1:e.isDisabled=!0,t.mpts.length>e.localConfig.maxTreesType-1&&(f.a.fire({title:"Melebihi Batas!",text:"Jumlah total jenis KAYU + MPTS maksimal adalah ".concat(e.localConfig.maxTreesType,"! Harap KURANGI pilihan jenis MPTS dan MINIMAL memilih 1 jenis KAYU."),icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"}),e.isDisabled=!0),t.kayu.length+t.mpts.length>e.localConfig.maxTreesType&&(f.a.fire({title:"Melebihi Batas!",text:"Jumlah total jenis KAYU + MPTS maksimal adalah ".concat(e.localConfig.maxTreesType,"! Harap KURANGI jenis pohon untuk bisa MENYIMPAN data."),icon:"warning",confirmButtonColor:"#2e7d32",confirmButtonText:"Okay"}),e.isDisabled=!0)}));case 1:case"end":return t.stop()}}),t)})))()}}}),g=h,v=a("2877"),_=a("6544"),b=a.n(_),x=a("c6a6"),y=a("8336"),w=a("b0af"),k=a("99d9"),C=a("cc20"),S=a("62ad"),T=a("2e4b"),I=a("169a"),O=a("ce7e"),D=a("23a7"),j=a("132d"),M=a("adda"),R=a("5d23"),P=a("e449"),V=a("a797"),$=a("490a"),B=a("0fd9"),A=a("8654"),F=a("3a2f"),L=Object(v["a"])(g,n,i,!1,null,null,null);t["default"]=L.exports;b()(L,{VAutocomplete:x["a"],VBtn:y["a"],VCard:w["a"],VCardActions:k["a"],VCardText:k["c"],VCardTitle:k["d"],VChip:C["a"],VCol:S["a"],VDatePicker:T["a"],VDialog:I["a"],VDivider:O["a"],VFileInput:D["a"],VIcon:j["a"],VImg:M["a"],VListItemContent:R["a"],VListItemSubtitle:R["b"],VListItemTitle:R["c"],VMenu:P["a"],VOverlay:V["a"],VProgressCircular:$["a"],VRow:B["a"],VTextField:A["a"],VTooltip:F["a"]})}}]);
//# sourceMappingURL=chunk-24a1dce0.55489e52.js.map